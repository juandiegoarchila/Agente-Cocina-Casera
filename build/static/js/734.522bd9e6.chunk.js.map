{"version":3,"file":"static/js/734.522bd9e6.chunk.js","mappings":"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","sources":["components/Admin/utilities/exportToExcel.js","components/Admin/utilities/exportToPDF.js","components/Admin/utilities/exportToCSV.js","components/Admin/utils.js","components/Admin/TablaPedidos.js","components/Admin/InteraccionesPedidos.js","components/Admin/OrderManagement.js","components/Admin/utilities/previewOrders.js","components/Admin/utilities/previewExcel.js","utils/classNames.js"],"sourcesContent":["import ExcelJS from 'exceljs';\r\n\r\nexport const exportToExcel = async (orders, totals, deliveryPersons, totalProteinUnits, proteins) => {\r\n  try {\r\n    const workbook = new ExcelJS.Workbook();\r\n    const worksheet = workbook.addWorksheet('Gestión de Pedidos');\r\n\r\n    const cleanText = (text) => {\r\n      if (text == null || text === undefined) return '';\r\n      if (typeof text === 'string') return text.replace(' NUEVO', '').trim();\r\n      if (typeof text === 'boolean') return text.toString();\r\n      if (typeof text === 'object' && text !== null && 'name' in text && typeof text.name === 'string') {\r\n        return text.name.replace(' NUEVO', '').trim();\r\n      }\r\n      return String(text).replace(' NUEVO', '').trim();\r\n    };\r\n\r\n    const applyThinBorder = (cell) => {\r\n      cell.border = {\r\n        top: { style: 'thin', color: { argb: 'FF000000' } },\r\n        left: { style: 'thin', color: { argb: 'FF000000' } },\r\n        bottom: { style: 'thin', color: { argb: 'FF000000' } },\r\n        right: { style: 'thin', color: { argb: 'FF000000' } },\r\n      };\r\n    };\r\n\r\n    // 🟡 1. Resumen de Proteínas\r\n    worksheet.addRow(['', 'PROTEÍNAS DEL DÍA']);\r\n    const proteinHeaderRow = worksheet.lastRow.number;\r\n    worksheet.mergeCells(proteinHeaderRow, 2, proteinHeaderRow, 3);\r\n    const ourHeader = worksheet.getCell(`B${proteinHeaderRow}`);\r\n    ourHeader.font = { bold: true, color: { argb: 'FFFFFFFF' } };\r\n    ourHeader.fill = { type: 'pattern', pattern: 'solid', fgColor: { argb: 'FF0066CC' } };\r\n    ourHeader.alignment = { horizontal: 'center' };\r\n\r\n    worksheet.getRow(proteinHeaderRow + 1).values = ['', 'Proteína', 'Unidades', '', ''];\r\n    const proteinTableHeader = worksheet.getRow(proteinHeaderRow + 1);\r\n    proteinTableHeader.eachCell((cell, colNumber) => {\r\n      if (colNumber === 2 || colNumber === 3) {\r\n        cell.fill = { type: 'pattern', pattern: 'solid', fgColor: { argb: 'FF28A745' } };\r\n        cell.font = { color: { argb: 'FFFFFFFF' }, bold: true };\r\n        cell.alignment = { horizontal: 'center' };\r\n        applyThinBorder(cell);\r\n      }\r\n      if (colNumber === 4 || colNumber === 5) {\r\n        cell.value = '';\r\n      }\r\n    });\r\n\r\n    const proteinData = proteins.length === 0\r\n      ? [{ name: '-', quantity: '-', extra: '', extraValue: '' }]\r\n      : [\r\n          ...proteins.slice(0, -2),\r\n          {\r\n            name: proteins[proteins.length - 2]?.name || '-',\r\n            quantity: proteins[proteins.length - 2]?.quantity || '-',\r\n            extra: 'TOTAL PROTEÍNAS:',\r\n            extraValue: totalProteinUnits.toLocaleString('es-CO'),\r\n          },\r\n          {\r\n            name: proteins[proteins.length - 1]?.name || '-',\r\n            quantity: proteins[proteins.length - 1]?.quantity || '-',\r\n            extra: 'Fecha actual:',\r\n            extraValue: `${String(new Date().getDate()).padStart(2, '0')}/${String(new Date().getMonth() + 1).padStart(2, '0')}/${new Date().getFullYear()}`,\r\n          },\r\n        ];\r\n\r\n    proteinData.forEach((protein, index) => {\r\n      const row = worksheet.addRow(['', cleanText(protein.name), protein.quantity, protein.extra, protein.extraValue]);\r\n      row.eachCell((cell, colNumber) => {\r\n        if (colNumber >= 2) {\r\n          if (index >= proteinData.length - 2 || colNumber === 2 || colNumber === 3) {\r\n            applyThinBorder(cell);\r\n          }\r\n          if (colNumber === 3) {\r\n            cell.numFmt = '#,##0';\r\n            cell.alignment = { horizontal: 'right' };\r\n          }\r\n          if (colNumber === 4) cell.alignment = { horizontal: 'left' };\r\n          if (colNumber === 5) cell.alignment = { horizontal: 'right' };\r\n        }\r\n      });\r\n    });\r\n\r\n    worksheet.addRow({});\r\n    worksheet.addRow({});\r\n\r\n    // 🟢 2. Pedidos\r\n    let mealCounter = 0;\r\n    const pedidos = orders.map((order, index) => {\r\n      mealCounter += 1;\r\n      const meal = order.meals?.[0] || {};\r\n      const paymentValue = order.payment || (typeof meal.payment === 'object' && meal.payment?.name) || meal.payment || 'Efectivo';\r\n      if (!paymentValue || (typeof paymentValue === 'object' && !('name' in paymentValue))) {\r\n        console.warn(`Invalid payment data in order ${order.id || index}:`, { order, paymentValue });\r\n      }\r\n      return {\r\n        N: mealCounter,\r\n        Dirección: cleanText(meal.address?.address),\r\n        Teléfono: cleanText(meal.address?.phoneNumber),\r\n        Total: order.total || 0,\r\n        MétodoDePago: cleanText(paymentValue),\r\n        Domiciliario: cleanText(order.deliveryPerson || 'Sin asignar'),\r\n      };\r\n    });\r\n\r\n    if (pedidos.length === 0) {\r\n      pedidos.push({ N: '-', Dirección: '-', Teléfono: '-', Total: '-', MétodoDePago: '-', Domiciliario: '-' });\r\n    }\r\n\r\n    worksheet.columns = [\r\n      { key: 'N', width: 10 },\r\n      { key: 'Dirección', width: 30 },\r\n      { key: 'Teléfono', width: 15 },\r\n      { key: 'Total', width: 15 },\r\n      { key: 'MétodoDePago', width: 15 },\r\n      { key: 'Domiciliario', width: 25 },\r\n    ];\r\n\r\n    const pedidosHeaderRow = proteinData.length + 4;\r\n    const headerRow = worksheet.getRow(pedidosHeaderRow);\r\n    headerRow.values = ['N', 'Dirección', 'Teléfono', 'Total', 'Método de Pago', 'Domiciliario'];\r\n    headerRow.eachCell(cell => {\r\n      cell.fill = { type: 'pattern', pattern: 'solid', fgColor: { argb: 'FF0066CC' } };\r\n      cell.font = { color: { argb: 'FFFFFFFF' }, bold: true };\r\n      cell.alignment = { horizontal: 'center' };\r\n      applyThinBorder(cell);\r\n    });\r\n\r\n    pedidos.forEach(pedido => {\r\n      const row = worksheet.addRow(pedido);\r\n      row.eachCell(cell => applyThinBorder(cell));\r\n    });\r\n\r\n    worksheet.addRow({});\r\n    worksheet.addRow({});\r\n\r\n    // 🟠 3. Resumen de Totales\r\n    worksheet.addRow([]);\r\n    const resumenRow = worksheet.lastRow.number;\r\n    worksheet.getCell(`C${resumenRow}`).value = 'Resumen de Totales';\r\n    worksheet.mergeCells(`C${resumenRow}:D${resumenRow}`);\r\n    const resumenCell = worksheet.getCell(`C${resumenRow}`);\r\n    resumenCell.font = { bold: true, color: { argb: 'FFFFFFFF' } };\r\n    resumenCell.fill = { type: 'pattern', pattern: 'solid', fgColor: { argb: 'FF0066CC' } };\r\n    resumenCell.alignment = { horizontal: 'center' };\r\n    applyThinBorder(resumenCell);\r\n    applyThinBorder(worksheet.getCell(`D${resumenRow}`));\r\n\r\n    const resumenData = [\r\n      ['Total Efectivo', totals.cash || 0],\r\n      ['Total Daviplata', totals.daviplata || 0],\r\n      ['Total Nequi', totals.nequi || 0],\r\n      ['Total General', (totals.cash || 0) + (totals.daviplata || 0) + (totals.nequi || 0)],\r\n    ];\r\n\r\n    resumenData.forEach(([label, value]) => {\r\n      const row = worksheet.addRow(['', '', label, value]);\r\n      row.getCell(3).alignment = { horizontal: 'left' };\r\n      row.getCell(4).alignment = { horizontal: 'right' };\r\n      row.getCell(4).numFmt = '$#,##0';\r\n      row.getCell(4).font = { bold: true };\r\n      applyThinBorder(row.getCell(3));\r\n      applyThinBorder(row.getCell(4));\r\n    });\r\n\r\n    worksheet.addRow({});\r\n    worksheet.addRow({});\r\n\r\n    // 🔵 4. Resumen por Domiciliarios\r\n    worksheet.addRow(['', 'Resumen por Domiciliarios']);\r\n    const resumenDomiciliariosRow = worksheet.lastRow.number;\r\n    worksheet.mergeCells(resumenDomiciliariosRow, 2, resumenDomiciliariosRow, 6);\r\n    const deliveryHeader = worksheet.getCell(`B${resumenDomiciliariosRow}`);\r\n    deliveryHeader.font = { bold: true, color: { argb: 'FFFFFFFF' } };\r\n    deliveryHeader.fill = { type: 'pattern', pattern: 'solid', fgColor: { argb: 'FF0066CC' } };\r\n    deliveryHeader.alignment = { horizontal: 'center' };\r\n    for (let i = 2; i <= 6; i++) applyThinBorder(worksheet.getCell(resumenDomiciliariosRow, i));\r\n\r\n    worksheet.addRow(['', 'Domiciliario', 'Efectivo', 'Daviplata', 'Nequi', 'Total']);\r\n    const domHeader = worksheet.lastRow;\r\n    domHeader.eachCell((cell, colNumber) => {\r\n      if (colNumber >= 2) {\r\n        cell.fill = { type: 'pattern', pattern: 'solid', fgColor: { argb: 'FF28A745' } };\r\n        cell.font = { color: { argb: 'FFFFFFFF' }, bold: true };\r\n        cell.alignment = { horizontal: 'center' };\r\n        applyThinBorder(cell);\r\n      }\r\n    });\r\n\r\n    Object.entries(deliveryPersons).forEach(([name, data]) => {\r\n      const row = worksheet.addRow([\r\n        '',\r\n        cleanText(name),\r\n        data.cash || 0,\r\n        data.daviplata || 0,\r\n        data.nequi || 0,\r\n        data.total || 0,\r\n      ]);\r\n      row.eachCell((cell, colNumber) => {\r\n        if (colNumber >= 2) {\r\n          if (colNumber >= 3) {\r\n            cell.numFmt = '$#,##0';\r\n            cell.alignment = { horizontal: 'right' };\r\n          }\r\n          applyThinBorder(cell);\r\n        }\r\n      });\r\n    });\r\n\r\n    const buffer = await workbook.xlsx.writeBuffer();\r\n    const blob = new Blob([buffer], { type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet' });\r\n    const link = document.createElement('a');\r\n    link.href = window.URL.createObjectURL(blob);\r\n    link.download = `pedidos_${new Date().toISOString().slice(0, 10)}.xlsx`;\r\n    document.body.appendChild(link);\r\n    link.click();\r\n    document.body.removeChild(link);\r\n  } catch (error) {\r\n    console.error('Error al exportar Excel:', error);\r\n    alert('Error al generar el archivo Excel: ' + error.message);\r\n  }\r\n};","import jsPDF from 'jspdf';\r\nimport autoTable from 'jspdf-autotable';\r\n\r\nexport const exportToPDF = async (orders, totals = {}, deliveryPersons = {}) => {\r\n  try {\r\n    const doc = new jsPDF();\r\n\r\n    const logoUrl = '/logo.png'; // Asegúrate de que esta ruta sea accesible\r\n    try {\r\n      doc.addImage(logoUrl, 'PNG', 160, 10, 30, 20);\r\n    } catch (imgError) {\r\n      console.warn('No se pudo cargar el logo para el PDF:', imgError);\r\n    }\r\n\r\n    doc.setFontSize(16);\r\n    doc.text('Gestión de Pedidos', 14, 20);\r\n    doc.setFontSize(12);\r\n    const now = new Date();\r\n    const dateStr = now.toLocaleDateString('es-CO');\r\n    const timeStr = now.toLocaleTimeString('es-CO', { hour: '2-digit', minute: '2-digit', hour12: true });\r\n    doc.text(`Fecha: ${dateStr} ${timeStr}`, 14, 30);\r\n\r\nlet mealCounter = 0;\r\nconst pedidosBody = orders.map((order) => {\r\n  mealCounter += 1;\r\n  const meal = order.meals?.[0] || {};\r\n  const paymentMethod = order.payment?.name || order.payment || meal.payment?.name || meal.payment || 'Efectivo';\r\n\r\n  return [\r\n    mealCounter,\r\n    meal.address?.address || '',\r\n    meal.address?.phoneNumber || '',\r\n    `$${order.total?.toLocaleString('es-CO') || '0'}`,\r\n    paymentMethod,\r\n    order?.deliveryPerson || ''\r\n  ];\r\n});\r\n\r\nif (pedidosBody.length === 0) pedidosBody.push(Array(6).fill('-'));\r\n\r\n\r\n    if (pedidosBody.length === 0) pedidosBody.push(Array(5).fill('-'));\r\n\r\n    autoTable(doc, {\r\n      startY: 40,\r\n      head: [['N', 'Dirección', 'Teléfono', 'Total', 'Domiciliario']],\r\n      body: pedidosBody,\r\n      styles: { fontSize: 8, cellPadding: 2, overflow: 'linebreak' },\r\n      headStyles: { fillColor: [0, 102, 204], textColor: 255, fontStyle: 'bold', lineWidth: 0.2, lineColor: [0, 0, 0] },\r\n      alternateRowStyles: { fillColor: [245, 245, 245] },\r\n      columnStyles: {\r\n        1: { cellWidth: 'wrap' },\r\n        3: { halign: 'right' }\r\n      },\r\n      tableLineColor: [0, 0, 0],\r\n      tableLineWidth: 0.2,\r\n      didDrawPage: (data) => {\r\n        doc.setFontSize(10);\r\n        doc.text(`Página ${data.pageNumber}`, 180, 287);\r\n      }\r\n    });\r\n\r\n    const finalY = doc.lastAutoTable.finalY + 10;\r\n    doc.setFontSize(14);\r\n    doc.text('Resumen de Totales', 14, finalY);\r\n\r\n    autoTable(doc, {\r\n      startY: finalY + 5,\r\n      head: [['Concepto', 'Monto']],\r\n      body: [\r\n        ['Total Efectivo', `$${totals.cash?.toLocaleString('es-CO') || '0'}`],\r\n        ['Total Daviplata', `$${totals.daviplata?.toLocaleString('es-CO') || '0'}`],\r\n        ['Total Nequi', `$${totals.nequi?.toLocaleString('es-CO') || '0'}`],\r\n        ['Total General', `$${(totals.cash + totals.daviplata + totals.nequi || 0).toLocaleString('es-CO')}`]\r\n      ],\r\n      styles: { fontSize: 10, cellPadding: 2, overflow: 'linebreak' },\r\n      headStyles: { fillColor: [0, 102, 204], textColor: 255, fontStyle: 'bold', lineWidth: 0.2, lineColor: [0, 0, 0] },\r\n      columnStyles: { 1: { halign: 'right' } },\r\n      tableLineColor: [0, 0, 0],\r\n      tableLineWidth: 0.2\r\n    });\r\n\r\n    const deliveryY = doc.lastAutoTable.finalY + 10;\r\n    doc.setFontSize(14);\r\n    doc.text('Resumen por Domiciliarios', 14, deliveryY);\r\n\r\n    const deliveryBody = Object.entries(deliveryPersons).map(([name, data]) => [\r\n      name || '',\r\n      `$${data.cash?.toLocaleString('es-CO') || '0'}`,\r\n      `$${data.daviplata?.toLocaleString('es-CO') || '0'}`,\r\n      `$${data.nequi?.toLocaleString('es-CO') || '0'}`,\r\n      `$${data.total?.toLocaleString('es-CO') || '0'}`\r\n    ]);\r\n\r\n    autoTable(doc, {\r\n      startY: deliveryY + 5,\r\n      head: [['Domiciliario', 'Efectivo', 'Daviplata', 'Nequi', 'Total']],\r\n      body: deliveryBody.length > 0 ? deliveryBody : [['-', '-', '-', '-', '-']],\r\n      styles: { fontSize: 8, cellPadding: 2, overflow: 'linebreak' },\r\n      headStyles: { fillColor: [0, 102, 204], textColor: 255, fontStyle: 'bold', lineWidth: 0.2, lineColor: [0, 0, 0] },\r\n      columnStyles: {\r\n        1: { halign: 'right' },\r\n        2: { halign: 'right' },\r\n        3: { halign: 'right' },\r\n        4: { halign: 'right' }\r\n      },\r\n      tableLineColor: [0, 0, 0],\r\n      tableLineWidth: 0.2\r\n    });\r\n\r\n    doc.save(`pedidos_${new Date().toISOString().split('T')[0]}.pdf`);\r\n  } catch (error) {\r\n    console.error('Error al generar el PDF:', error);\r\n    alert('Error al generar el PDF: ' + error.message);\r\n  }\r\n};","export const exportToCSV = (orders, totals, deliveryPersons, setSuccess) => {\r\n  const headers = [\r\n    'ID Pedido', 'Nº Bandeja', 'Sopa', 'Principio', 'Proteína', 'Bebida', 'Cubiertos', 'Acompañamientos', 'Adiciones', 'Notas',\r\n    'Hora de Entrega', 'Dirección', 'Tipo de Lugar', 'Nombre del Local', 'Nombre del Destinatario', 'Detalles de Unidad',\r\n    'Teléfono', 'Pago (Bandeja)', 'Total (COP)', 'Pago (General)', 'Domiciliario', 'Estado', 'Fecha de Creación', 'Última Actualización'\r\n  ];\r\n\r\n  const orderRows = orders.flatMap(order => \r\n    order.meals.map((meal, index) => [\r\n      order.id, index + 1, meal.soup?.name || meal.soup || 'Sin sopa',\r\n      Array.isArray(meal.principle) ? meal.principle.map(p => p.name || p).join(', ') : meal.principle?.name || meal.principle || 'Sin principio',\r\n      meal.protein?.name || meal.protein || 'Sin proteína', meal.drink?.name || meal.drink || 'Sin bebida',\r\n      meal.cutlery?.name || meal.cutlery || 'No', meal.sides?.map(s => s.name || s).join(', ') || 'Ninguno',\r\n      meal.additions?.map(a => `${a.name || ''}${a.protein || a.replacement ? ` (${a.protein || a.replacement})` : ''} (${a.quantity || 1})`).join(', ') || 'Ninguna',\r\n      meal.notes || 'Ninguna', meal.time?.name || meal.time || 'No especificada', meal.address?.address || 'Sin dirección',\r\n      meal.address?.addressType || 'No especificado', meal.address?.localName || '', meal.address?.recipientName || '',\r\n      meal.address?.unitDetails || '', meal.address?.phoneNumber || 'No especificado',\r\n      meal.payment?.name || meal.payment || 'Efectivo', `$${order.total?.toLocaleString('es-CO') || '0'}`,\r\n      order.payment || 'Efectivo', order.deliveryPerson || 'Sin asignar', order.status || 'Pendiente',\r\n      order.createdAt ? new Date(order.createdAt.seconds * 1000).toLocaleString('es-CO') : 'N/A',\r\n      order.updatedAt ? new Date(order.updatedAt.seconds * 1000).toLocaleString('es-CO') : 'N/A',\r\n    ].map(cell => `\"${String(cell || '').replace(/\"/g, '\"\"')}\"`))\r\n  );\r\n\r\n  const totalsRows = [\r\n    ['Total Efectivo', `$${totals.cash.toLocaleString('es-CO')}`],\r\n    ['Total Daviplata', `$${totals.daviplata.toLocaleString('es-CO')}`],\r\n    ['Total Nequi', `$${totals.nequi.toLocaleString('es-CO')}`],\r\n    ['Total General', `$${(totals.cash + totals.daviplata + totals.nequi).toLocaleString('es-CO')}`],\r\n  ].map(row => row.map(cell => `\"${String(cell || '').replace(/\"/g, '\"\"')}\"`));\r\n\r\n  const deliveryRows = Object.entries(deliveryPersons).map(([name, data]) => [\r\n    name, `$${data.cash.toLocaleString('es-CO')}`, `$${data.daviplata.toLocaleString('es-CO')}`, \r\n    `$${data.nequi.toLocaleString('es-CO')}`, `$${data.total.toLocaleString('es-CO')}`\r\n  ].map(cell => `\"${String(cell || '').replace(/\"/g, '\"\"')}\"`));\r\n\r\n  const csvContent = [\r\n    headers.join(','),\r\n    ...orderRows,\r\n    '',\r\n    '\"Resumen de Totales\"',\r\n    '\"Concepto\",\"Monto (COP)\"',\r\n    ...totalsRows,\r\n    '\"Resumen por Domiciliarios\"',\r\n    '\"Domiciliario\",\"Efectivo (COP)\",\"Daviplata (COP)\",\"Nequi (COP)\",\"Total (COP)\"',\r\n    ...deliveryRows,\r\n  ].join('\\n');\r\n\r\n  const blob = new Blob([csvContent], { type: 'text/csv;charset=utf-8;' });\r\n  const url = window.URL.createObjectURL(blob);\r\n  const a = document.createElement('a');\r\n  a.href = url;\r\n  a.download = `pedidos_${new Date().toISOString().split('T')[0]}.csv`;\r\n  a.click();\r\n  window.URL.revokeObjectURL(url);\r\n  setSuccess('Pedidos exportados a CSV.');\r\n};","export const cleanText = (text) => {\r\n  if (text == null) return '';\r\n  if (typeof text === 'string') return text.replace(' NUEVO', '').trim();\r\n  if (typeof text === 'boolean') return text.toString();\r\n  if (typeof text === 'object' && text?.name) return text.name.replace(' NUEVO', '').trim();\r\n  return String(text).replace(' NUEVO', '').trim();\r\n};\r\n\r\nexport const getNestedProperty = (obj, path) => {\r\n  if (!obj || !path) return '';\r\n  return path.split('.').reduce((acc, part) => (acc && acc[part] !== undefined ? acc[part] : ''), obj);\r\n};\r\n\r\nexport const getAddressDisplay = (address) => {\r\n  if (!address?.address) return 'Sin dirección';\r\n  let display = address.address;\r\n  switch (address.addressType) {\r\n    case 'school': if (address.recipientName) display += ` (Recibe: ${cleanText(address.recipientName)})`; break;\r\n    case 'complex': if (address.unitDetails) display += ` (${cleanText(address.unitDetails)})`; break;\r\n    case 'shop': if (address.localName) display += ` (${cleanText(address.localName)})`; break;\r\n    default: break;\r\n  }\r\n  return display;\r\n};\r\n\r\nexport const getMealDetailsDisplay = (meal) => {\r\n  const components = [];\r\n  const soupDisplay = meal.soupReplacement?.name || meal.soupReplacement ? `${cleanText(meal.soupReplacement?.name || meal.soupReplacement)} (por sopa)` : meal.soup?.name || meal.soup ? cleanText(meal.soup?.name || meal.soup) : 'Sin sopa';\r\n  components.push(`Sopa: ${soupDisplay}`);\r\n  let principleDisplay;\r\n  if (meal.principleReplacement?.name || meal.principleReplacement) {\r\n    principleDisplay = `${cleanText(meal.principleReplacement?.name || meal.principleReplacement)} (por principio)`;\r\n  } else if (Array.isArray(meal.principle) && meal.principle.length > 0) {\r\n    const principleNames = meal.principle.map(p => cleanText(p.name || p)).filter(Boolean);\r\n    principleDisplay = principleNames.length > 0 ? principleNames.join(', ') : 'Sin principio';\r\n  } else if (meal.principle?.name || meal.principle) {\r\n    principleDisplay = cleanText(meal.principle?.name || meal.principle);\r\n  } else {\r\n    principleDisplay = 'Sin principio';\r\n  }\r\n  components.push(`Principio: ${principleDisplay}`);\r\n  components.push(`Proteína: ${meal.protein?.name || meal.protein ? cleanText(meal.protein?.name || meal.protein) : 'Sin proteína'}`);\r\n  const drinkName = meal.drink?.name || meal.drink || '';\r\n  components.push(`Bebida: ${drinkName === 'Juego de mango' ? 'Jugo de mango' : cleanText(drinkName) || 'Sin bebida'}`);\r\n  components.push(`Cubiertos: ${meal.cutlery?.name === 'Sí' || meal.cutlery === true || meal.cutlery === 'true' ? 'Sí' : 'No'}`);\r\n  const sides = meal.sides?.length > 0 ? meal.sides.map(s => cleanText(s.name || s)).filter(Boolean).join(', ') : 'Ninguno';\r\n  components.push(`Acompañamientos: ${sides}`);\r\n  const additions = meal.additions?.length > 0 ? meal.additions.map(a => `${cleanText(a.name || a)}${a.protein || a.replacement ? ` (${cleanText(a.protein || a.replacement)})` : ''} (${a.quantity || 1})`).join(', ') : 'Ninguna';\r\n  components.push(`Adiciones: ${additions}`);\r\n  components.push(`Notas: ${meal.notes ? cleanText(meal.notes) : 'Ninguna'}`);\r\n  components.push(`Hora de Entrega: ${meal.time?.name || meal.time ? cleanText(meal.time?.name || meal.time) : 'No especificada'}`);\r\n  components.push(`Dirección: ${getAddressDisplay(meal.address)}`);\r\n  let addressTypeDisplay = '';\r\n  switch (meal.address?.addressType) {\r\n    case 'house': addressTypeDisplay = 'Casa/Apto'; break;\r\n    case 'school': addressTypeDisplay = 'Colegio/Oficina'; break;\r\n    case 'complex': addressTypeDisplay = 'Conjunto'; break;\r\n    case 'shop': addressTypeDisplay = 'Tienda/Local'; break;\r\n    default: addressTypeDisplay = 'No especificado'; break;\r\n  }\r\n  components.push(`Tipo de Lugar: ${addressTypeDisplay}`);\r\n  components.push(`Teléfono: ${meal.address?.phoneNumber ? cleanText(meal.address.phoneNumber) : 'No especificado'}`);\r\n  if (meal.address?.addressType === 'shop' && meal.address?.localName) components.push(`Nombre del Local: ${cleanText(meal.address.localName)}`);\r\n  if (meal.address?.addressType === 'school' && meal.address?.recipientName) components.push(`Recibe: ${cleanText(meal.address.recipientName)}`);\r\n  if (meal.address?.addressType === 'complex' && meal.address?.unitDetails) components.push(`Unidad: ${cleanText(meal.address.unitDetails)}`);\r\n  components.push(`Pago: ${meal.payment?.name || meal.payment ? cleanText(meal.payment?.name || meal.payment) : 'Efectivo'}`);\r\n  return components.join('\\n');\r\n};\r\n\r\nexport const areMealsIdentical = (meals) => {\r\n  if (!meals || meals.length <= 1) return { areIdentical: false, count: 1 };\r\n  const fieldsToCompare = [\r\n    'soup', 'soupReplacement', 'principle', 'principleReplacement', 'protein', 'drink', 'cutlery', 'notes', 'time', 'payment',\r\n    'address.address', 'address.addressType', 'address.phoneNumber', 'address.localName', 'address.recipientName', 'address.unitDetails', 'sides', 'additions'\r\n  ];\r\n  const getMealSignature = (meal) => {\r\n    return fieldsToCompare.map(field => {\r\n      const value = getNestedProperty(meal, field);\r\n      if (field === 'sides' && Array.isArray(value)) return value.map(s => cleanText(s.name || s)).sort().join(',');\r\n      if (field === 'additions' && Array.isArray(value)) return value.map(a => `${cleanText(a.name || a)}${a.protein || a.replacement ? `:${cleanText(a.protein || a.replacement)}` : ''}:${a.quantity || 1}`).sort().join(';');\r\n      if (field === 'principle' && Array.isArray(value)) return value.map(p => cleanText(p.name || p)).sort().join(',');\r\n      return cleanText(value);\r\n    }).join('|');\r\n  };\r\n  const firstSignature = getMealSignature(meals[0]);\r\n  const areIdentical = meals.every(meal => getMealSignature(meal) === firstSignature);\r\n  return { areIdentical, count: meals.length };\r\n};","import React, { useRef, useEffect } from 'react'; // Import useRef and useEffect\r\nimport { classNames } from '../../utils/classNames.js';\r\nimport { cleanText, getAddressDisplay } from './utils';\r\nimport { ArrowDownTrayIcon, ChevronLeftIcon, ChevronRightIcon, InformationCircleIcon, PencilIcon, TrashIcon, EllipsisVerticalIcon, PlusIcon } from '@heroicons/react/24/outline';\r\n\r\nconst TablaPedidos = ({\r\n  theme,\r\n  orders,\r\n  searchTerm,\r\n  setSearchTerm,\r\n  totals,\r\n  isLoading,\r\n  paginatedOrders,\r\n  currentPage,\r\n  totalPages,\r\n  setCurrentPage,\r\n  itemsPerPage,\r\n  setItemsPerPage,\r\n  deliveryPersons,\r\n  handleEditOrder,\r\n  handleDeleteOrder,\r\n  handleStatusChange,\r\n  handleSort,\r\n  getSortIcon,\r\n  setShowMealDetails,\r\n  editingDeliveryId,\r\n  setEditingDeliveryId,\r\n  editForm,\r\n  setEditForm,\r\n  handleDeliveryChange,\r\n  sortOrder,\r\n  showProteinModal,\r\n  setShowProteinModal,\r\n  isMenuOpen,\r\n  setIsMenuOpen,\r\n  handleOpenPreview,\r\n  handleOpenExcelPreview,\r\n  handleExport,\r\n  handleDeleteAllOrders,\r\n  setShowConfirmDeleteAll,\r\n  exportToExcel,\r\n  exportToPDF,\r\n  exportToCSV,\r\n  // NUEVA PROP\r\n  setShowAddOrderModal,\r\n}) => {\r\n  const currentDate = new Date().toLocaleDateString('es-CO', {\r\n    weekday: 'long',\r\n    month: 'long',\r\n    day: 'numeric',\r\n  });\r\n\r\n  // Create a ref for the menu container\r\n  const menuRef = useRef(null);\r\n\r\n  // Effect to handle clicks outside the menu\r\n  useEffect(() => {\r\n    function handleClickOutside(event) {\r\n      if (menuRef.current && !menuRef.current.contains(event.target)) {\r\n        setIsMenuOpen(false); // Close the menu if clicked outside\r\n      }\r\n    }\r\n\r\n    // Bind the event listener\r\n    if (isMenuOpen) {\r\n      document.addEventListener(\"mousedown\", handleClickOutside);\r\n    }\r\n\r\n    // Unbind the event listener on cleanup\r\n    return () => {\r\n      document.removeEventListener(\"mousedown\", handleClickOutside);\r\n    };\r\n  }, [isMenuOpen, setIsMenuOpen]); // Re-run effect when isMenuOpen changes\r\n\r\n  return (\r\n    <>\r\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n        <h2 className=\"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100 mb-6\">Gestión de Pedidos</h2>\r\n\r\n        {/* Totals Section */}\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6 text-sm text-gray-700 dark:text-gray-300\">\r\n          <div className={classNames(\"p-3 sm:p-4 rounded-lg shadow-sm\", theme === 'dark' ? 'bg-gray-700' : 'bg-gray-100')}>\r\n            <p className=\"font-semibold text-sm sm:text-base\">Total Efectivo</p>\r\n            <p className=\"text-lg sm:text-xl font-bold\">${totals.cash.toLocaleString('es-CO')}</p>\r\n          </div>\r\n          <div className={classNames(\"p-3 sm:p-4 rounded-lg shadow-sm\", theme === 'dark' ? 'bg-gray-700' : 'bg-gray-100')}>\r\n            <p className=\"font-semibold text-sm sm:text-base\">Total Daviplata</p>\r\n            <p className=\"text-lg sm:text-xl font-bold\">${totals.daviplata.toLocaleString('es-CO')}</p>\r\n          </div>\r\n          <div className={classNames(\"p-3 sm:p-4 rounded-lg shadow-sm\", theme === 'dark' ? 'bg-gray-700' : 'bg-gray-100')}>\r\n            <p className=\"font-semibold text-sm sm:text-base\">Total Nequi</p>\r\n            <p className=\"text-lg sm:text-xl font-bold\">${totals.nequi.toLocaleString('es-CO')}</p>\r\n          </div>\r\n          <div className={classNames(\"p-3 sm:p-4 rounded-lg shadow-sm\", theme === 'dark' ? 'bg-gray-700' : 'bg-gray-100')}>\r\n            <p className=\"font-semibold text-sm sm:text-base\">Total General</p>\r\n            <p className=\"text-lg sm:text-xl font-bold\">${(totals.cash + totals.daviplata + totals.nequi).toLocaleString('es-CO')}</p>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Search, Proteins, Date, and Menu */}\r\n        <div className=\"flex flex-wrap justify-center sm:justify-between items-center mb-6 gap-3 sm:gap-4\">\r\n          <input\r\n            type=\"text\"\r\n            value={searchTerm}\r\n            onChange={e => setSearchTerm(e.target.value)}\r\n            placeholder=\"Buscar pedidos...\"\r\n            className={classNames(\r\n              \"p-2 sm:p-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-500 w-full sm:max-w-xs shadow-sm text-sm sm:text-base transition-all duration-200\",\r\n              theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-300 bg-white text-gray-900'\r\n            )}\r\n          />\r\n          <div className=\"flex flex-wrap items-center justify-center sm:justify-end gap-2\">\r\n            <button\r\n              onClick={() => setShowProteinModal(true)}\r\n              className={classNames(\r\n                \"flex items-center justify-center gap-2 px-3 py-2 sm:px-5 sm:py-3 rounded-lg text-xs sm:text-sm font-semibold transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 flex-shrink-0\",\r\n                theme === 'dark'\r\n                  ? 'bg-gray-600 hover:bg-gray-500 text-white border border-gray-500'\r\n                  : 'bg-gray-200 hover:bg-gray-300 text-gray-900 border border-gray-400'\r\n              )}\r\n            >\r\n              <PlusIcon className=\"w-4 h-4\" />\r\n              <span className=\"hidden md:inline\">Proteínas del Día</span>\r\n            </button>\r\n            <div\r\n              className={classNames(\r\n                \"flex items-center justify-center gap-2 px-3 py-2 sm:px-5 sm:py-3 rounded-lg text-xs sm:text-sm font-semibold shadow-sm border transition-colors duration-200 flex-shrink-0\",\r\n                theme === 'dark'\r\n                  ? 'bg-gray-700 text-white border-gray-500'\r\n                  : 'bg-gray-200 text-gray-900 border-gray-400'\r\n              )}\r\n            >\r\n              {currentDate}\r\n            </div>\r\n            {/* Added ref to the menu container */}\r\n            <div className=\"relative z-50 flex-shrink-0\" ref={menuRef}>\r\n              <button\r\n                onClick={() => setIsMenuOpen(!isMenuOpen)}\r\n                className={classNames(\r\n                  \"flex items-center justify-center p-2 rounded-lg text-xs sm:text-sm font-medium transition-all duration-200\",\r\n                  // Removed background and hover background classes to make it transparent\r\n                  // Removed text color classes to inherit from parent, or set explicitly if needed\r\n                  // Added focus ring for accessibility\r\n                  'focus:outline-none focus:ring-2 focus:ring-blue-500'\r\n                )}\r\n                aria-label=\"Opciones de menú\"\r\n              >\r\n                <EllipsisVerticalIcon\r\n                  className={classNames(\r\n                    \"w-6 h-6\",\r\n                    theme === 'dark' ? 'text-gray-200 hover:text-white' : 'text-gray-700 hover:text-gray-900' // Ensure icon color is visible\r\n                  )}\r\n                />\r\n              </button>\r\n              {isMenuOpen && (\r\n                <div className={classNames(\r\n                  \"absolute right-0 mt-2 w-48 rounded-lg shadow-xl z-50\",\r\n                  theme === 'dark' ? 'bg-gray-700 text-gray-200' : 'bg-white text-gray-900'\r\n                )}>\r\n                  <div className=\"py-1\">\r\n                    {/* NUEVO BOTÓN PARA GENERAR ORDEN */}\r\n                    <button\r\n                      onClick={() => { setShowAddOrderModal(true); setIsMenuOpen(false); }}\r\n                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-200\"\r\n                    >\r\n                      Generar Orden\r\n                    </button>\r\n                    <button\r\n                      onClick={() => { handleOpenPreview(); setIsMenuOpen(false); }}\r\n                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-200\"\r\n                    >\r\n                      Vista Previa PDF\r\n                    </button>\r\n                    <button\r\n                      onClick={() => { handleOpenExcelPreview(); setIsMenuOpen(false); }}\r\n                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-200\"\r\n                    >\r\n                      Vista Previa Excel\r\n                    </button>\r\n                    <button\r\n                      onClick={() => { handleExport(exportToExcel, 'Excel'); setIsMenuOpen(false); }}\r\n                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-200 flex items-center\"\r\n                    >\r\n                      <ArrowDownTrayIcon className=\"w-4 h-4 mr-2\" />\r\n                      Exportar Excel\r\n                    </button>\r\n                    <button\r\n                      onClick={() => { handleExport(exportToPDF, 'PDF'); setIsMenuOpen(false); }}\r\n                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-200 flex items-center\"\r\n                    >\r\n                      <ArrowDownTrayIcon className=\"w-4 h-4 mr-2\" />\r\n                      Exportar PDF\r\n                    </button>\r\n                    <button\r\n                      onClick={() => { handleExport(exportToCSV, 'CSV'); setIsMenuOpen(false); }}\r\n                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-200 flex items-center\"\r\n                    >\r\n                      <ArrowDownTrayIcon className=\"w-4 h-4 mr-2\" />\r\n                      Exportar CSV\r\n                    </button>\r\n                    <button\r\n                      onClick={() => { setShowConfirmDeleteAll(true); setIsMenuOpen(false); }}\r\n                      className=\"block w-full text-left px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-gray-600 transition-all duration-200 text-red-500\"\r\n                    >\r\n                      Eliminar Todos\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Orders Table */}\r\n        <div className={classNames(\r\n          \"p-3 sm:p-4 rounded-2xl shadow-xl max-h-[70vh] overflow-y-auto custom-scrollbar transition-all duration-300\",\r\n          theme === 'dark' ? 'bg-gray-800' : 'bg-white'\r\n        )}>\r\n          {isLoading ? (\r\n            <div className=\"flex justify-center items-center h-40\">\r\n              <div className=\"animate-spin rounded-full h-12 w-12 border-t-4 border-blue-500\"></div>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full text-left border-collapse text-sm\">\r\n                  <thead>\r\n                    <tr className={classNames(\r\n                      \"font-semibold sticky top-0 z-10 shadow-sm\",\r\n                      theme === 'dark' ? 'bg-gray-700 text-gray-200' : 'bg-gray-100 text-gray-700'\r\n                    )}>\r\n                      <th className=\"p-2 sm:p-3 border-b cursor-pointer whitespace-nowrap\" onClick={() => handleSort('orderNumber')}>\r\n                        Nº {getSortIcon('orderNumber')}\r\n                      </th>\r\n                      <th className=\"p-2 sm:p-3 border-b whitespace-nowrap\">Detalles</th>\r\n                      <th className=\"p-2 sm:p-3 border-b cursor-pointer whitespace-nowrap\" onClick={() => handleSort('meals.0.address.address')}>\r\n                        Dirección {getSortIcon('meals.0.address.address')}\r\n                      </th>\r\n                      <th className=\"p-2 sm:p-3 border-b cursor-pointer whitespace-nowrap\" onClick={() => handleSort('meals.0.address.phoneNumber')}>\r\n                        Teléfono {getSortIcon('meals.0.address.phoneNumber')}\r\n                      </th>\r\n                      <th className=\"p-2 sm:p-3 border-b cursor-pointer whitespace-nowrap\" onClick={() => handleSort('meals.0.time.name')}>\r\n                        Hora {getSortIcon('meals.0.time.name')}\r\n                      </th>\r\n                      <th className=\"p-2 sm:p-3 border-b cursor-pointer whitespace-nowrap\" onClick={() => handleSort('payment')}>\r\n                        Pago {getSortIcon('payment')}\r\n                      </th>\r\n                      <th className=\"p-2 sm:p-3 border-b cursor-pointer whitespace-nowrap\" onClick={() => handleSort('total')}>\r\n                        Total {getSortIcon('total')}\r\n                      </th>\r\n                      <th className=\"p-2 sm:p-3 border-b cursor-pointer whitespace-nowrap\" onClick={() => handleSort('deliveryPerson')}>\r\n                        Domiciliario {getSortIcon('deliveryPerson')}\r\n                      </th>\r\n                      <th className=\"p-2 sm:p-3 border-b cursor-pointer whitespace-nowrap\" onClick={() => handleSort('status')}>\r\n                        Estado {getSortIcon('status')}\r\n                      </th>\r\n                      <th className=\"p-2 sm:p-3 border-b whitespace-nowrap\">Acciones</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {paginatedOrders.length === 0 ? (\r\n                      <tr>\r\n                        <td colSpan=\"10\" className=\"p-6 text-center text-gray-500 dark:text-gray-400\">\r\n                          No se encontraron pedidos. Intenta ajustar tu búsqueda o filtros.\r\n                        </td>\r\n                      </tr>\r\n                    ) : (\r\n                      paginatedOrders.map((order, index) => {\r\n                        const displayNumber = sortOrder === 'asc'\r\n                          ? (currentPage - 1) * itemsPerPage + index + 1\r\n                          : paginatedOrders.length - ((currentPage - 1) * itemsPerPage + index);\r\n                        const addressDisplay = getAddressDisplay(order.meals?.[0]?.address);\r\n                        const paymentDisplay = cleanText(order.payment || order.meals?.[0]?.payment?.name || order.meals?.[0]?.payment || 'Sin pago');\r\n                        const statusClass = order.status === 'Pendiente' ? 'bg-yellow-500 text-black' : order.status === 'Entregado' ? 'bg-green-500 text-white' : order.status === 'Cancelado' ? 'bg-red-500 text-white' : '';\r\n\r\n                        // Safely get time display\r\n                        const timeValue = order.meals?.[0]?.time;\r\n                        let displayTime = 'N/A';\r\n                        if (typeof timeValue === 'string') {\r\n                          displayTime = timeValue;\r\n                        } else if (typeof timeValue === 'object' && timeValue !== null) {\r\n                          displayTime = timeValue.name || 'N/A';\r\n                        }\r\n\r\n                        return (\r\n                          <tr\r\n                            key={order.id}\r\n                            className={classNames(\r\n                              \"border-b transition-colors duration-150\",\r\n                              theme === 'dark' ? 'border-gray-700 hover:bg-gray-700' : 'border-gray-200 hover:bg-gray-50',\r\n                              index % 2 === 0 ? (theme === 'dark' ? 'bg-gray-750' : 'bg-gray-50') : ''\r\n                            )}\r\n                          >\r\n                            <td className=\"p-2 sm:p-3 text-gray-300\">{displayNumber}</td>\r\n                            <td className=\"p-2 sm:p-3 text-gray-300\">\r\n                              <button\r\n                                onClick={() => setShowMealDetails(order)}\r\n                                className=\"text-blue-400 hover:text-blue-300 text-xs sm:text-sm flex items-center\"\r\n                                title=\"Ver detalles de la bandeja\"\r\n                              >\r\n                                <InformationCircleIcon className=\"w-4 h-4 mr-1\" />\r\n                                Ver\r\n                              </button>\r\n                            </td>\r\n                            <td className=\"p-2 sm:p-3 text-gray-300 max-w-[150px] sm:max-w-xs overflow-hidden text-ellipsis whitespace-nowrap\">{addressDisplay}</td>\r\n                            <td className=\"p-2 sm:p-3 text-gray-300 whitespace-nowrap\">{order.meals?.[0]?.address?.phoneNumber || 'N/A'}</td>\r\n                            {/* MODIFICADO: Asegura que 'time' siempre sea una cadena */}\r\n                            <td className=\"p-2 sm:p-3 text-gray-300 whitespace-nowrap\">{displayTime}</td>\r\n                            <td className=\"p-2 sm:p-3 text-gray-300 whitespace-nowrap\">{paymentDisplay}</td>\r\n                            <td className=\"p-2 sm:p-3 text-gray-300 whitespace-nowrap\">${order.total?.toLocaleString('es-CO') || '0'}</td>\r\n                            <td className=\"p-2 sm:p-3 text-gray-300 whitespace-nowrap\">\r\n                              {editingDeliveryId === order.id ? (\r\n                                <input\r\n                                  type=\"text\"\r\n                                  value={editForm.deliveryPerson}\r\n                                  onChange={(e) => setEditForm(prev => ({ ...prev, deliveryPerson: e.target.value }))}\r\n                                  onBlur={() => handleDeliveryChange(order.id, editForm.deliveryPerson)}\r\n                                  onKeyPress={(e) => {\r\n                                    if (e.key === 'Enter') {\r\n                                      handleDeliveryChange(order.id, editForm.deliveryPerson);\r\n                                    }\r\n                                  }}\r\n                                  className={classNames(\r\n                                    \"w-24 p-1 rounded-md border text-sm\",\r\n                                    theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                                    \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                                  )}\r\n                                  autoFocus\r\n                                />\r\n                              ) : (\r\n                                <span\r\n                                  onClick={() => {\r\n                                    setEditingDeliveryId(order.id);\r\n                                    setEditForm(prev => ({ ...prev, deliveryPerson: order.deliveryPerson || '' }));\r\n                                  }}\r\n                                  className=\"cursor-pointer hover:text-blue-400\"\r\n                                >\r\n                                  {order.deliveryPerson || 'Sin asignar'}\r\n                                </span>\r\n                              )}\r\n                            </td>\r\n                            <td className=\"p-2 sm:p-3 whitespace-nowrap\">\r\n                              <select\r\n                                value={order.status || 'Pendiente'}\r\n                                onChange={(e) => handleStatusChange(order.id, e.target.value)}\r\n                                className={classNames(\r\n                                  \"px-2 py-1 rounded-full text-xs font-semibold appearance-none cursor-pointer\",\r\n                                  statusClass,\r\n                                  theme === 'dark' ? 'bg-opacity-70' : 'bg-opacity-90',\r\n                                  \"focus:outline-none focus:ring-2 focus:ring-blue-500\"\r\n                                )}\r\n                              >\r\n                                <option value=\"Pendiente\">Pendiente</option>\r\n                                <option value=\"En Preparación\">En Preparación</option>\r\n                                <option value=\"En Camino\">En Camino</option>\r\n                                <option value=\"Entregado\">Entregado</option>\r\n                                <option value=\"Cancelado\">Cancelado</option>\r\n                              </select>\r\n                            </td>\r\n                            <td className=\"p-2 sm:p-3 whitespace-nowrap\">\r\n                              <div className=\"flex gap-2\">\r\n                                <button\r\n                                  onClick={() => handleEditOrder(order)}\r\n                                  className=\"text-blue-500 hover:text-blue-400 transition-colors duration-150 p-1 rounded-md\"\r\n                                  title=\"Editar pedido\"\r\n                                  aria-label={`Editar pedido ${displayNumber}`}\r\n                                >\r\n                                  <PencilIcon className=\"w-5 h-5\" />\r\n                                </button>\r\n                                <button\r\n                                  onClick={() => handleDeleteOrder(order.id)}\r\n                                  className=\"text-red-500 hover:text-red-400 transition-colors duration-150 p-1 rounded-md\"\r\n                                  title=\"Eliminar pedido\"\r\n                                  aria-label={`Eliminar pedido ${displayNumber}`}\r\n                                >\r\n                                  <TrashIcon className=\"w-5 h-5\" />\r\n                                </button>\r\n                              </div>\r\n                            </td>\r\n                          </tr>\r\n                        );\r\n                      })\r\n                    )}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              {/* Pagination */}\r\n              <div className=\"flex flex-wrap justify-between items-center mt-6 gap-3\">\r\n                <div className=\"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300\">\r\n                  <span>Pedidos por página:</span>\r\n                  <select\r\n                    value={itemsPerPage}\r\n                    onChange={(e) => { setItemsPerPage(Number(e.target.value)); setCurrentPage(1); }}\r\n                    className={classNames(\r\n                      \"p-2 rounded-md border text-sm\",\r\n                      theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-300 bg-white text-gray-900'\r\n                    )}\r\n                  >\r\n                    <option value=\"10\">10</option>\r\n                    <option value=\"20\">20</option>\r\n                    <option value=\"30\">30</option>\r\n                    <option value=\"50\">50</option>\r\n                  </select>\r\n                </div>\r\n                <div className=\"flex items-center gap-2 text-sm text-gray-700 dark:text-gray-300\">\r\n                  <button\r\n                    onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\r\n                    disabled={currentPage === 1}\r\n                    className={classNames(\r\n                      \"p-2 rounded-md transition-colors duration-200\",\r\n                      currentPage === 1\r\n                        ? 'text-gray-400 dark:text-gray-600 cursor-not-allowed'\r\n                        : theme === 'dark' ? 'hover:bg-gray-700 text-gray-200' : 'hover:bg-gray-100 text-gray-700'\r\n                    )}\r\n                  >\r\n                    <ChevronLeftIcon className=\"w-5 h-5\" />\r\n                  </button>\r\n                  <span>Página {currentPage} de {totalPages}</span>\r\n                  <button\r\n                    onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}\r\n                    disabled={currentPage === totalPages}\r\n                    className={classNames(\r\n                      \"p-2 rounded-md transition-colors duration-200\",\r\n                      currentPage === totalPages\r\n                        ? 'text-gray-400 dark:text-gray-600 cursor-not-allowed'\r\n                        : theme === 'dark' ? 'hover:bg-gray-700 text-gray-200' : 'hover:bg-gray-100 text-gray-700'\r\n                    )}\r\n                  >\r\n                    <ChevronRightIcon className=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Delivery Persons Summary */}\r\n              <div className={classNames(\r\n                \"mt-8 p-4 rounded-lg shadow-inner\",\r\n                theme === 'dark' ? 'bg-gray-700 text-gray-200' : 'bg-gray-100 text-gray-800'\r\n              )}>\r\n                <h3 className=\"text-lg font-semibold mb-4\">Resumen por Domiciliarios</h3>\r\n                {Object.keys(deliveryPersons).length === 0 ? (\r\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">No hay domiciliarios asignados.</p>\r\n                ) : (\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                    {Object.entries(deliveryPersons).map(([name, data]) => (\r\n                      <div key={name} className={classNames(\r\n                        \"p-3 rounded-md shadow-sm\",\r\n                        theme === 'dark' ? 'bg-gray-600' : 'bg-white'\r\n                      )}>\r\n                        <h4 className=\"font-medium text-base mb-1\">{name}</h4>\r\n                        <p className=\"text-sm\">Efectivo: <span className=\"font-semibold\">${data.cash.toLocaleString('es-CO')}</span></p>\r\n                        <p className=\"text-sm\">Daviplata: <span className=\"font-semibold\">${data.daviplata.toLocaleString('es-CO')}</span></p>\r\n                        <p className=\"text-sm\">Nequi: <span className=\"font-semibold\">${data.nequi.toLocaleString('es-CO')}</span></p>\r\n                        <p className=\"text-sm font-bold mt-1\">Total: <span className=\"text-green-400\">${data.total.toLocaleString('es-CO')}</span></p>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TablaPedidos;\r\n","import React, { useState } from 'react';\r\nimport { Dialog, Transition } from '@headlessui/react';\r\nimport { XMarkIcon, TrashIcon, PencilIcon } from '@heroicons/react/24/outline';\r\nimport { classNames } from '../../utils/classNames';\r\nimport { getMealDetailsDisplay, areMealsIdentical } from './utils';\r\nimport { db } from '../../config/firebase';\r\nimport { deleteDoc, doc, updateDoc } from 'firebase/firestore';\r\n\r\nconst InteraccionesPedidos = ({\r\n  theme,\r\n  showProteinModal,\r\n  setShowProteinModal,\r\n  newProtein,\r\n  setNewProtein,\r\n  handleAddProtein,\r\n  proteins,\r\n  totalProteinUnits,\r\n  isLoading,\r\n  showMealDetails,\r\n  setShowMealDetails,\r\n  editingOrder,\r\n  setEditingOrder,\r\n  editForm,\r\n  handleMealFormFieldChange, // Este es el handler de edición\r\n  handleSaveEdit,\r\n  showConfirmDeleteAll,\r\n  setShowConfirmDeleteAll,\r\n  confirmText,\r\n  setConfirmText,\r\n  handleDeleteAllOrders,\r\n  setError,\r\n  setSuccess,\r\n  // NUEVAS PROPS PARA GENERAR ORDEN\r\n  showAddOrderModal,\r\n  setShowAddOrderModal,\r\n  newOrderForm,\r\n  handleNewOrderMealFormFieldChange, // Este es el handler para nueva orden\r\n  handleAddOrderSubmit,\r\n}) => {\r\n  const [editingProtein, setEditingProtein] = useState(null);\r\n\r\n  const handleDeleteProtein = async (proteinId) => {\r\n    try {\r\n      await deleteDoc(doc(db, 'dailyProteins', proteinId));\r\n      setSuccess('Proteína eliminada correctamente.');\r\n    } catch (error) {\r\n      setError(`Error al eliminar proteína: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleEditProtein = (protein) => {\r\n    setEditingProtein(protein);\r\n  };\r\n\r\n  const handleUpdateProtein = async () => {\r\n    if (!editingProtein.name || !editingProtein.quantity || isNaN(editingProtein.quantity) || Number(editingProtein.quantity) <= 0) {\r\n      setError('Por favor, ingrese un nombre de proteína válido y una cantidad mayor a 0.');\r\n      return;\r\n    }\r\n    try {\r\n      await updateDoc(doc(db, 'dailyProteins', editingProtein.id), {\r\n        name: editingProtein.name.trim(),\r\n        quantity: Number(editingProtein.quantity),\r\n      });\r\n      setSuccess('Proteína actualizada correctamente.');\r\n      setEditingProtein(null);\r\n    } catch (error) {\r\n      setError(`Error al actualizar proteína: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleCancelEditProtein = () => { // Renombrado para claridad\r\n    setEditingProtein(null);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {/* Diálogo para gestionar proteínas */}\r\n      <Transition show={showProteinModal} as={React.Fragment}>\r\n        <Dialog as=\"div\" className=\"relative z-50\" onClose={() => { setShowProteinModal(false); setEditingProtein(null); }}>\r\n          <Transition.Child\r\n            as={React.Fragment}\r\n            enter=\"ease-out duration-300\"\r\n            enterFrom=\"opacity-0\"\r\n            enterTo=\"opacity-100\"\r\n            leave=\"ease-in duration-200\"\r\n            leaveFrom=\"opacity-100\"\r\n            leaveTo=\"opacity-0\"\r\n          >\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-50\" />\r\n          </Transition.Child>\r\n          <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n            <Transition.Child\r\n              as={React.Fragment}\r\n              enter=\"ease-out duration-300\"\r\n              enterFrom=\"opacity-0 scale-95\"\r\n              enterTo=\"opacity-100 scale-100\"\r\n              leave=\"ease-in duration-200\"\r\n              leaveFrom=\"opacity-100 scale-100\"\r\n              leaveTo=\"opacity-0 scale-95\"\r\n            >\r\n              <Dialog.Panel className={classNames(\r\n                \"w-full max-w-md p-6 rounded-lg shadow-md\",\r\n                theme === 'dark' ? 'bg-gray-800 text-gray-200' : 'bg-gray-50 text-gray-900'\r\n              )}>\r\n                <div className=\"flex justify-between items-center mb-4\">\r\n                  <Dialog.Title className=\"text-lg font-medium\">\r\n                    {editingProtein ? 'Editar Proteína' : 'Gestionar Proteínas'}\r\n                  </Dialog.Title>\r\n                  <button\r\n                    onClick={() => { setShowProteinModal(false); setEditingProtein(null); }}\r\n                    className=\"text-gray-500 hover:text-gray-400\"\r\n                    aria-label=\"Cerrar modal\"\r\n                  >\r\n                    <XMarkIcon className=\"w-5 h-5\" />\r\n                  </button>\r\n                </div>\r\n                <div className=\"space-y-4\">\r\n                  {editingProtein ? (\r\n                    <>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Nombre</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={editingProtein.name}\r\n                          onChange={e => setEditingProtein({ ...editingProtein, name: e.target.value })}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                          placeholder=\"Ej: Pollo\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Cantidad</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={editingProtein.quantity}\r\n                          onChange={e => setEditingProtein({ ...editingProtein, quantity: e.target.value })}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                          placeholder=\"Ej: 50\"\r\n                          min=\"0\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"flex justify-end gap-2\">\r\n                        <button\r\n                          onClick={handleCancelEditProtein} // Renombrado\r\n                          className={classNames(\r\n                            \"px-4 py-2 rounded-md text-sm font-medium\",\r\n                            theme === 'dark' ? 'bg-gray-600 hover:bg-gray-700 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-900'\r\n                          )}\r\n                        >\r\n                          Cancelar\r\n                        </button>\r\n                        <button\r\n                          onClick={handleUpdateProtein}\r\n                          disabled={isLoading}\r\n                          className={classNames(\r\n                            \"px-4 py-2 rounded-md text-sm font-medium\",\r\n                            isLoading ? 'bg-gray-400 cursor-not-allowed' : theme === 'dark' ? 'bg-blue-600 hover:bg-blue-700 text-white' : 'bg-blue-500 hover:bg-blue-600 text-white'\r\n                          )}\r\n                        >\r\n                          {isLoading ? 'Guardando...' : 'Actualizar'}\r\n                        </button>\r\n                      </div>\r\n                    </>\r\n                  ) : (\r\n                    <>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Nombre</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={newProtein.name}\r\n                          onChange={e => setNewProtein({ ...newProtein, name: e.target.value })}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                          placeholder=\"Ej: Pollo\"\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Cantidad</label>\r\n                        <input\r\n                          type=\"number\"\r\n                          value={newProtein.quantity}\r\n                          onChange={e => setNewProtein({ ...newProtein, quantity: e.target.value })}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                          placeholder=\"Ej: 50\"\r\n                          min=\"0\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"flex justify-end gap-2\">\r\n                        <button\r\n                          onClick={() => setShowProteinModal(false)}\r\n                          className={classNames(\r\n                            \"px-4 py-2 rounded-md text-sm font-medium\",\r\n                            theme === 'dark' ? 'bg-gray-600 hover:bg-gray-700 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-900'\r\n                          )}\r\n                        >\r\n                          Cancelar\r\n                        </button>\r\n                        <button\r\n                          onClick={handleAddProtein}\r\n                          disabled={isLoading}\r\n                          className={classNames(\r\n                            \"px-4 py-2 rounded-md text-sm font-medium\",\r\n                            isLoading ? 'bg-gray-400 cursor-not-allowed' : theme === 'dark' ? 'bg-blue-600 hover:bg-blue-700 text-white' : 'bg-blue-500 hover:bg-blue-600 text-white'\r\n                          )}\r\n                        >\r\n                          {isLoading ? 'Guardando...' : 'Agregar'}\r\n                        </button>\r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </div>\r\n                <div className=\"mt-6\">\r\n                  <h3 className=\"text-sm font-medium text-gray-700 dark:text-gray-300 mb-2\">Proteínas Registradas (Total: {totalProteinUnits} unidades)</h3>\r\n                  {proteins.length === 0 ? (\r\n                    <p className=\"text-sm text-gray-500 dark:text-gray-400\">No hay proteínas registradas.</p>\r\n                  ) : (\r\n                    <ul className=\"space-y-2\">\r\n                      {proteins.map(protein => (\r\n                        <li\r\n                          key={protein.id}\r\n                          className={classNames(\r\n                            \"flex justify-between items-center p-2 rounded-md\",\r\n                            theme === 'dark' ? 'bg-gray-700' : 'bg-gray-100'\r\n                          )}\r\n                        >\r\n                          <span className=\"text-sm\">{protein.name}: {protein.quantity} unidades</span>\r\n                          <div className=\"flex gap-2\">\r\n                            <button\r\n                              onClick={() => handleEditProtein(protein)}\r\n                              className=\"text-blue-500 hover:text-blue-400 transition-colors duration-150 p-1 rounded-md\"\r\n                              title=\"Editar proteína\"\r\n                              aria-label={`Editar ${protein.name}`}\r\n                            >\r\n                              <PencilIcon className=\"w-4 h-4\" />\r\n                            </button>\r\n                            <button\r\n                              onClick={() => handleDeleteProtein(protein.id)}\r\n                              className=\"text-red-500 hover:text-red-400 transition-colors duration-150 p-1 rounded-md\"\r\n                              title=\"Eliminar proteína\"\r\n                              aria-label={`Eliminar ${protein.name}`}\r\n                            >\r\n                              <TrashIcon className=\"w-4 h-4\" />\r\n                            </button>\r\n                          </div>\r\n                        </li>\r\n                      ))}\r\n                    </ul>\r\n                  )}\r\n                </div>\r\n              </Dialog.Panel>\r\n            </Transition.Child>\r\n          </div>\r\n        </Dialog>\r\n      </Transition>\r\n\r\n      {/* Diálogo para detalles del pedido */}\r\n      <Transition show={showMealDetails !== null} as={React.Fragment}>\r\n        <Dialog as=\"div\" className=\"relative z-50\" onClose={() => setShowMealDetails(null)}>\r\n          <Transition.Child\r\n            as={React.Fragment}\r\n            enter=\"ease-out duration-300\"\r\n            enterFrom=\"opacity-0\"\r\n            enterTo=\"opacity-100\"\r\n            leave=\"ease-in duration-200\"\r\n            leaveFrom=\"opacity-100\"\r\n            leaveTo=\"opacity-0\"\r\n          >\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-50\" />\r\n          </Transition.Child>\r\n          <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n            <Transition.Child\r\n              as={React.Fragment}\r\n              enter=\"ease-out duration-300\"\r\n              enterFrom=\"opacity-0 scale-95\"\r\n              enterTo=\"opacity-100 scale-100\"\r\n              leave=\"ease-in duration-200\"\r\n              leaveFrom=\"opacity-100 scale-100\"\r\n              leaveTo=\"opacity-0 scale-95\"\r\n            >\r\n              <Dialog.Panel className={classNames(\r\n                \"w-full max-w-2xl p-6 rounded-lg shadow-xl max-h-[80vh] overflow-y-auto\",\r\n                theme === 'dark' ? 'bg-gray-800 text-gray-200' : 'bg-gray-50 text-gray-900'\r\n              )}>\r\n                <Dialog.Title className=\"text-lg font-medium mb-4 flex justify-between items-center\">\r\n                  Detalles del Pedido\r\n                  <button\r\n                    onClick={() => setShowMealDetails(null)}\r\n                    className=\"text-gray-500 hover:text-gray-400\"\r\n                    aria-label=\"Cerrar detalles\"\r\n                  >\r\n                    <XMarkIcon className=\"w-5 h-5\" />\r\n                  </button>\r\n                </Dialog.Title>\r\n                {showMealDetails && (\r\n                  <div className=\"space-y-4 text-sm\">\r\n                    {areMealsIdentical(showMealDetails.meals).areIdentical ? (\r\n                      <div>\r\n                        <h3 className=\"font-medium\">Bandeja (x{areMealsIdentical(showMealDetails.meals).count})</h3>\r\n                        <pre className=\"whitespace-pre-wrap\">{getMealDetailsDisplay(showMealDetails.meals[0])}</pre>\r\n                      </div>\r\n                    ) : (\r\n                      showMealDetails.meals.map((meal, index) => (\r\n                        <div key={index}>\r\n                          <h3 className=\"font-medium\">Bandeja {index + 1}</h3>\r\n                          <pre className=\"whitespace-pre-wrap\">{getMealDetailsDisplay(meal)}</pre>\r\n                        </div>\r\n                      ))\r\n                    )}\r\n                    <p className=\"font-medium\">Total: ${showMealDetails.total?.toLocaleString('es-CO') || '0'}</p>\r\n                    <p className=\"font-medium\">Estado: {showMealDetails.status || 'Pendiente'}</p>\r\n                    <p className=\"font-medium\">Domiciliario: {showMealDetails.deliveryPerson || 'Sin asignar'}</p>\r\n                  </div>\r\n                )}\r\n              </Dialog.Panel>\r\n            </Transition.Child>\r\n          </div>\r\n        </Dialog>\r\n      </Transition>\r\n\r\n      {/* Diálogo para editar pedido */}\r\n      <Transition show={editingOrder !== null} as={React.Fragment}>\r\n        <Dialog as=\"div\" className=\"relative z-50\" onClose={() => setEditingOrder(null)}>\r\n          <Transition.Child\r\n            as={React.Fragment}\r\n            enter=\"ease-out duration-300\"\r\n            enterFrom=\"opacity-0\"\r\n            enterTo=\"opacity-100\"\r\n            leave=\"ease-in duration-200\"\r\n            leaveFrom=\"opacity-100\"\r\n            leaveTo=\"opacity-0\"\r\n          >\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-50\" />\r\n          </Transition.Child>\r\n          <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n            <Transition.Child\r\n              as={React.Fragment}\r\n              enter=\"ease-out duration-300\"\r\n              enterFrom=\"opacity-0 scale-95\"\r\n              enterTo=\"opacity-100 scale-100\"\r\n              leave=\"ease-in duration-200\"\r\n              leaveFrom=\"opacity-100 scale-100\"\r\n              leaveTo=\"opacity-0 scale-95\"\r\n            >\r\n              <Dialog.Panel className={classNames(\r\n                \"w-full max-w-2xl p-6 rounded-lg shadow-xl max-h-[80vh] overflow-y-auto\",\r\n                theme === 'dark' ? 'bg-gray-800 text-gray-200' : 'bg-gray-50 text-gray-900'\r\n              )}>\r\n                <Dialog.Title className=\"text-lg font-medium mb-4 flex justify-between items-center\">\r\n                  Editar Pedido\r\n                  <button\r\n                    onClick={() => setEditingOrder(null)}\r\n                    className=\"text-gray-500 hover:text-gray-400\"\r\n                    aria-label=\"Cerrar edición\"\r\n                  >\r\n                    <XMarkIcon className=\"w-5 h-5\" />\r\n                  </button>\r\n                </Dialog.Title>\r\n                {editForm.meals.map((meal, mealIndex) => (\r\n                  <div key={mealIndex} className=\"mb-6 p-4 border rounded-md border-gray-200 dark:border-gray-600\">\r\n                    <h3 className=\"font-medium mb-2\">Bandeja {mealIndex + 1}</h3>\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Sopa</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.soup?.name || meal.soup || ''}\r\n                          onChange={e => handleMealFormFieldChange(mealIndex, 'soup', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Reemplazo de Sopa</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.soupReplacement?.name || meal.soupReplacement || ''}\r\n                          onChange={e => handleMealFormFieldChange(mealIndex, 'soupReplacement', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Principio</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={Array.isArray(meal.principle) ? meal.principle.map(p => p.name || p).join(', ') : meal.principle?.name || meal.principle || ''}\r\n                          onChange={e => handleMealFormFieldChange(mealIndex, 'principle', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Reemplazo de Principio</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.principleReplacement?.name || meal.principleReplacement || ''}\r\n                          onChange={e => handleMealFormFieldChange(mealIndex, 'principleReplacement', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Proteína</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.protein?.name || meal.protein || ''}\r\n                          onChange={e => handleMealFormFieldChange(mealIndex, 'protein', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Bebida</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.drink?.name || meal.drink || ''}\r\n                          onChange={e => handleMealFormFieldChange(mealIndex, 'drink', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Cubiertos</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.cutlery?.name || meal.cutlery || ''}\r\n                          onChange={e => handleMealFormFieldChange(mealIndex, 'cutlery', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Acompañamientos</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.sides?.map(s => s.name || s).join(', ') || ''}\r\n                          onChange={e => handleMealFormFieldChange(mealIndex, 'sides', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Adiciones</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.additions?.map(a => `${a.name}${a.protein || a.replacement ? `,${a.protein || a.replacement}` : ''}${a.quantity ? `,${a.quantity}` : ''}`).join('; ') || ''}\r\n                          onChange={e => handleMealFormFieldChange(mealIndex, 'additions', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Notas</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.notes || ''}\r\n                          onChange={e => handleMealFormFieldChange(mealIndex, 'notes', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Hora de Entrega</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.time?.name || meal.time || ''}\r\n                          onChange={e => handleMealFormFieldChange(mealIndex, 'time', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Dirección</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.address?.address || ''}\r\n                          onChange={e => handleMealFormFieldChange(mealIndex, 'address.address', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Teléfono</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.address?.phoneNumber || ''}\r\n                          onChange={e => handleMealFormFieldChange(mealIndex, 'address.phoneNumber', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Tipo de Dirección</label>\r\n                        <select\r\n                          value={meal.address?.addressType || ''}\r\n                          onChange={e => handleMealFormFieldChange(mealIndex, 'address.addressType', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        >\r\n                          <option value=\"\">Seleccione</option>\r\n                          <option value=\"house\">Casa/Apto</option>\r\n                          <option value=\"school\">Colegio/Oficina</option>\r\n                          <option value=\"complex\">Conjunto</option>\r\n                          <option value=\"shop\">Tienda/Local</option>\r\n                        </select>\r\n                      </div>\r\n                      {meal.address?.addressType === 'shop' && (\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Nombre del Local</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            value={meal.address?.localName || ''}\r\n                            onChange={e => handleMealFormFieldChange(mealIndex, 'address.localName', e.target.value)}\r\n                            className={classNames(\r\n                              \"w-full p-2 rounded-md border text-sm\",\r\n                              theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                              \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                            )}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                      {meal.address?.addressType === 'school' && (\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Nombre del Recipiente</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            value={meal.address?.recipientName || ''}\r\n                            onChange={e => handleMealFormFieldChange(mealIndex, 'address.recipientName', e.target.value)}\r\n                            className={classNames(\r\n                              \"w-full p-2 rounded-md border text-sm\",\r\n                              theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                              \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                            )}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n                {/* Campos de la orden principal */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Total</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={editForm.total}\r\n                      onChange={e => setEditForm(prev => ({ ...prev, total: Number(e.target.value) }))}\r\n                      className={classNames(\r\n                        \"w-full p-2 rounded-md border text-sm\",\r\n                        theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                        \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                      )}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Estado</label>\r\n                    <select\r\n                      value={editForm.status}\r\n                      onChange={e => setEditForm(prev => ({ ...prev, status: e.target.value }))}\r\n                      className={classNames(\r\n                        \"w-full p-2 rounded-md border text-sm\",\r\n                        theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                        \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                      )}\r\n                    >\r\n                      <option value=\"Pendiente\">Pendiente</option>\r\n                      <option value=\"En Preparación\">En Preparación</option>\r\n                      <option value=\"En Camino\">En Camino</option>\r\n                      <option value=\"Entregado\">Entregado</option>\r\n                      <option value=\"Cancelado\">Cancelado</option>\r\n                    </select>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Método de Pago</label>\r\n                    <select\r\n                      value={editForm.payment}\r\n                      onChange={e => setEditForm(prev => ({ ...prev, payment: e.target.value }))}\r\n                      className={classNames(\r\n                        \"w-full p-2 rounded-md border text-sm\",\r\n                        theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                        \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                      )}\r\n                    >\r\n                      <option value=\"Efectivo\">Efectivo</option>\r\n                      <option value=\"Daviplata\">Daviplata</option>\r\n                      <option value=\"Nequi\">Nequi</option>\r\n                    </select>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Domiciliario</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={editForm.deliveryPerson}\r\n                      onChange={e => setEditForm(prev => ({ ...prev, deliveryPerson: e.target.value }))}\r\n                      className={classNames(\r\n                        \"w-full p-2 rounded-md border text-sm\",\r\n                        theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                        \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                      )}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-6 flex justify-end gap-2\">\r\n                  <button\r\n                    onClick={() => setEditingOrder(null)}\r\n                    className={classNames(\r\n                      \"px-4 py-2 rounded-md text-sm font-medium\",\r\n                      theme === 'dark' ? 'bg-gray-600 hover:bg-gray-700 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-900'\r\n                    )}\r\n                  >\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    onClick={handleSaveEdit}\r\n                    disabled={isLoading}\r\n                    className={classNames(\r\n                      \"px-4 py-2 rounded-md text-sm font-medium\",\r\n                      isLoading ? 'bg-gray-400 cursor-not-allowed' : theme === 'dark' ? 'bg-blue-600 hover:bg-blue-700 text-white' : 'bg-blue-500 hover:bg-blue-600 text-white'\r\n                    )}\r\n                  >\r\n                    {isLoading ? 'Guardando...' : 'Guardar Cambios'}\r\n                  </button>\r\n                </div>\r\n              </Dialog.Panel>\r\n            </Transition.Child>\r\n          </div>\r\n        </Dialog>\r\n      </Transition>\r\n\r\n      {/* Diálogo para confirmar eliminación de todos los pedidos */}\r\n      <Transition show={showConfirmDeleteAll} as={React.Fragment}>\r\n        <Dialog as=\"div\" className=\"relative z-50\" onClose={() => setShowConfirmDeleteAll(false)}>\r\n          <Transition.Child\r\n            as={React.Fragment}\r\n            enter=\"ease-out duration-300\"\r\n            enterFrom=\"opacity-0\"\r\n            enterTo=\"opacity-100\"\r\n            leave=\"ease-in duration-200\"\r\n            leaveFrom=\"opacity-100\"\r\n            leaveTo=\"opacity-0\"\r\n          >\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-50\" />\r\n          </Transition.Child>\r\n          <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n            <Transition.Child\r\n              as={React.Fragment}\r\n              enter=\"ease-out duration-300\"\r\n              enterFrom=\"opacity-0 scale-95\"\r\n              enterTo=\"opacity-100 scale-100\"\r\n              leave=\"ease-in duration-200\"\r\n              leaveFrom=\"opacity-100 scale-100\"\r\n              leaveTo=\"opacity-0 scale-95\"\r\n            >\r\n              <Dialog.Panel className={classNames(\r\n                \"w-full max-w-sm p-6 rounded-lg shadow-md text-center\",\r\n                theme === 'dark' ? 'bg-gray-800 text-gray-200' : 'bg-gray-50 text-gray-900'\r\n              )}>\r\n                <Dialog.Title className=\"text-lg font-medium mb-4\">Confirmar Eliminación Masiva</Dialog.Title>\r\n                <p className=\"mb-4\">\r\n                  Estás a punto de eliminar <span className=\"font-bold text-red-500\">TODOS</span> los pedidos.\r\n                  Esta acción es irreversible. Para confirmar, escribe \"confirmar\" a continuación:\r\n                </p>\r\n                <input\r\n                  type=\"text\"\r\n                  value={confirmText}\r\n                  onChange={e => setConfirmText(e.target.value)}\r\n                  className={classNames(\r\n                    \"w-full p-2 rounded-md border text-center text-sm\",\r\n                    theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                    \"focus:outline-none focus:ring-1 focus:ring-red-500\"\r\n                  )}\r\n                  placeholder=\"escribe 'confirmar'\"\r\n                />\r\n                <div className=\"mt-6 flex justify-center gap-2\">\r\n                  <button\r\n                    onClick={() => { setShowConfirmDeleteAll(false); setConfirmText(''); }}\r\n                    className={classNames(\r\n                      \"px-4 py-2 rounded-md text-sm font-medium\",\r\n                      theme === 'dark' ? 'bg-gray-600 hover:bg-gray-700 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-900'\r\n                    )}\r\n                  >\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    onClick={handleDeleteAllOrders}\r\n                    disabled={isLoading || confirmText.toLowerCase() !== 'confirmar'}\r\n                    className={classNames(\r\n                      \"px-4 py-2 rounded-md text-sm font-medium\",\r\n                      isLoading || confirmText.toLowerCase() !== 'confirmar' ? 'bg-gray-400 cursor-not-allowed' : 'bg-red-600 hover:bg-red-700 text-white'\r\n                    )}\r\n                  >\r\n                    {isLoading ? 'Eliminando...' : 'Eliminar Todos'}\r\n                  </button>\r\n                </div>\r\n              </Dialog.Panel>\r\n            </Transition.Child>\r\n          </div>\r\n        </Dialog>\r\n      </Transition>\r\n\r\n      {/* NUEVO: Diálogo para Generar Nueva Orden */}\r\n      <Transition show={showAddOrderModal} as={React.Fragment}>\r\n        <Dialog as=\"div\" className=\"relative z-50\" onClose={() => setShowAddOrderModal(false)}>\r\n          <Transition.Child\r\n            as={React.Fragment}\r\n            enter=\"ease-out duration-300\"\r\n            enterFrom=\"opacity-0\"\r\n            enterTo=\"opacity-100\"\r\n            leave=\"ease-in duration-200\"\r\n            leaveFrom=\"opacity-100\"\r\n            leaveTo=\"opacity-0\"\r\n          >\r\n            <div className=\"fixed inset-0 bg-black bg-opacity-50\" />\r\n          </Transition.Child>\r\n          <div className=\"fixed inset-0 flex items-center justify-center p-4\">\r\n            <Transition.Child\r\n              as={React.Fragment}\r\n              enter=\"ease-out duration-300\"\r\n              enterFrom=\"opacity-0 scale-95\"\r\n              enterTo=\"opacity-100 scale-100\"\r\n              leave=\"ease-in duration-200\"\r\n              leaveFrom=\"opacity-100 scale-100\"\r\n              leaveTo=\"opacity-0 scale-95\"\r\n            >\r\n              <Dialog.Panel className={classNames(\r\n                \"w-full max-w-2xl p-6 rounded-lg shadow-xl max-h-[80vh] overflow-y-auto\",\r\n                theme === 'dark' ? 'bg-gray-800 text-gray-200' : 'bg-gray-50 text-gray-900'\r\n              )}>\r\n                <Dialog.Title className=\"text-lg font-medium mb-4 flex justify-between items-center\">\r\n                  Generar Nueva Orden\r\n                  <button\r\n                    onClick={() => setShowAddOrderModal(false)}\r\n                    className=\"text-gray-500 hover:text-gray-400\"\r\n                    aria-label=\"Cerrar formulario de nueva orden\"\r\n                  >\r\n                    <XMarkIcon className=\"w-5 h-5\" />\r\n                  </button>\r\n                </Dialog.Title>\r\n                {/* Formulario de una sola bandeja para simplificar */}\r\n                {newOrderForm.meals.map((meal, mealIndex) => (\r\n                  <div key={mealIndex} className=\"mb-6 p-4 border rounded-md border-gray-200 dark:border-gray-600\">\r\n                    <h3 className=\"font-medium mb-2\">Detalles de la Bandeja {mealIndex + 1}</h3>\r\n                    <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Sopa</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.soup || ''}\r\n                          onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'soup', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Reemplazo Sopa</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.soupReplacement || ''}\r\n                          onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'soupReplacement', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Principio</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={Array.isArray(meal.principle) ? meal.principle.map(p => p.name || p).join(', ') : meal.principle || ''}\r\n                          onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'principle', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Reemplazo Principio</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.principleReplacement || ''}\r\n                          onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'principleReplacement', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Proteína</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.protein || ''}\r\n                          onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'protein', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Bebida</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.drink || ''}\r\n                          onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'drink', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Cubiertos</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.cutlery || ''}\r\n                          onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'cutlery', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Acompañamientos (separados por coma)</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.sides?.map(s => s.name || s).join(', ') || ''}\r\n                          onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'sides', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Adiciones (Nombre,Tipo,Cantidad;...)</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.additions?.map(a => `${a.name}${a.protein || a.replacement ? `,${a.protein || a.replacement}` : ''}${a.quantity ? `,${a.quantity}` : ''}`).join('; ') || ''}\r\n                          onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'additions', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Notas</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.notes || ''}\r\n                          onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'notes', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Hora de Entrega</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.time || ''}\r\n                          onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'time', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Dirección</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.address?.address || ''}\r\n                          onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'address.address', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Teléfono</label>\r\n                        <input\r\n                          type=\"text\"\r\n                          value={meal.address?.phoneNumber || ''}\r\n                          onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'address.phoneNumber', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        />\r\n                      </div>\r\n                      <div>\r\n                        <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Tipo de Dirección</label>\r\n                        <select\r\n                          value={meal.address?.addressType || ''}\r\n                          onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'address.addressType', e.target.value)}\r\n                          className={classNames(\r\n                            \"w-full p-2 rounded-md border text-sm\",\r\n                            theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                            \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                          )}\r\n                        >\r\n                          <option value=\"\">Seleccione</option>\r\n                          <option value=\"house\">Casa/Apto</option>\r\n                          <option value=\"school\">Colegio/Oficina</option>\r\n                          <option value=\"complex\">Conjunto</option>\r\n                          <option value=\"shop\">Tienda/Local</option>\r\n                        </select>\r\n                      </div>\r\n                      {meal.address?.addressType === 'shop' && (\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Nombre del Local</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            value={meal.address?.localName || ''}\r\n                            onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'address.localName', e.target.value)}\r\n                            className={classNames(\r\n                              \"w-full p-2 rounded-md border text-sm\",\r\n                              theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                              \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                            )}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                      {meal.address?.addressType === 'school' && (\r\n                        <div>\r\n                          <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Nombre del Recipiente</label>\r\n                          <input\r\n                            type=\"text\"\r\n                            value={meal.address?.recipientName || ''}\r\n                            onChange={e => handleNewOrderMealFormFieldChange(mealIndex, 'address.recipientName', e.target.value)}\r\n                            className={classNames(\r\n                              \"w-full p-2 rounded-md border text-sm\",\r\n                              theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                              \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                            )}\r\n                          />\r\n                        </div>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n                {/* Campos de la orden principal */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4 mt-6\">\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Total</label>\r\n                    <input\r\n                      type=\"number\"\r\n                      value={newOrderForm.total}\r\n                      onChange={e => setNewOrderForm(prev => ({ ...prev, total: Number(e.target.value) }))}\r\n                      className={classNames(\r\n                        \"w-full p-2 rounded-md border text-sm\",\r\n                        theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                        \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                      )}\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Estado</label>\r\n                    <select\r\n                      value={newOrderForm.status}\r\n                      onChange={e => setNewOrderForm(prev => ({ ...prev, status: e.target.value }))}\r\n                      className={classNames(\r\n                        \"w-full p-2 rounded-md border text-sm\",\r\n                        theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                        \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                      )}\r\n                    >\r\n                      <option value=\"Pendiente\">Pendiente</option>\r\n                      <option value=\"En Preparación\">En Preparación</option>\r\n                      <option value=\"En Camino\">En Camino</option>\r\n                      <option value=\"Entregado\">Entregado</option>\r\n                      <option value=\"Cancelado\">Cancelado</option>\r\n                    </select>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Método de Pago</label>\r\n                    <select\r\n                      value={newOrderForm.payment}\r\n                      onChange={e => setNewOrderForm(prev => ({ ...prev, payment: e.target.value }))}\r\n                      className={classNames(\r\n                        \"w-full p-2 rounded-md border text-sm\",\r\n                        theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                        \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                      )}\r\n                    >\r\n                      <option value=\"Efectivo\">Efectivo</option>\r\n                      <option value=\"Daviplata\">Daviplata</option>\r\n                      <option value=\"Nequi\">Nequi</option>\r\n                    </select>\r\n                  </div>\r\n                  <div>\r\n                    <label className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">Domiciliario</label>\r\n                    <input\r\n                      type=\"text\"\r\n                      value={newOrderForm.deliveryPerson}\r\n                      onChange={e => setNewOrderForm(prev => ({ ...prev, deliveryPerson: e.target.value }))}\r\n                      className={classNames(\r\n                        \"w-full p-2 rounded-md border text-sm\",\r\n                        theme === 'dark' ? 'border-gray-600 bg-gray-700 text-white' : 'border-gray-200 bg-white text-gray-900',\r\n                        \"focus:outline-none focus:ring-1 focus:ring-blue-500\"\r\n                      )}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                <div className=\"mt-6 flex justify-end gap-2\">\r\n                  <button\r\n                    onClick={() => setShowAddOrderModal(false)}\r\n                    className={classNames(\r\n                      \"px-4 py-2 rounded-md text-sm font-medium\",\r\n                      theme === 'dark' ? 'bg-gray-600 hover:bg-gray-700 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-900'\r\n                    )}\r\n                  >\r\n                    Cancelar\r\n                  </button>\r\n                  <button\r\n                    onClick={handleAddOrderSubmit}\r\n                    disabled={isLoading}\r\n                    className={classNames(\r\n                      \"px-4 py-2 rounded-md text-sm font-medium\",\r\n                      isLoading ? 'bg-gray-400 cursor-not-allowed' : theme === 'dark' ? 'bg-blue-600 hover:bg-blue-700 text-white' : 'bg-blue-500 hover:bg-blue-600 text-white'\r\n                    )}\r\n                  >\r\n                    {isLoading ? 'Guardando...' : 'Generar Orden'}\r\n                  </button>\r\n                </div>\r\n              </Dialog.Panel>\r\n            </Transition.Child>\r\n          </div>\r\n        </Dialog>\r\n      </Transition>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default InteraccionesPedidos;\r\n","import React, { useState, useEffect, useCallback, useMemo } from 'react';\r\nimport { db } from '../../config/firebase';\r\nimport { collection, onSnapshot, updateDoc, doc, deleteDoc, getDocs, query, where, writeBatch, addDoc, serverTimestamp } from 'firebase/firestore'; // Importar serverTimestamp\r\nimport { exportToExcel } from './utilities/exportToExcel';\r\nimport { exportToPDF } from './utilities/exportToPDF';\r\nimport { exportToCSV } from './utilities/exportToCSV';\r\nimport { generatePreviewHtml } from './utilities/previewOrders.js';\r\nimport { generateExcelPreviewHtml } from './utilities/previewExcel.js';\r\nimport { cleanText } from './utils';\r\nimport TablaPedidos from './TablaPedidos';\r\nimport InteraccionesPedidos from './InteraccionesPedidos';\r\n\r\nconst OrderManagement = ({ setError, setSuccess, theme }) => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [editingOrder, setEditingOrder] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [totals, setTotals] = useState({ cash: 0, daviplata: 0, nequi: 0 });\r\n  const [editForm, setEditForm] = useState({ meals: [], total: 0, status: '', payment: '', deliveryPerson: '' });\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n  const [itemsPerPage, setItemsPerPage] = useState(10);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [showConfirmDeleteAll, setShowConfirmDeleteAll] = useState(false);\r\n  const [confirmText, setConfirmText] = useState('');\r\n  const [showMealDetails, setShowMealDetails] = useState(null);\r\n  const [editingDeliveryId, setEditingDeliveryId] = useState(null);\r\n  const [deliveryPersons, setDeliveryPersons] = useState({});\r\n  const [sortBy, setSortBy] = useState('createdAt.seconds');\r\n  const [sortOrder, setSortOrder] = useState('desc');\r\n  const [proteins, setProteins] = useState([]);\r\n  const [newProtein, setNewProtein] = useState({ name: '', quantity: '' });\r\n  const [showProteinModal, setShowProteinModal] = useState(false);\r\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\r\n\r\n  // NUEVOS ESTADOS PARA GENERAR ORDEN\r\n  const [showAddOrderModal, setShowAddOrderModal] = useState(false);\r\n  const [newOrderForm, setNewOrderForm] = useState({\r\n    meals: [{\r\n      soup: '',\r\n      soupReplacement: '',\r\n      principle: [{ name: '' }],\r\n      principleReplacement: '',\r\n      protein: '',\r\n      drink: '',\r\n      cutlery: '',\r\n      sides: [],\r\n      additions: [],\r\n      notes: '',\r\n      address: {\r\n        address: '',\r\n        phoneNumber: '',\r\n        addressType: '',\r\n        localName: '',\r\n        recipientName: '',\r\n      },\r\n      time: '',\r\n      payment: 'Efectivo', // Default payment method\r\n    }],\r\n    total: 0,\r\n    status: 'Pendiente',\r\n    payment: 'Efectivo',\r\n    deliveryPerson: 'Sin asignar',\r\n  });\r\n\r\n  const totalProteinUnits = useMemo(() => proteins.reduce((sum, p) => sum + Number(p.quantity || 0), 0), [proteins]);\r\n\r\n  // Función para registrar actividades - AHORA ACEPTA UN OBJETO DE DETALLES\r\n  const logActivity = useCallback(async (action, details = {}) => {\r\n    try {\r\n      await addDoc(collection(db, 'userActivity'), {\r\n        action: action,\r\n        timestamp: serverTimestamp(), // Usa serverTimestamp para una marca de tiempo consistente\r\n        details: details, // Guarda los detalles adicionales\r\n      });\r\n    } catch (error) {\r\n      console.error(\"Error al registrar actividad:\", error);\r\n      // No se propaga el error para no interrumpir la acción principal\r\n    }\r\n  }, []);\r\n\r\n  const handleExport = (exportFunction, format) => {\r\n    try {\r\n      exportFunction(orders, totals, deliveryPersons, totalProteinUnits, proteins);\r\n      setSuccess(`Exportado correctamente como ${format}.`);\r\n      logActivity(`Exportó pedidos como ${format}`, { format: format }); // Registrar actividad con detalles\r\n    } catch (error) {\r\n      console.error(`Error al exportar ${format}:`, error);\r\n      setError(`Error al exportar ${format}: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const filteredOrders = useMemo(() => {\r\n    if (!searchTerm) return orders;\r\n    const lowerSearchTerm = searchTerm.toLowerCase();\r\n    return orders.filter(order => {\r\n      const address = order.meals?.[0]?.address?.address?.toLowerCase() || '';\r\n      const phone = order.meals?.[0]?.address?.phoneNumber?.toLowerCase() || '';\r\n      const time = order.meals?.[0]?.time?.name?.toLowerCase() || order.meals?.[0]?.time?.toLowerCase() || '';\r\n      const payment = cleanText(order.payment || order.meals?.[0]?.payment?.name || order.meals?.[0]?.payment || '').toLowerCase();\r\n      const deliveryPerson = order.deliveryPerson?.toLowerCase() || '';\r\n      const status = order.status?.toLowerCase() || '';\r\n      return address.includes(lowerSearchTerm) || phone.includes(lowerSearchTerm) || time.includes(lowerSearchTerm) || payment.includes(lowerSearchTerm) || deliveryPerson.includes(lowerSearchTerm) || status.includes(lowerSearchTerm);\r\n    });\r\n  }, [orders, searchTerm]);\r\n\r\n  const sortedOrders = useMemo(() => {\r\n    return [...filteredOrders].sort((a, b) => {\r\n      // Pasamos filteredOrders explícitamente a getValue para evitar problemas de cierre/referencia\r\n      const getValue = (obj, path, currentFilteredOrdersArray) => {\r\n        // Asegurarse de que obj no sea undefined antes de llamar a indexOf\r\n        if (path === 'orderNumber') return obj ? currentFilteredOrdersArray.indexOf(obj) : -1;\r\n        const value = path.split('.').reduce((acc, part) => acc && acc[part], obj);\r\n        return cleanText(value) || '';\r\n      };\r\n      const valueA = getValue(a, sortBy, filteredOrders); // Pasamos filteredOrders aquí\r\n      const valueB = getValue(b, sortBy, filteredOrders); // Y aquí\r\n      if (typeof valueA === 'string' && typeof valueB === 'string') {\r\n        return sortOrder === 'asc' ? valueA.localeCompare(valueB) : valueB.localeCompare(valueA);\r\n      }\r\n      return sortOrder === 'asc' ? valueA - valueB : valueB - valueA;\r\n    });\r\n  }, [filteredOrders, sortBy, sortOrder]);\r\n\r\n  const totalPages = Math.ceil(sortedOrders.length / itemsPerPage);\r\n  const paginatedOrders = useMemo(() => {\r\n    const start = (currentPage - 1) * itemsPerPage;\r\n    const end = start + itemsPerPage;\r\n    return sortedOrders.slice(start, end);\r\n  }, [sortedOrders, currentPage, itemsPerPage]);\r\n\r\n  const handleSort = (key) => {\r\n    if (sortBy === key) {\r\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortBy(key);\r\n      setSortOrder('asc');\r\n    }\r\n    setCurrentPage(1);\r\n  };\r\n\r\n  const getSortIcon = (key) => {\r\n    if (sortBy !== key) return null;\r\n    return sortOrder === 'asc' ? (\r\n      <svg className=\"w-4 h-4 inline ml-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M5 15l7-7 7 7\" />\r\n      </svg>\r\n    ) : (\r\n      <svg className=\"w-4 h-4 inline ml-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\r\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M19 9l-7 7-7-7\" />\r\n      </svg>\r\n    );\r\n  };\r\n  const fetchOrders = useCallback(() => {\r\n    setIsLoading(true);\r\n    const ordersColRef = collection(db, 'orders');\r\n    const unsubscribe = onSnapshot(ordersColRef, (snapshot) => {\r\n      const ordersData = snapshot.docs.map(doc => {\r\n        const data = doc.data();\r\n        // Normalize the order data\r\n        const meals = Array.isArray(data.meals) && data.meals.length > 0 ? data.meals : [{ address: {}, payment: {}, time: {} }];\r\n        return {\r\n          id: doc.id,\r\n          ...data,\r\n          meals: meals.map(meal => ({\r\n            ...meal,\r\n            address: meal.address || {},\r\n            payment: meal.payment || { name: 'Efectivo' },\r\n            time: meal.time || {},\r\n          })),\r\n          payment: data.payment || meals[0]?.payment?.name || 'Efectivo',\r\n          total: data.total || 0,\r\n          deliveryPerson: data.deliveryPerson || 'Sin asignar',\r\n          status: data.status || 'Pendiente',\r\n        };\r\n      });\r\n      setOrders(ordersData);\r\n      const newTotals = { cash: 0, daviplata: 0, nequi: 0 };\r\n      const newDeliveryPersons = {};\r\n      ordersData.forEach(order => {\r\n        const paymentSummary = order.paymentSummary || {};\r\n        newTotals.cash += paymentSummary['Efectivo'] || 0;\r\n        newTotals.daviplata += paymentSummary['Daviplata'] || 0;\r\n        newTotals.nequi += paymentSummary['Nequi'] || 0;\r\n        if (order.deliveryPerson) {\r\n          const personName = cleanText(order.deliveryPerson);\r\n          if (!newDeliveryPersons[personName]) newDeliveryPersons[personName] = { cash: 0, daviplata: 0, nequi: 0, total: 0 };\r\n          const paymentType = cleanText(order.payment || order.meals?.[0]?.payment?.name || order.meals?.[0]?.payment || 'Efectivo');\r\n          const amount = order.total || 0;\r\n          if (paymentType.toLowerCase() === 'efectivo') newDeliveryPersons[personName].cash += amount;\r\n          else if (paymentType.toLowerCase() === 'daviplata') newDeliveryPersons[personName].daviplata += amount;\r\n          else if (paymentType.toLowerCase() === 'nequi') newDeliveryPersons[personName].nequi += amount;\r\n          newDeliveryPersons[personName].total += amount;\r\n        }\r\n      });\r\n      setTotals(newTotals);\r\n      setDeliveryPersons(newDeliveryPersons);\r\n      setIsLoading(false);\r\n    }, (error) => {\r\n      setError(`Error al cargar pedidos: ${error.message}`);\r\n      setIsLoading(false);\r\n    });\r\n    return () => unsubscribe();\r\n  }, [setError]);\r\n\r\n  const fetchProteins = useCallback(() => {\r\n    const today = new Date().toISOString().split('T')[0];\r\n    const proteinsColRef = query(collection(db, 'dailyProteins'), where('date', '==', today));\r\n    const unsubscribe = onSnapshot(proteinsColRef, (snapshot) => {\r\n      const proteinsData = snapshot.docs.map(doc => ({ id: doc.id, ...doc.data() }));\r\n      setProteins(proteinsData);\r\n    }, (error) => {\r\n      setError(`Error al cargar proteínas: ${error.message}`);\r\n    });\r\n    return () => unsubscribe();\r\n  }, [setError]);\r\n\r\n  useEffect(() => {\r\n    const unsubscribeOrders = fetchOrders();\r\n    const unsubscribeProteins = fetchProteins();\r\n    return () => {\r\n      unsubscribeOrders();\r\n      unsubscribeProteins();\r\n    };\r\n  }, [fetchOrders, fetchProteins]);\r\n\r\n  const handleAddProtein = async () => {\r\n    if (!newProtein.name || !newProtein.quantity || isNaN(newProtein.quantity) || Number(newProtein.quantity) <= 0) {\r\n      setError('Por favor, ingrese un nombre de proteína válido y una cantidad mayor a 0.');\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n    try {\r\n      await addDoc(collection(db, 'dailyProteins'), {\r\n        name: newProtein.name.trim(),\r\n        quantity: Number(newProtein.quantity),\r\n        date: new Date().toISOString().split('T')[0],\r\n        createdAt: new Date(),\r\n      });\r\n      setNewProtein({ name: '', quantity: '' });\r\n      setShowProteinModal(false);\r\n      setSuccess('Proteína agregada correctamente.');\r\n      // PASAR DETALLES A logActivity\r\n      logActivity(`Agregó proteína: ${newProtein.name} (${newProtein.quantity} unidades)`, { proteinName: newProtein.name, quantity: Number(newProtein.quantity) });\r\n    } catch (error) {\r\n      setError(`Error al agregar proteína: ${error.message}`);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleEditOrder = useCallback((order) => {\r\n    setEditingOrder(order);\r\n    setEditForm({\r\n      meals: order.meals?.map(meal => ({\r\n        ...meal,\r\n        address: meal.address || {},\r\n        payment: meal.payment ? cleanText(meal.payment?.name || meal.payment) : 'Efectivo',\r\n        additions: meal.additions || [],\r\n        principle: Array.isArray(meal.principle) ? meal.principle : meal.principle ? [{ name: meal.principle.name || meal.principle }] : [],\r\n        cutlery: meal.cutlery || null,\r\n        sides: meal.sides || [],\r\n      })) || [],\r\n      total: order.total || 0,\r\n      status: order.status || 'Pendiente',\r\n      payment: order.payment ? cleanText(order.payment) : 'Efectivo',\r\n      deliveryPerson: order.deliveryPerson || '',\r\n    });\r\n  }, []);\r\n\r\n  // Handler para campos del formulario de EDICIÓN de pedido\r\n  const handleEditOrderMealFormFieldChange = (mealIndex, field, value) => {\r\n    setEditForm(prev => {\r\n      const newMeals = [...prev.meals];\r\n      if (!newMeals[mealIndex]) { // Asegurar que el objeto meal exista\r\n        newMeals[mealIndex] = { address: {}, payment: {}, time: {} };\r\n      }\r\n      if (field.includes('.')) {\r\n        const [parent, child] = field.split('.');\r\n        newMeals[mealIndex] = { ...newMeals[mealIndex], [parent]: { ...newMeals[mealIndex][parent], [child]: value } };\r\n      } else if (field === 'sides') {\r\n        newMeals[mealIndex] = { ...newMeals[mealIndex], sides: value.split(',').map(s => ({ name: s.trim() })) };\r\n      } else if (field === 'additions') {\r\n        newMeals[mealIndex] = {\r\n          ...newMeals[mealIndex],\r\n          additions: value.split(';').map(a => {\r\n            const [name, proteinOrReplacement = '', quantity = '1'] = a.split(',');\r\n            return { name: name.trim(), [proteinOrReplacement.includes('por') ? 'replacement' : 'protein']: proteinOrReplacement.trim(), quantity: Number(quantity) || 1 };\r\n          }).filter(a => a.name),\r\n        };\r\n      } else if (field === 'principle') {\r\n        newMeals[mealIndex] = { ...newMeals[mealIndex], principle: value.split(',').map(p => ({ name: p.trim() })).filter(p => p.name) };\r\n      } else {\r\n        newMeals[mealIndex] = { ...newMeals[mealIndex], [field]: value };\r\n      }\r\n      return { ...prev, meals: newMeals };\r\n    });\r\n  };\r\n\r\n  const handleSaveEdit = async () => {\r\n    if (!editingOrder) return;\r\n    setIsLoading(true);\r\n    try {\r\n      // Obtener el estado anterior del pedido para el log\r\n      const oldOrder = orders.find(o => o.id === editingOrder.id);\r\n      const previousState = oldOrder ? {\r\n        meals: oldOrder.meals,\r\n        total: oldOrder.total,\r\n        status: oldOrder.status,\r\n        payment: oldOrder.payment,\r\n        deliveryPerson: oldOrder.deliveryPerson,\r\n      } : {};\r\n\r\n      const updatedMealsForDB = editForm.meals.map(meal => ({\r\n        ...meal,\r\n        soup: meal.soup && typeof meal.soup === 'string' ? { name: meal.soup } : meal.soup,\r\n        soupReplacement: meal.soupReplacement && typeof meal.soupReplacement === 'string' ? { name: meal.soupReplacement } : meal.soupReplacement,\r\n        principle: Array.isArray(meal.principle) ? meal.principle.map(p => typeof p === 'string' ? { name: p } : p) : meal.principle && typeof meal.principle === 'string' ? [{ name: meal.principle }] : meal.principle,\r\n        principleReplacement: meal.principleReplacement && typeof meal.principleReplacement === 'string' ? { name: meal.principleReplacement } : meal.principleReplacement,\r\n        protein: meal.protein && typeof meal.protein === 'string' ? { name: meal.protein } : meal.protein,\r\n        drink: meal.drink && typeof meal.drink === 'string' ? { name: meal.drink } : meal.drink,\r\n        cutlery: meal.cutlery && typeof meal.cutlery === 'string' ? { name: meal.cutlery } : meal.cutlery,\r\n        time: meal.time && typeof meal.time === 'string' ? { name: meal.time } : meal.time,\r\n        payment: meal.payment && typeof meal.payment === 'string' ? { name: meal.payment } : meal.payment,\r\n        sides: Array.isArray(meal.sides) ? meal.sides.map(s => typeof s === 'string' ? { name: s } : s) : [],\r\n        additions: Array.isArray(meal.additions) ? meal.additions.map(a => ({ name: a.name || '', protein: a.protein || '', replacement: a.replacement || '', quantity: a.quantity || 1 })) : [],\r\n      }));\r\n      await updateDoc(doc(db, 'orders', editingOrder.id), { ...editForm, meals: updatedMealsForDB, updatedAt: new Date() });\r\n      setEditingOrder(null);\r\n      setSuccess('Pedido actualizado correctamente.');\r\n      // PASAR DETALLES A logActivity\r\n      logActivity(`Editó el pedido con ID: ${editingOrder.id}`, {\r\n        orderId: editingOrder.id,\r\n        previousState: previousState,\r\n        newState: { ...editForm, meals: updatedMealsForDB },\r\n      });\r\n    } catch (error) {\r\n      setError(`Error al guardar: ${error.message}`);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteOrder = async (orderId) => { // Acepta orderId como parámetro\r\n    setIsLoading(true);\r\n    try {\r\n      // Encontrar el objeto de la orden para registrar sus detalles\r\n      const orderToDelete = orders.find(o => o.id === orderId);\r\n\r\n      await deleteDoc(doc(db, 'orders', orderId));\r\n      setSuccess('Pedido eliminado correctamente.');\r\n      // PASAR DETALLES A logActivity\r\n      if (orderToDelete) {\r\n        logActivity(`Eliminó el pedido con ID: ${orderId}`, {\r\n          orderId: orderId,\r\n          deletedOrderDetails: { meals: orderToDelete.meals, total: orderToDelete.total, status: orderToDelete.status, payment: orderToDelete.payment, deliveryPerson: orderToDelete.deliveryPerson },\r\n        });\r\n      } else {\r\n        logActivity(`Eliminó el pedido con ID: ${orderId} (detalles no disponibles)`);\r\n      }\r\n    } catch (error) {\r\n      setError(`Error al eliminar: ${error.message}`);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeleteAllOrders = async () => {\r\n    if (confirmText.toLowerCase() !== 'confirmar') {\r\n      setError('Por favor, escribe \"confirmar\" para proceder.');\r\n      return;\r\n    }\r\n    setIsLoading(true);\r\n    try {\r\n      const batch = writeBatch(db);\r\n      const ordersSnapshot = await getDocs(collection(db, 'orders'));\r\n      ordersSnapshot.forEach(doc => batch.delete(doc.ref));\r\n      await batch.commit();\r\n      setShowConfirmDeleteAll(false);\r\n      setConfirmText('');\r\n      setSuccess('Todos los pedidos han sido eliminados.');\r\n      // PASAR DETALLES A logActivity\r\n      logActivity('Eliminó todos los pedidos', { count: ordersSnapshot.size });\r\n    } catch (error) {\r\n      setError(`Error al eliminar todos los pedidos: ${error.message}`);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleStatusChange = async (orderId, newStatus) => {\r\n    try {\r\n      const oldOrder = orders.find(o => o.id === orderId); // Obtener el pedido actual\r\n      const previousStatus = oldOrder ? oldOrder.status : 'Desconocido';\r\n\r\n      await updateDoc(doc(db, 'orders', orderId), { status: newStatus, updatedAt: new Date() });\r\n      setSuccess('Estado actualizado correctamente.');\r\n      // PASAR DETALLES A logActivity\r\n      logActivity(`Actualizó el estado del pedido ${orderId} a: ${newStatus}`, {\r\n        orderId: orderId,\r\n        previousStatus: previousStatus,\r\n        newStatus: newStatus,\r\n      });\r\n    } catch (error) {\r\n      setError(`Error al actualizar estado: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleDeliveryChange = async (orderId, deliveryPerson) => {\r\n    try {\r\n      const oldOrder = orders.find(o => o.id === orderId); // Obtener el pedido actual\r\n      const previousDeliveryPerson = oldOrder ? oldOrder.deliveryPerson : 'Desconocido';\r\n\r\n      await updateDoc(doc(db, 'orders', orderId), { deliveryPerson: deliveryPerson || null, updatedAt: new Date() });\r\n      setEditingDeliveryId(null);\r\n      setSuccess('Domiciliario actualizado correctamente.');\r\n      // PASAR DETALLES A logActivity\r\n      logActivity(`Asignó/Actualizó domiciliario para el pedido ${orderId} a: ${deliveryPerson || 'Sin asignar'}`, {\r\n        orderId: orderId,\r\n        previousDeliveryPerson: previousDeliveryPerson,\r\n        newDeliveryPerson: deliveryPerson || 'Sin asignar',\r\n      });\r\n    } catch (error) {\r\n      setError(`Error al actualizar domiciliario: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  const handleOpenPreview = () => {\r\n    const previewWindow = window.open('', '_blank');\r\n    previewWindow.document.write(generatePreviewHtml(orders, totals, deliveryPersons));\r\n    previewWindow.document.close();\r\n    // PASAR DETALLES A logActivity\r\n    logActivity('Abrió la vista previa de pedidos (PDF)', { type: 'PDF Preview' });\r\n  };\r\n\r\n  const handleOpenExcelPreview = () => {\r\n    const previewWindow = window.open('', '_blank');\r\n    previewWindow.document.write(generateExcelPreviewHtml(orders, totals, deliveryPersons, totalProteinUnits, proteins));\r\n    previewWindow.document.close();\r\n    // PASAR DETALLES A logActivity\r\n    logActivity('Abrió la vista previa de pedidos (Excel)', { type: 'Excel Preview' });\r\n  };\r\n\r\n  // NUEVAS FUNCIONES PARA GENERAR ORDEN\r\n  const handleNewOrderMealFormFieldChange = (mealIndex, field, value) => {\r\n    setNewOrderForm(prev => {\r\n      const newMeals = [...prev.meals];\r\n      if (!newMeals[mealIndex]) { // Ensure meal object exists\r\n        newMeals[mealIndex] = { address: {}, payment: {}, time: {} };\r\n      }\r\n\r\n      if (field.includes('.')) {\r\n        const [parent, child] = field.split('.');\r\n        newMeals[mealIndex] = { ...newMeals[mealIndex], [parent]: { ...newMeals[mealIndex][parent], [child]: value } };\r\n      } else if (field === 'sides') {\r\n        newMeals[mealIndex] = { ...newMeals[mealIndex], sides: value.split(',').map(s => ({ name: s.trim() })).filter(s => s.name) };\r\n      } else if (field === 'additions') {\r\n        newMeals[mealIndex] = {\r\n          ...newMeals[mealIndex],\r\n          additions: value.split(';').map(a => {\r\n            const [name, proteinOrReplacement = '', quantity = '1'] = a.split(',');\r\n            return { name: name.trim(), [proteinOrReplacement.includes('por') ? 'replacement' : 'protein']: proteinOrReplacement.trim(), quantity: Number(quantity) || 1 };\r\n          }).filter(a => a.name),\r\n        };\r\n      } else if (field === 'principle') {\r\n        newMeals[mealIndex] = { ...newMeals[mealIndex], principle: value.split(',').map(p => ({ name: p.trim() })).filter(p => p.name) };\r\n      } else {\r\n        newMeals[mealIndex] = { ...newMeals[mealIndex], [field]: value };\r\n      }\r\n      return { ...prev, meals: newMeals };\r\n    });\r\n  };\r\n\r\n  const handleAddOrderSubmit = async () => {\r\n    setIsLoading(true);\r\n    try {\r\n      // Normalizar datos para Firestore\r\n      const normalizedMeals = newOrderForm.meals.map(meal => ({\r\n        ...meal,\r\n        soup: meal.soup ? { name: meal.soup } : null,\r\n        soupReplacement: meal.soupReplacement ? { name: meal.soupReplacement } : null,\r\n        principle: Array.isArray(meal.principle) ? meal.principle.map(p => ({ name: p.name || p })) : (meal.principle ? [{ name: meal.principle }] : []),\r\n        principleReplacement: meal.principleReplacement ? { name: meal.principleReplacement } : null,\r\n        protein: meal.protein ? { name: meal.protein } : null,\r\n        drink: meal.drink ? { name: meal.drink } : null,\r\n        cutlery: meal.cutlery ? { name: meal.cutlery } : null,\r\n        time: meal.time ? { name: meal.time } : null,\r\n        payment: newOrderForm.payment ? { name: newOrderForm.payment } : { name: 'Efectivo' }, // Usar newOrderForm.payment\r\n        sides: Array.isArray(meal.sides) ? meal.sides.map(s => ({ name: s.name || s })) : [],\r\n        additions: Array.isArray(meal.additions) ? meal.additions.map(a => ({ name: a.name || '', protein: a.protein || '', replacement: a.replacement || '', quantity: a.quantity || 1 })) : [],\r\n      }));\r\n\r\n      // Calcular paymentSummary basado en el payment de la nueva orden\r\n      const paymentSummary = {\r\n        'Efectivo': newOrderForm.payment === 'Efectivo' ? newOrderForm.total : 0,\r\n        'Daviplata': newOrderForm.payment === 'Daviplata' ? newOrderForm.total : 0,\r\n        'Nequi': newOrderForm.payment === 'Nequi' ? newOrderForm.total : 0,\r\n      };\r\n\r\n      const orderData = {\r\n        ...newOrderForm,\r\n        meals: normalizedMeals,\r\n        createdAt: serverTimestamp(),\r\n        paymentSummary: paymentSummary, // Añadir paymentSummary\r\n      };\r\n\r\n      const docRef = await addDoc(collection(db, 'orders'), orderData);\r\n      setSuccess('Orden agregada correctamente.');\r\n      // PASAR DETALLES A logActivity\r\n      logActivity(`Agregó una nueva orden (Total: $${newOrderForm.total.toLocaleString()})`, {\r\n        orderId: docRef.id,\r\n        newOrderDetails: { ...newOrderForm, meals: normalizedMeals },\r\n      });\r\n      setShowAddOrderModal(false);\r\n      // Resetear el formulario después de guardar\r\n      setNewOrderForm({\r\n        meals: [{\r\n          soup: '',\r\n          soupReplacement: '',\r\n          principle: [{ name: '' }],\r\n          principleReplacement: '',\r\n          protein: '',\r\n          drink: '',\r\n          cutlery: '',\r\n          sides: [],\r\n          additions: [],\r\n          notes: '',\r\n          address: {\r\n            address: '',\r\n            phoneNumber: '',\r\n            addressType: '',\r\n            localName: '',\r\n            recipientName: '',\r\n          },\r\n          time: '',\r\n          payment: 'Efectivo',\r\n        }],\r\n        total: 0,\r\n        status: 'Pendiente',\r\n        payment: 'Efectivo',\r\n        deliveryPerson: 'Sin asignar',\r\n      });\r\n    } catch (error) {\r\n      setError(`Error al agregar orden: ${error.message}`);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Extraer nombres únicos de domiciliarios para el autocompletado\r\n  const uniqueDeliveryPersons = useMemo(() => {\r\n    return Object.keys(deliveryPersons);\r\n  }, [deliveryPersons]);\r\n\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6\">\r\n      <InteraccionesPedidos\r\n        theme={theme}\r\n        showProteinModal={showProteinModal}\r\n        setShowProteinModal={setShowProteinModal}\r\n        newProtein={newProtein}\r\n        setNewProtein={setNewProtein}\r\n        handleAddProtein={handleAddProtein}\r\n        proteins={proteins}\r\n        totalProteinUnits={totalProteinUnits}\r\n        isLoading={isLoading}\r\n        showMealDetails={showMealDetails}\r\n        setShowMealDetails={setShowMealDetails}\r\n        editingOrder={editingOrder}\r\n        setEditingOrder={setEditingOrder}\r\n        editForm={editForm}\r\n        handleMealFormFieldChange={handleEditOrderMealFormFieldChange}\r\n        handleSaveEdit={handleSaveEdit}\r\n        showConfirmDeleteAll={showConfirmDeleteAll}\r\n        setShowConfirmDeleteAll={setShowConfirmDeleteAll}\r\n        confirmText={confirmText}\r\n        setConfirmText={setConfirmText}\r\n        handleDeleteAllOrders={handleDeleteAllOrders}\r\n        setError={setError}\r\n        setSuccess={setSuccess}\r\n        // NUEVAS PROPS PARA GENERAR ORDEN\r\n        showAddOrderModal={showAddOrderModal}\r\n        setShowAddOrderModal={setShowAddOrderModal}\r\n        newOrderForm={newOrderForm}\r\n        handleNewOrderMealFormFieldChange={handleNewOrderMealFormFieldChange}\r\n        handleAddOrderSubmit={handleAddOrderSubmit}\r\n        uniqueDeliveryPersons={uniqueDeliveryPersons}\r\n      />\r\n      <TablaPedidos\r\n        theme={theme}\r\n        orders={orders}\r\n        searchTerm={searchTerm}\r\n        setSearchTerm={setSearchTerm}\r\n        totals={totals}\r\n        isLoading={isLoading}\r\n        paginatedOrders={paginatedOrders}\r\n        currentPage={currentPage}\r\n        totalPages={totalPages}\r\n        setCurrentPage={setCurrentPage}\r\n        itemsPerPage={itemsPerPage}\r\n        setItemsPerPage={setItemsPerPage}\r\n        deliveryPersons={deliveryPersons}\r\n        handleEditOrder={handleEditOrder}\r\n        handleDeleteOrder={handleDeleteOrder}\r\n        handleStatusChange={handleStatusChange}\r\n        handleSort={handleSort}\r\n        getSortIcon={getSortIcon}\r\n        setShowMealDetails={setShowMealDetails}\r\n        editingDeliveryId={editingDeliveryId}\r\n        setEditingDeliveryId={setEditingDeliveryId}\r\n        editForm={editForm}\r\n        setEditForm={setEditForm}\r\n        handleDeliveryChange={handleDeliveryChange}\r\n        sortOrder={sortOrder}\r\n        showProteinModal={showProteinModal}\r\n        setShowProteinModal={setShowProteinModal}\r\n        isMenuOpen={isMenuOpen}\r\n        setIsMenuOpen={setIsMenuOpen}\r\n        handleOpenPreview={handleOpenPreview}\r\n        handleOpenExcelPreview={handleOpenExcelPreview}\r\n        handleExport={handleExport}\r\n        handleDeleteAllOrders={handleDeleteAllOrders}\r\n        setShowConfirmDeleteAll={setShowConfirmDeleteAll}\r\n        exportToExcel={exportToExcel} // Pass the actual export function\r\n        exportToPDF={exportToPDF}     // Pass the actual export function\r\n        exportToCSV={exportToCSV}     // Pass the actual export function\r\n        // NUEVA PROP PARA GENERAR ORDEN\r\n        setShowAddOrderModal={setShowAddOrderModal}\r\n        uniqueDeliveryPersons={uniqueDeliveryPersons}\r\n      />\r\n\r\n      {/* Sección para el resumen de domiciliarios */}\r\n      <div className={`mt-8 p-6 rounded-2xl shadow-xl border ${theme === 'dark' ? 'bg-gray-800 border-gray-700' : 'bg-white border-gray-200'}`}>\r\n        <h3 className={`text-xl font-semibold mb-4 ${theme === 'dark' ? 'text-gray-100' : 'text-gray-900'}`}>Resumen por Domiciliarios</h3>\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6\">\r\n          {Object.entries(deliveryPersons).length === 0 ? (\r\n            <p className={`${theme === 'dark' ? 'text-gray-400' : 'text-gray-600'}`}>No hay domiciliarios asignados aún.</p>\r\n          ) : (\r\n            Object.entries(deliveryPersons).map(([person, data]) => (\r\n              <div key={person} className={`p-4 rounded-lg shadow-md ${theme === 'dark' ? 'bg-gray-700 text-gray-200' : 'bg-gray-100 text-gray-800'}`}>\r\n                <h4 className=\"font-semibold text-lg mb-2\">{person}</h4>\r\n                <p>Efectivo: <span className=\"font-bold\">${data.cash.toLocaleString()}</span></p>\r\n                <p>Daviplata: <span className=\"font-bold\">${data.daviplata.toLocaleString()}</span></p>\r\n                <p>Nequi: <span className=\"font-bold\">${data.nequi.toLocaleString()}</span></p>\r\n                <p className=\"font-bold mt-2\">Total: <span className=\"text-green-400\">${data.total.toLocaleString()}</span></p>\r\n              </div>\r\n            ))\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrderManagement;\r\n","export const generatePreviewHtml = (orders, totals, deliveryPersons) => {\r\n  let mealCounter = 0;\r\n  const pedidosBody = orders.flatMap((order) => {\r\n    if (!order || !Array.isArray(order.meals) || order.meals.length === 0) return [];\r\n    return order.meals.filter(meal => meal).map((meal) => {\r\n      mealCounter += 1;\r\n      return [\r\n        mealCounter,\r\n        meal?.address?.address || '',\r\n        meal?.address?.phoneNumber || '',\r\n        `$${order.total?.toLocaleString('es-CO') || '0'}`,\r\n        order?.deliveryPerson || ''\r\n      ];\r\n    });\r\n  });\r\n\r\n  if (pedidosBody.length === 0) pedidosBody.push(Array(5).fill('-'));\r\n\r\n  const deliveryBody = Object.entries(deliveryPersons).map(([name, data]) => [\r\n    name || '',\r\n    `$${data.cash?.toLocaleString('es-CO') || '0'}`,\r\n    `$${data.daviplata?.toLocaleString('es-CO') || '0'}`,\r\n    `$${data.nequi?.toLocaleString('es-CO') || '0'}`,\r\n    `$${data.total?.toLocaleString('es-CO') || '0'}`\r\n  ]);\r\n\r\n  const now = new Date();\r\n  const dateStr = now.toLocaleDateString('es-CO');\r\n  const timeStr = now.toLocaleTimeString('es-CO', { hour: '2-digit', minute: '2-digit', hour12: true });\r\n\r\n  return `\r\n    <html>\r\n      <head>\r\n        <title>Previsualización de Pedidos</title>\r\n        <style>\r\n          body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }\r\n          h1 { text-align: center; font-size: 24px; }\r\n          p.date { text-align: center; font-size: 12px; }\r\n          table { width: 100%; border-collapse: collapse; margin-top: 20px; }\r\n          th, td { padding: 8px; border: 1px solid black; }\r\n          th { background-color: #0066cc; color: white; font-weight: bold; }\r\n          td { text-align: left; }\r\n          td:nth-child(4) { text-align: right; }\r\n          tr:nth-child(even) { background-color: #f5f5f5; }\r\n          .totals-table { width: 50%; }\r\n          .delivery-table th:nth-child(n+2), .delivery-table td:nth-child(n+2) { text-align: right; }\r\n          .button-container { margin-top: 20px; text-align: center; }\r\n          .button { padding: 10px 20px; background-color: #0066cc; color: white; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }\r\n          .button.print { background-color: #28a745; }\r\n          @media print {\r\n              .button-container { display: none; }\r\n          }\r\n        </style>\r\n      </head>\r\n      <body>\r\n        <h1>Gestión de Pedidos</h1>\r\n        <p class=\"date\">Fecha: ${dateStr} ${timeStr}</p>\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>N</th>\r\n              <th>Dirección</th>\r\n              <th>Teléfono</th>\r\n              <th>Total</th>\r\n              <th>Domiciliario</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            ${pedidosBody.map(row => `\r\n              <tr>\r\n                <td>${row[0]}</td>\r\n                <td>${row[1]}</td>\r\n                <td>${row[2]}</td>\r\n                <td>${row[3]}</td>\r\n                <td>${row[4]}</td>\r\n              </tr>\r\n            `).join('')}\r\n          </tbody>\r\n        </table>\r\n        <h2 style=\"margin-top: 20px; font-size: 18px;\">Resumen de Totales</h2>\r\n        <table class=\"totals-table\">\r\n          <tbody>\r\n            <tr><td style=\"padding: 8px;\">Total Efectivo</td><td style=\"padding: 8px; text-align: right;\">${pedidosBody.length > 0 ? `$${totals.cash?.toLocaleString('es-CO') || '0'}` : '$0'}</td></tr>\r\n            <tr><td style=\"padding: 8px;\">Total Daviplata</td><td style=\"padding: 8px; text-align: right;\">${pedidosBody.length > 0 ? `$${totals.daviplata?.toLocaleString('es-CO') || '0'}` : '$0'}</td></tr>\r\n            <tr><td style=\"padding: 8px;\">Total Nequi</td><td style=\"padding: 8px; text-align: right;\">${pedidosBody.length > 0 ? `$${totals.nequi?.toLocaleString('es-CO') || '0'}` : '$0'}</td></tr>\r\n            <tr><td style=\"padding: 8px;\">Total General</td><td style=\"padding: 8px; text-align: right;\">${pedidosBody.length > 0 ? `$${(totals.cash + totals.daviplata + totals.nequi || 0).toLocaleString('es-CO')}` : '$0'}</td></tr>\r\n          </tbody>\r\n        </table>\r\n        <h2 style=\"margin-top: 20px; font-size: 18px;\">Resumen por Domiciliarios</h2>\r\n        <table class=\"delivery-table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Domiciliario</th>\r\n              <th>Efectivo</th>\r\n              <th>Daviplata</th>\r\n              <th>Nequi</th>\r\n              <th>Total</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            ${deliveryBody.map(row => `\r\n              <tr>\r\n                <td>${row[0]}</td>\r\n                <td>${row[1]}</td>\r\n                <td>${row[2]}</td>\r\n                <td>${row[3]}</td>\r\n                <td>${row[4]}</td>\r\n              </tr>\r\n            `).join('')}\r\n          </tbody>\r\n        </table>\r\n        <div class=\"button-container\">\r\n          <button class=\"button print\" onclick=\"window.print()\">Imprimir</button>\r\n          <button class=\"button\" onclick=\"window.close()\">Cerrar Previsualización</button>\r\n        </div>\r\n      </body>\r\n    </html>\r\n  `;\r\n};","export const generateExcelPreviewHtml = (orders, totals, deliveryPersons, totalProteinUnits = 0, proteins = []) => {\r\n  let mealCounter = 0;\r\n  const pedidosBody = orders.map((order) => {\r\n    mealCounter += 1;\r\n    const meal = order.meals?.[0] || {};\r\n    const payment = order.payment?.name || order.payment || meal?.payment?.name || meal?.payment || 'Efectivo';\r\n\r\n    return [\r\n      mealCounter,\r\n      meal?.address?.address || '',\r\n      meal?.address?.phoneNumber || '',\r\n      `$${order.total?.toLocaleString('es-CO') || '0'}`,\r\n      payment,\r\n      order?.deliveryPerson || ''\r\n    ];\r\n  });\r\n\r\n  if (pedidosBody.length === 0) pedidosBody.push(Array(6).fill('-'));\r\n\r\n  const deliveryBody = Object.entries(deliveryPersons).map(([name, data]) => [\r\n    name || '',\r\n    `$${data.cash?.toLocaleString('es-CO') || '0'}`,\r\n    `$${data.daviplata?.toLocaleString('es-CO') || '0'}`,\r\n    `$${data.nequi?.toLocaleString('es-CO') || '0'}`,\r\n    `$${data.total?.toLocaleString('es-CO') || '0'}`\r\n  ]);\r\n\r\n  const proteinsBody = proteins.length === 0\r\n    ? [['-', '-']]\r\n    : proteins.map((protein, index) => {\r\n        const isPenultimate = index === proteins.length - 2;\r\n        const isLast = index === proteins.length - 1;\r\n        return [\r\n          protein.name || 'Sin nombre',\r\n          protein.quantity?.toLocaleString('es-CO') || '0',\r\n          isPenultimate ? 'TOTAL PROTEÍNAS:' : isLast ? 'Fecha actual:' : '',\r\n          isPenultimate ? totalProteinUnits.toLocaleString('es-CO') : isLast ? new Date().toLocaleDateString('es-CO', { day: '2-digit', month: '2-digit', year: 'numeric' }) : ''\r\n        ];\r\n      });\r\n\r\n  // Se calculan los totales de forma precisa\r\n  const calculatedTotals = {\r\n    cash: totals.cash || 0,\r\n    daviplata: totals.daviplata || 0,\r\n    nequi: totals.nequi || 0\r\n  };\r\n  const totalGeneral = calculatedTotals.cash + calculatedTotals.daviplata + calculatedTotals.nequi;\r\n\r\n  return `\r\n    <html>\r\n      <head>\r\n        <title>Previsualización de Excel</title>\r\n        <style>\r\n          body { margin: 0; padding: 20px; font-family: Arial, sans-serif; }\r\n          h1 { text-align: center; font-size: 24px; }\r\n          table { width: 100%; border-collapse: collapse; }\r\n          th, td { padding: 8px; border: 1px solid black; }\r\n          th { background-color: #0066cc; color: white; font-weight: bold; text-align: center; font-size: 16px; }\r\n          td { text-align: left; vertical-align: middle; }\r\n          td:nth-child(4), td:nth-child(6) { text-align: right; }\r\n          tr:nth-child(even) { background-color: #f5f5f5; }\r\n          .totals-table { width: 50%; margin-left: auto; margin-right: auto; }\r\n\r\n          .proteins-container { width: auto; margin: 0 auto; max-width: 700px; }\r\n          .proteins-table {\r\n            border-collapse: collapse;\r\n            font-size: 14px;\r\n            width: 100%;\r\n            max-width: 700px;\r\n          }\r\n          .proteins-table th, .proteins-table td {\r\n            padding: 6px 12px;\r\n            border: 1px solid black;\r\n            white-space: nowrap;\r\n          }\r\n          .proteins-table th:nth-child(1), .proteins-table td:nth-child(1) { width: 160px; text-align: left; }\r\n          .proteins-table th:nth-child(2), .proteins-table td:nth-child(2) { width: 80px; text-align: right; }\r\n          .proteins-table th:nth-child(3), .proteins-table td:nth-child(3) { width: 220px; text-align: left; }\r\n\r\n          .delivery-table th { background-color: #0066cc; color: white; font-weight: bold; text-align: center; font-size: 16px; }\r\n          .delivery-table .green-header th { background-color: #28a745; }\r\n          .delivery-table td:nth-child(n+2) { text-align: right; }\r\n\r\n          .spacer { height: 16px; }\r\n          .button-container { margin-top: 20px; text-align: center; }\r\n          .button { padding: 10px 20px; background-color: #0066cc; color: white; border: none; border-radius: 5px; cursor: pointer; margin: 5px; }\r\n          .button.print { background-color: #28a745; }\r\n          @media print { .button-container { display: none; } }\r\n        </style>\r\n      </head>\r\n      <body>\r\n        <h1>Gestión de Pedidos</h1>\r\n        <div class=\"spacer\"></div>\r\n\r\n        <div class=\"proteins-container\">\r\n          <table class=\"proteins-table\" aria-label=\"Resumen de proteínas\">\r\n            <thead>\r\n              <tr>\r\n                <th style=\"background-color: #0066cc; color: white; border: 1px solid black;\">Proteína</th>\r\n                <th style=\"background-color: #0066cc; color: white; border: 1px solid black;\">Unidades</th>\r\n                <th style=\"background-color: #0066cc; color: white; border: 1px solid black;\"></th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              ${proteinsBody.map((row, index) => {\r\n                const thirdColumn = row[2] ? `\r\n                  <td style=\"padding: 0;\">\r\n                    <div style=\"display: flex; width: 100%; height: 100%;\">\r\n                      <div style=\"flex: 1; padding: 6px 12px; font-weight: bold; display: flex; align-items: center;\">${row[2]}</div>\r\n                      <div style=\"width: 1px; background-color: black;\"></div>\r\n                      <div style=\"flex: 1; padding: 6px 12px; display: flex; justify-content: flex-end; align-items: center; font-weight: ${row[2] === 'TOTAL PROTEÍNAS:' ? 'bold' : 'normal'};\">${row[3]}</div>\r\n                    </div>\r\n                  </td>\r\n                ` : '<td style=\"border: none; background-color: white;\"></td>';\r\n\r\n                return `\r\n                  <tr>\r\n                    <td title=\"${row[0]}\">${row[0]}</td>\r\n                    <td style=\"text-align: right;\">${row[1]}</td>\r\n                    ${thirdColumn}\r\n                  </tr>\r\n                `;\r\n              }).join('')}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        <div class=\"spacer\"></div><div class=\"spacer\"></div>\r\n\r\n        <table>\r\n          <thead>\r\n            <tr>\r\n              <th>N</th>\r\n              <th>Dirección</th>\r\n              <th>Teléfono</th>\r\n              <th>Total</th>\r\n              <th>Método de Pago</th>\r\n              <th>Domiciliario</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            ${pedidosBody.map(row => `\r\n              <tr>\r\n                <td>${row[0]}</td>\r\n                <td>${row[1]}</td>\r\n                <td>${row[2]}</td>\r\n                <td>${row[3]}</td>\r\n                <td>${row[4]}</td>\r\n                <td>${row[5]}</td>\r\n              </tr>\r\n            `).join('')}\r\n          </tbody>\r\n        </table>\r\n\r\n        <div class=\"spacer\"></div><div class=\"spacer\"></div>\r\n\r\n        <table class=\"totals-table\">\r\n          <thead>\r\n            <tr><th colspan=\"2\">Resumen de Totales</th></tr>\r\n          </thead>\r\n          <tbody>\r\n            <tr><td>Total Efectivo</td><td style=\"text-align: right;\">$${calculatedTotals.cash.toLocaleString('es-CO')}</td></tr>\r\n            <tr><td>Total Daviplata</td><td style=\"text-align: right;\">$${calculatedTotals.daviplata.toLocaleString('es-CO')}</td></tr>\r\n            <tr><td>Total Nequi</td><td style=\"text-align: right;\">$${calculatedTotals.nequi.toLocaleString('es-CO')}</td></tr>\r\n            <tr><td>Total General</td><td style=\"text-align: right;\">$${totalGeneral.toLocaleString('es-CO')}</td></tr>\r\n          </tbody>\r\n        </table>\r\n\r\n        <div class=\"spacer\"></div><div class=\"spacer\"></div>\r\n\r\n        <table class=\"delivery-table\">\r\n          <thead>\r\n            <tr><th colspan=\"5\">Resumen por Domiciliarios</th></tr>\r\n            <tr class=\"green-header\">\r\n              <th>Domiciliario</th>\r\n              <th>Efectivo</th>\r\n              <th>Daviplata</th>\r\n              <th>Nequi</th>\r\n              <th>Total</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            ${deliveryBody.map(row => `\r\n              <tr>\r\n                <td>${row[0]}</td>\r\n                <td>${row[1]}</td>\r\n                <td>${row[2]}</td>\r\n                <td>${row[3]}</td>\r\n                <td>${row[4]}</td>\r\n              </tr>\r\n            `).join('')}\r\n          </tbody>\r\n        </table>\r\n\r\n        <div class=\"button-container\">\r\n          <button class=\"button print\" onclick=\"window.print()\">Imprimir</button>\r\n          <button class=\"button\" onclick=\"window.close()\">Cerrar Previsualización</button>\r\n          <button class=\"button\" onclick=\"window.opener.postMessage('downloadExcel', '*')\">Descargar Excel</button>\r\n        </div>\r\n      </body>\r\n    </html>\r\n  `;\r\n};","// src/utils/classNames.js\r\nexport function classNames(...classes) {\r\n  return classes.filter(Boolean).join(' ');\r\n}"],"names":["exportToExcel","async","orders","totals","deliveryPersons","totalProteinUnits","proteins","_proteins","_proteins2","_proteins3","_proteins4","workbook","ExcelJS","worksheet","addWorksheet","cleanText","text","undefined","replace","trim","toString","name","String","applyThinBorder","cell","border","top","style","color","argb","left","bottom","right","addRow","proteinHeaderRow","lastRow","number","mergeCells","ourHeader","getCell","font","bold","fill","type","pattern","fgColor","alignment","horizontal","getRow","values","eachCell","colNumber","value","proteinData","length","quantity","extra","extraValue","slice","toLocaleString","Date","getDate","padStart","getMonth","getFullYear","forEach","protein","index","numFmt","mealCounter","pedidos","map","order","_order$meals","_meal$payment","_meal$address","_meal$address2","meal","meals","paymentValue","payment","console","warn","id","N","Dirección","address","Teléfono","phoneNumber","Total","total","MétodoDePago","Domiciliario","deliveryPerson","push","columns","key","width","pedidosHeaderRow","headerRow","pedido","resumenRow","resumenCell","cash","daviplata","nequi","_ref","label","row","resumenDomiciliariosRow","deliveryHeader","i","Object","entries","_ref2","data","buffer","xlsx","writeBuffer","blob","Blob","link","document","createElement","href","window","URL","createObjectURL","download","toISOString","body","appendChild","click","removeChild","error","alert","message","exportToPDF","arguments","_totals$cash","_totals$daviplata","_totals$nequi","doc","jsPDF","logoUrl","addImage","imgError","setFontSize","now","dateStr","toLocaleDateString","timeStr","toLocaleTimeString","hour","minute","hour12","pedidosBody","_order$payment","_order$total","paymentMethod","Array","autoTable","startY","head","styles","fontSize","cellPadding","overflow","headStyles","fillColor","textColor","fontStyle","lineWidth","lineColor","alternateRowStyles","columnStyles","cellWidth","halign","tableLineColor","tableLineWidth","didDrawPage","pageNumber","finalY","lastAutoTable","deliveryY","deliveryBody","_data$cash","_data$daviplata","_data$nequi","_data$total","save","split","exportToCSV","setSuccess","orderRows","flatMap","_meal$soup","_meal$principle","_meal$protein","_meal$drink","_meal$cutlery","_meal$sides","_meal$additions","_meal$time","_meal$address3","_meal$address4","_meal$address5","_meal$address6","soup","isArray","principle","p","join","drink","cutlery","sides","s","additions","a","replacement","notes","time","addressType","localName","recipientName","unitDetails","status","createdAt","seconds","updatedAt","totalsRows","deliveryRows","csvContent","url","revokeObjectURL","getAddressDisplay","display","getMealDetailsDisplay","_meal$soupReplacement","_meal$soupReplacement2","_meal$soup2","_meal$principleReplac","_meal$protein2","_meal$time2","_meal$address7","_meal$address8","_meal$payment2","components","soupDisplay","soupReplacement","principleDisplay","_meal$principleReplac2","principleReplacement","principleNames","filter","Boolean","_meal$principle2","drinkName","addressTypeDisplay","areMealsIdentical","areIdentical","count","fieldsToCompare","getMealSignature","field","path","obj","reduce","acc","part","getNestedProperty","sort","firstSignature","every","theme","searchTerm","setSearchTerm","isLoading","paginatedOrders","currentPage","totalPages","setCurrentPage","itemsPerPage","setItemsPerPage","handleEditOrder","handleDeleteOrder","handleStatusChange","handleSort","getSortIcon","setShowMealDetails","editingDeliveryId","setEditingDeliveryId","editForm","setEditForm","handleDeliveryChange","sortOrder","showProteinModal","setShowProteinModal","isMenuOpen","setIsMenuOpen","handleOpenPreview","handleOpenExcelPreview","handleExport","handleDeleteAllOrders","setShowConfirmDeleteAll","setShowAddOrderModal","currentDate","weekday","month","day","menuRef","useRef","useEffect","handleClickOutside","event","current","contains","target","addEventListener","removeEventListener","_jsx","_Fragment","children","_jsxs","className","classNames","onChange","e","placeholder","onClick","PlusIcon","ref","EllipsisVerticalIcon","ArrowDownTrayIcon","colSpan","_order$meals$","_order$meals2","_order$meals2$","_order$meals2$$paymen","_order$meals3","_order$meals3$","_order$meals4","_order$meals4$","_order$meals5","_order$meals5$","_order$meals5$$addres","displayNumber","addressDisplay","paymentDisplay","statusClass","timeValue","displayTime","title","InformationCircleIcon","prev","onBlur","onKeyPress","autoFocus","PencilIcon","TrashIcon","Number","Math","max","disabled","ChevronLeftIcon","min","ChevronRightIcon","keys","_showMealDetails$tota","newProtein","setNewProtein","handleAddProtein","showMealDetails","editingOrder","setEditingOrder","handleMealFormFieldChange","handleSaveEdit","showConfirmDeleteAll","confirmText","setConfirmText","setError","showAddOrderModal","newOrderForm","handleNewOrderMealFormFieldChange","handleAddOrderSubmit","editingProtein","setEditingProtein","useState","Transition","show","as","React","Dialog","onClose","Child","enter","enterFrom","enterTo","leave","leaveFrom","leaveTo","Panel","Title","XMarkIcon","handleCancelEditProtein","isNaN","updateDoc","db","handleEditProtein","deleteDoc","proteinId","handleDeleteProtein","mealIndex","toLowerCase","_meal$sides2","_meal$additions2","_meal$address9","_meal$address0","_meal$address1","_meal$address10","_meal$address11","_meal$address12","setNewOrderForm","setOrders","setTotals","setIsLoading","setDeliveryPersons","sortBy","setSortBy","setSortOrder","setProteins","useMemo","sum","logActivity","useCallback","action","details","addDoc","collection","timestamp","serverTimestamp","filteredOrders","lowerSearchTerm","_order$meals$$address","_order$meals$$address2","_order$meals2$$addres","_order$meals2$$addres2","_order$meals3$$time","_order$meals3$$time$n","_order$meals4$$time","_order$meals5$$paymen","_order$meals6","_order$meals6$","_order$deliveryPerson","_order$status","phone","includes","sortedOrders","b","getValue","currentFilteredOrdersArray","indexOf","valueA","valueB","localeCompare","ceil","start","end","fetchOrders","ordersColRef","unsubscribe","onSnapshot","snapshot","ordersData","docs","_meals$","_meals$$payment","newTotals","newDeliveryPersons","paymentSummary","_order$meals7","_order$meals7$","_order$meals7$$paymen","_order$meals8","_order$meals8$","personName","paymentType","amount","fetchProteins","today","proteinsColRef","query","where","proteinsData","unsubscribeOrders","unsubscribeProteins","_order$meals9","batch","writeBatch","ordersSnapshot","getDocs","delete","commit","size","uniqueDeliveryPersons","InteraccionesPedidos","date","proteinName","handleEditOrderMealFormFieldChange","newMeals","parent","child","proteinOrReplacement","oldOrder","find","o","previousState","updatedMealsForDB","orderId","newState","normalizedMeals","orderData","docRef","newOrderDetails","TablaPedidos","orderToDelete","deletedOrderDetails","newStatus","previousStatus","stroke","viewBox","xmlns","strokeLinecap","strokeLinejoin","strokeWidth","d","previousDeliveryPerson","newDeliveryPerson","previewWindow","open","write","generatePreviewHtml","close","proteinsBody","_protein$quantity","isPenultimate","isLast","year","calculatedTotals","totalGeneral","thirdColumn","generateExcelPreviewHtml","exportFunction","format","person","_len","classes","_key"],"sourceRoot":""}