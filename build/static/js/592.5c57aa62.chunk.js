"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[592],{2811:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(5043);function r(e,a){let{title:t,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},n),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const n=s.forwardRef(r)},6592:(e,a,t)=>{t.r(a),t.d(a,{default:()=>f});var s=t(5043),r=t(1958),n=t(5472),i=t(8662);function o(e,a){let{title:t,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},n),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const l=s.forwardRef(o);function d(e,a){let{title:t,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},n),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const c=s.forwardRef(d);function m(e,a){let{title:t,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},n),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const u=s.forwardRef(m);var h=t(2811),x=t(9248),g=t(7591),p=t(579);const b=e=>{let{id:a,label:t,checked:s,onChange:r,theme:n}=e;return(0,p.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,p.jsx)("input",{type:"checkbox",id:a,checked:s,onChange:r,className:"hidden"}),(0,p.jsxs)("label",{htmlFor:a,className:"flex items-center cursor-pointer",children:[(0,p.jsx)("div",{className:"w-5 h-5 border-2 rounded flex items-center justify-center transition-all duration-200\n        "+(s?"bg-blue-600 border-blue-600":"bg-transparent "+("dark"===n?"border-gray-500":"border-gray-400")),children:s&&(0,p.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,p.jsx)("span",{className:"ml-2 text-sm "+("dark"===n?"text-gray-200":"text-gray-700"),children:t})]})]})},f=e=>{let{setError:a,setSuccess:t,theme:o}=e;const[d,m]=(0,s.useState)("soups"),[f,y]=(0,s.useState)([]),[w,j]=(0,s.useState)({name:"",description:"",emoji:"",price:"",isNew:!1,steps:[]}),[v,k]=(0,s.useState)(null),[N,E]=(0,s.useState)({name:"",description:"",emoji:"",price:"",isNew:!1,isFinished:!1,steps:[]}),[C,A]=(0,s.useState)(!1),[S,F]=(0,s.useState)(!1),[$,L]=(0,s.useState)(null),[D,P]=(0,s.useState)(""),[M,H]=(0,s.useState)({breakfastStart:"07:00",breakfastEnd:"11:00",lunchStart:"11:01",lunchEnd:"15:50"}),[T,I]=(0,s.useState)([]),z={soups:"Sopas",soupReplacements:"Reemplazos de Sopa",principles:"Principios",proteins:"Prote\xednas",drinks:"Bebidas",sides:"Acompa\xf1amientos",additions:"Adiciones",times:"Horarios de Almuerzo",breakfastTimes:"Horarios de Desayuno",paymentMethods:"M\xe9todos de Pago",breakfastEggs:"Huevos para Desayuno",breakfastBroths:"Caldo para Desayuno",breakfastRiceBread:"Arroz o Pan para Desayuno",breakfastDrinks:"Bebidas para Desayuno",breakfastAdditions:"Adiciones para Desayuno",breakfastTypes:"Tipos de Desayuno",breakfastProteins:"Prote\xednas para Desayuno",schedules:"Horarios de Men\xfa"},B=Object.keys(z),O=(0,s.useRef)(null);(0,s.useEffect)(()=>{if("schedules"===d){const e=(0,n.aQ)((0,n.H9)(r.db,"settings","schedules"),e=>{if(e.exists()){const a=e.data();H({breakfastStart:a.breakfastStart?U(a.breakfastStart):"07:00",breakfastEnd:a.breakfastEnd?U(a.breakfastEnd):"11:00",lunchStart:a.lunchStart?U(a.lunchStart):"11:01",lunchEnd:a.lunchEnd?U(a.lunchEnd):"15:50"})}},e=>a(`Error cargando horarios: ${e.message}`));return()=>e()}{const e=(0,n.P)((0,n.rJ)(r.db,d),(0,n.My)("createdAt","asc")),t=(0,n.aQ)(e,e=>{const a=e.docs.map(e=>({id:e.id,...e.data()}));if(y(a),O.current){const{scrollHeight:e,clientHeight:a,scrollTop:t}=O.current;e-t<a+100&&(O.current.scrollTop=e)}},e=>a(`Error cargando datos: ${e.message}`));return()=>t()}},[d,a]),(0,s.useEffect)(()=>{const e=(0,n.aQ)((0,n.rJ)(r.db,"breakfastProteins"),e=>{const t=e.docs.map(e=>({id:e.id,...e.data()}));I(t),0===t.length&&"breakfastTypes"===d&&a('No hay prote\xednas disponibles. Agrega al menos una prote\xedna en "Prote\xednas para Desayuno" antes de incluir el paso de prote\xedna.')},e=>{a("Error al cargar prote\xednas para desayunos.")});return()=>e()},[d,a]);const R=e=>{const[a,t]=e.split(":").map(Number);return 60*a+t},U=e=>{const a=e%60;return`${Math.floor(e/60).toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`},W=f.filter(e=>{const a=e.name&&"string"===typeof e.name?e.name.toLowerCase():"",t=e.description&&"string"===typeof e.description?e.description.toLowerCase():"",s=D.toLowerCase();return a.includes(s)||t.includes(s)}),q=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return`p-3 rounded-lg w-full transition-all duration-200 focus:ring-2 focus:ring-blue-500 focus:outline-none ${"dark"===o?"bg-gray-700 text-gray-100 placeholder-gray-400":(e?"bg-gray-200":"bg-white")+" text-gray-800 placeholder-gray-500 border border-gray-300"}`},Z=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"dark"===o?e?"bg-gray-800":"bg-gray-900":e?"bg-white":"bg-gray-50"},G=[{id:"eggs",label:"Huevos"},{id:"broth",label:"Caldo"},{id:"riceBread",label:"Arroz/Pan"},{id:"drink",label:"Bebida"},{id:"protein",label:"Prote\xedna"}];return(0,p.jsxs)("div",{className:`min-h-screen ${Z(!0)} text-gray-100 p-4 sm:p-6 lg:p-8 flex flex-col md:flex-row gap-6`,children:[(0,p.jsxs)("aside",{className:`w-full md:w-64 flex-shrink-0 ${Z()} p-4 sm:p-6 rounded-xl shadow-lg border ${"dark"===o?"border-gray-700":"border-gray-200"}`,children:[(0,p.jsx)("h2",{className:"text-xl font-bold mb-4 md:mb-6 text-gray-200 dark:text-white",children:"Categor\xedas"}),(0,p.jsx)("nav",{className:"flex md:flex-col gap-2 md:gap-3 overflow-x-auto whitespace-nowrap md:whitespace-normal custom-scrollbar-horizontal pb-2 md:pb-0",children:B.map(e=>(0,p.jsx)("button",{onClick:()=>m(e),className:"flex-shrink-0 md:flex-shrink w-auto md:w-full text-left px-3 py-1.5 md:px-4 md:py-2 rounded-lg transition-all duration-200 text-sm font-medium\n                "+(d===e?"bg-blue-600 text-white shadow-md":""+("dark"===o?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-800")),children:z[e]},e))})]}),(0,p.jsx)("main",{className:`flex-1 ${Z()} p-4 sm:p-6 rounded-xl shadow-lg border ${"dark"===o?"border-gray-700":"border-gray-200"}`,children:"schedules"===d?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h2",{className:"text-xl sm:text-2xl font-extrabold mb-4 sm:mb-6 text-gray-200 dark:text-white",children:"Gesti\xf3n de Horarios de Men\xfa"}),(0,p.jsxs)("div",{className:`${Z()} p-4 sm:p-6 rounded-lg mb-6 shadow-inner`,children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold mb-4 text-gray-200 dark:text-white flex items-center",children:[(0,p.jsx)(i.A,{className:"h-5 w-5 mr-2 text-green-400"})," Configurar Horarios"]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-200 dark:text-white mb-1",children:"Inicio Desayuno"}),(0,p.jsx)("input",{type:"time",value:M.breakfastStart,onChange:e=>H({...M,breakfastStart:e.target.value}),className:q()})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-200 dark:text-white mb-1",children:"Fin Desayuno"}),(0,p.jsx)("input",{type:"time",value:M.breakfastEnd,onChange:e=>H({...M,breakfastEnd:e.target.value}),className:q()})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-200 dark:text-white mb-1",children:"Inicio Almuerzo"}),(0,p.jsx)("input",{type:"time",value:M.lunchStart,onChange:e=>H({...M,lunchStart:e.target.value}),className:q()})]}),(0,p.jsxs)("div",{children:[(0,p.jsx)("label",{className:"block text-sm font-medium text-gray-200 dark:text-white mb-1",children:"Fin Almuerzo"}),(0,p.jsx)("input",{type:"time",value:M.lunchEnd,onChange:e=>H({...M,lunchEnd:e.target.value}),className:q()})]})]}),(0,p.jsx)("button",{onClick:async()=>{const{breakfastStart:e,breakfastEnd:s,lunchStart:i,lunchEnd:o}=M,l={breakfastStart:R(e),breakfastEnd:R(s),lunchStart:R(i),lunchEnd:R(o)};if(l.breakfastStart>=l.breakfastEnd)a("La hora de inicio de desayuno debe ser anterior a la hora de fin.");else if(l.lunchStart>=l.lunchEnd)a("La hora de inicio de almuerzo debe ser anterior a la hora de fin.");else if(l.breakfastEnd>l.lunchStart)a("La hora de fin de desayuno debe ser anterior o igual a la hora de inicio de almuerzo.");else try{await(0,n.BN)((0,n.H9)(r.db,"settings","schedules"),l),t("Horarios actualizados exitosamente.")}catch(d){a(`Error al guardar horarios: ${d.message}`)}},className:"mt-6 w-full py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold rounded-lg shadow-md transition-all duration-300 transform hover:scale-105",children:"Guardar Horarios"})]})]}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("h2",{className:"text-xl sm:text-2xl font-extrabold mb-4 sm:mb-6 text-gray-200 dark:text-white flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0",children:[(0,p.jsxs)("span",{children:["Gesti\xf3n de ",z[d]]}),(0,p.jsxs)("button",{onClick:()=>A(!C),className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 shadow-md text-sm sm:text-base w-full sm:w-auto justify-center",children:[(0,p.jsx)(i.A,{className:"h-5 w-5 mr-2"}),C?"Ocultar Formulario":`A\xf1adir ${z[d]}`]})]}),(0,p.jsx)("div",{className:"transition-all duration-500 ease-in-out overflow-hidden "+(C?"max-h-screen opacity-100":"max-h-0 opacity-0"),children:(0,p.jsxs)("div",{className:`${Z()} p-4 sm:p-6 rounded-lg mb-6 shadow-inner`,children:[(0,p.jsxs)("h3",{className:"text-lg font-semibold mb-4 text-gray-200 dark:text-white flex items-center",children:[(0,p.jsx)(i.A,{className:"h-5 w-5 mr-2 text-green-400"})," Agregar Nuevo ",z[d]]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,p.jsx)("input",{value:w.name,onChange:e=>j({...w,name:e.target.value}),placeholder:"breakfastTimes"===d||"times"===d?"Horario (ej. 07:30 o cualquier texto)":`Nombre de ${z[d]}`,className:q()}),(0,p.jsx)("input",{value:w.emoji,onChange:e=>j({...w,emoji:e.target.value}),placeholder:"Emoji (ej. \ud83c\udf5c)",className:q()})]}),(0,p.jsx)("textarea",{value:w.description,onChange:e=>j({...w,description:e.target.value}),placeholder:"Descripci\xf3n (opcional)",className:`${q()} mt-4`,rows:"2"}),("additions"===d||"breakfastAdditions"===d)&&(0,p.jsx)("input",{value:w.price,onChange:e=>j({...w,price:e.target.value}),placeholder:"Precio (COP)",type:"number",min:"0",step:"any",className:`${q()} mt-4`}),"breakfastTypes"===d&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{className:"mt-4",children:[(0,p.jsx)("h4",{className:"text-sm font-medium text-gray-200 dark:text-white mb-2",children:"Pasos Configurables"}),(0,p.jsx)("div",{className:"grid grid-cols-2 gap-2",children:G.map(e=>(0,p.jsx)(b,{id:`new-step-${e.id}`,label:e.label,checked:w.steps.includes(e.id),onChange:()=>{j({...w,steps:w.steps.includes(e.id)?w.steps.filter(a=>a!==e.id):[...w.steps,e.id]})},theme:o},e.id))}),(0,p.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:'Nota: Los pasos "Cubiertos", "Direcci\xf3n" y "M\xe9todo de Pago" se incluir\xe1n autom\xe1ticamente.'})]})}),"times"!==d&&"breakfastTimes"!==d&&"paymentMethods"!==d&&(0,p.jsx)("div",{className:"mt-4",children:(0,p.jsx)(b,{id:"isNew",label:"Marcar como 'Nuevo'",checked:w.isNew,onChange:e=>j({...w,isNew:e.target.checked}),theme:o})}),(0,p.jsxs)("button",{onClick:async()=>{if(w.name.trim())if("additions"!==d&&"breakfastAdditions"!==d||!(!w.price||isNaN(parseFloat(w.price))||parseFloat(w.price)<=0)){if("breakfastTypes"===d){if(0===w.steps.length)return void a("Debe seleccionar al menos un paso para el tipo de desayuno");if(w.steps.includes("protein")&&0===T.length)return void a('No hay prote\xednas disponibles. Agrega al menos una prote\xedna en "Prote\xednas para Desayuno" antes de incluir el paso de prote\xedna.')}try{const e={name:w.name.trim()||"Unnamed Item",description:w.description.trim()||"",emoji:w.emoji.trim()||"",isNew:w.isNew,createdAt:new Date};"additions"!==d&&"breakfastAdditions"!==d||(e.price=parseFloat(w.price)),"breakfastTypes"===d&&(e.steps=w.steps,e.requiresProtein=w.steps.includes("protein")),await(0,n.gS)((0,n.rJ)(r.db,d),e),j({name:"",description:"",emoji:"",price:"",isNew:!1,steps:[]}),A(!1),window.dispatchEvent(new Event("optionsUpdated")),t(`"${e.name}" agregado exitosamente.`)}catch(e){a(`Error al agregar: ${e.message}`)}}else a("El precio debe ser un n\xfamero v\xe1lido mayor a 0 para Adiciones");else a("El nombre no puede estar vac\xedo")},className:"mt-6 w-full py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold rounded-lg shadow-md transition-all duration-300 transform hover:scale-105",children:["Agregar ",z[d]]})]})}),(0,p.jsxs)("div",{className:"mt-8",children:[(0,p.jsxs)("h3",{className:"text-xl font-bold mb-4 text-gray-200 dark:text-white flex items-center",children:[(0,p.jsx)(l,{className:"h-5 w-5 mr-2 text-blue-400"})," Lista de ",z[d]]}),(0,p.jsxs)("div",{className:"relative mb-4",children:[(0,p.jsx)("input",{type:"text",placeholder:"Buscar...",value:D,onChange:e=>P(e.target.value),className:`${q(!1)} pl-10`}),(0,p.jsx)(l,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 "+("dark"===o?"text-gray-400":"text-gray-600")})]}),0===W.length&&""!==D?(0,p.jsxs)("p",{className:"text-center py-8 "+("dark"===o?"text-gray-400":"text-gray-600"),children:['No se encontraron resultados para "',D,'".']}):0===W.length?(0,p.jsx)("p",{className:"text-center py-8 "+("dark"===o?"text-gray-400":"text-gray-600"),children:"A\xfan no hay elementos en esta categor\xeda. \xa1Agrega uno!"}):(0,p.jsx)("div",{ref:O,className:"space-y-4 max-h-[calc(100vh-300px)] md:max-h-[calc(100vh-350px)] overflow-y-auto pr-2 custom-scrollbar",children:W.map(e=>(0,p.jsxs)("div",{className:"p-4 rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center transition-all duration-300 shadow-md transform hover:-translate-y-1 hover:shadow-lg\n                        "+(e.isFinished?"bg-red-800/20 text-red-200 border border-red-700/50":"dark"===o?"bg-gray-700/50 text-gray-100 border border-gray-600":"bg-blue-50/50 text-gray-900 border border-blue-100"),children:[(0,p.jsxs)("div",{className:"flex flex-col flex-grow mb-3 sm:mb-0",children:[(0,p.jsxs)("div",{className:"flex items-center flex-wrap",children:[e.emoji&&(0,p.jsx)("span",{className:"mr-2 text-xl",children:e.emoji}),(0,p.jsx)("span",{className:"text-lg font-semibold "+(e.isFinished?"line-through text-gray-400":""),children:e.name||"Unnamed Item"}),e.isNew&&(0,p.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-green-500/20 text-green-300 text-xs font-bold rounded-full mt-1 sm:mt-0",children:"NUEVO"}),e.isFinished&&(0,p.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-red-500/20 text-red-300 text-xs font-bold rounded-full mt-1 sm:mt-0",children:"AGOTADO"})]}),e.description&&(0,p.jsx)("p",{className:"text-sm mt-1 "+("dark"===o?"text-gray-300":"text-gray-700"),children:e.description}),void 0!==e.price&&(0,p.jsxs)("p",{className:"text-sm mt-1 font-medium "+("dark"===o?"text-gray-200":"text-gray-800"),children:["Precio: $",e.price.toLocaleString("es-CO",{minimumFractionDigits:0,maximumFractionDigits:0})]}),e.steps&&(0,p.jsxs)("p",{className:"text-sm mt-1 "+("dark"===o?"text-gray-300":"text-gray-700"),children:["Pasos Configurables: ",e.steps.map(e=>{var a;return(null===(a=G.find(a=>a.id===e))||void 0===a?void 0:a.label)||e}).join(", ")]})]}),(0,p.jsxs)("div",{className:"flex gap-2 flex-wrap justify-end w-full sm:w-auto",children:[("times"===d||"breakfastTimes"===d||"paymentMethods"!==d)&&(0,p.jsx)("button",{onClick:()=>(async e=>{try{await(0,n.mZ)((0,n.H9)(r.db,d,e.id),{isFinished:!e.isFinished}),t(`"${e.name}" ${e.isFinished?"marcado como disponible":"marcado como agotado"}.`)}catch(s){a(`Error al actualizar: ${s.message}`)}})(e),className:"p-2 rounded-full transition-all duration-300 transform hover:scale-110\n                              "+(e.isFinished?"bg-yellow-500 hover:bg-yellow-600 text-white":"dark"===o?"bg-gray-600 hover:bg-gray-500 text-gray-200":"bg-gray-200 hover:bg-gray-300 text-gray-700"),title:e.isFinished?"Marcar como Disponible":"Marcar como Agotado",children:e.isFinished?(0,p.jsx)(c,{className:"w-5 h-5"}):(0,p.jsx)(u,{className:"w-5 h-5"})}),(0,p.jsx)("button",{onClick:()=>(e=>{k(e),E({...e,price:void 0!==e.price?e.price.toString():"",isFinished:e.isFinished||!1,steps:e.steps||[]})})(e),className:"p-2 rounded-full bg-blue-600 hover:bg-blue-700 text-white transition-all duration-300 transform hover:scale-110",title:"Editar",children:(0,p.jsx)(h.A,{className:"w-5 h-5"})}),(0,p.jsx)("button",{onClick:()=>{return a=e.id,t=e.name||"Unnamed Item",L({id:a,name:t}),void F(!0);var a,t},className:"p-2 rounded-full bg-red-600 hover:bg-red-700 text-white transition-all duration-300 transform hover:scale-110",title:"Eliminar",children:(0,p.jsx)(x.A,{className:"w-5 h-5"})})]})]},e.id))})]})]})}),v&&(0,p.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in",children:(0,p.jsxs)("div",{className:`relative ${Z()} p-6 rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl transform scale-95 animate-scale-in`,children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,p.jsxs)("h2",{className:"text-xl font-bold text-gray-200 dark:text-white",children:["Editar ",v.name||"Unnamed Item"]}),(0,p.jsx)("button",{onClick:()=>k(null),className:"text-gray-400 hover:text-gray-200 p-1 rounded-full hover:bg-gray-700 transition-colors",children:(0,p.jsx)(g.A,{className:"h-7 w-7"})})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsx)("input",{value:N.name,onChange:e=>E({...N,name:e.target.value}),placeholder:"breakfastTimes"===d||"times"===d?"Horario (ej. 07:30 o cualquier texto)":"Nombre",className:q(!1)}),(0,p.jsx)("textarea",{value:N.description,onChange:e=>E({...N,description:e.target.value}),placeholder:"Descripci\xf3n",className:q(!1),rows:"3"}),(0,p.jsx)("input",{value:N.emoji,onChange:e=>E({...N,emoji:e.target.value}),placeholder:"Emoji",className:q(!1)}),("additions"===d||"breakfastAdditions"===d)&&(0,p.jsx)("input",{value:N.price,onChange:e=>E({...N,price:e.target.value}),placeholder:"Precio (COP)",type:"number",min:"0",step:"any",className:q(!1)}),"breakfastTypes"===d&&(0,p.jsx)(p.Fragment,{children:(0,p.jsxs)("div",{children:[(0,p.jsx)("h4",{className:"text-sm font-medium text-gray-200 dark:text-white mb-2",children:"Pasos Configurables"}),(0,p.jsx)("div",{className:"grid grid-cols-2 gap-2",children:G.map(e=>(0,p.jsx)(b,{id:`edit-step-${e.id}`,label:e.label,checked:N.steps.includes(e.id),onChange:()=>{E({...N,steps:N.steps.includes(e.id)?N.steps.filter(a=>a!==e.id):[...N.steps,e.id]})},theme:o},e.id))}),(0,p.jsx)("p",{className:"text-xs text-gray-400 mt-2",children:'Nota: Los pasos "Cubiertos", "Direcci\xf3n" y "M\xe9todo de Pago" se incluir\xe1n autom\xe1ticamente.'})]})}),"times"!==d&&"breakfastTimes"!==d&&"paymentMethods"!==d&&(0,p.jsx)("div",{className:"space-y-3",children:(0,p.jsx)(b,{id:"editIsNew",label:"Marcar como 'Nuevo'",checked:N.isNew,onChange:e=>E({...N,isNew:e.target.checked}),theme:o})}),("times"===d||"breakfastTimes"===d||"paymentMethods"!==d)&&(0,p.jsx)(b,{id:"editIsFinished",label:"Marcar como 'Agotado'",checked:N.isFinished,onChange:e=>E({...N,isFinished:e.target.checked}),theme:o})]}),(0,p.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,p.jsx)("button",{onClick:async()=>{if(N.name.trim())if("additions"!==d&&"breakfastAdditions"!==d||!(!N.price||isNaN(parseFloat(N.price))||parseFloat(N.price)<=0)){if("breakfastTypes"===d){if(0===N.steps.length)return void a("Debe seleccionar al menos un paso para el tipo de desayuno");if(N.steps.includes("protein")&&0===T.length)return void a('No hay prote\xednas disponibles. Agrega al menos una prote\xedna en "Prote\xednas para Desayuno" antes de incluir el paso de prote\xedna.')}try{const e={name:N.name.trim()||"Unnamed Item",description:N.description.trim()||"",emoji:N.emoji.trim()||"",isNew:N.isNew,isFinished:N.isFinished||!1,updatedAt:new Date};"additions"!==d&&"breakfastAdditions"!==d||(e.price=parseFloat(N.price)),"breakfastTypes"===d&&(e.steps=N.steps,e.requiresProtein=N.steps.includes("protein")),await(0,n.mZ)((0,n.H9)(r.db,d,v.id),e),k(null),t(`"${e.name}" actualizado exitosamente.`)}catch(e){a(`Error al actualizar: ${e.message}`)}}else a("El precio debe ser un n\xfamero v\xe1lido mayor a 0 para Adiciones");else a("El nombre no puede estar vac\xedo")},className:"flex-1 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold rounded-lg shadow-md transition-all duration-300 transform hover:scale-105",children:"Guardar Cambios"}),(0,p.jsx)("button",{onClick:()=>k(null),className:"flex-1 py-3 bg-gray-600 hover:bg-gray-700 text-gray-200 font-semibold rounded-lg shadow-md transition-all duration-300 transform hover:scale-105",children:"Cancelar"})]})]})}),S&&$&&(0,p.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in",children:(0,p.jsxs)("div",{className:`relative ${Z()} p-6 rounded-xl w-full max-w-sm shadow-2xl transform scale-95 animate-scale-in text-center`,children:[(0,p.jsx)(g.A,{className:"absolute top-4 right-4 h-6 w-6 text-gray-400 cursor-pointer hover:text-gray-200",onClick:()=>F(!1)}),(0,p.jsx)("h3",{className:"text-xl font-bold mb-4 text-red-400",children:"Confirmar Eliminaci\xf3n"}),(0,p.jsxs)("p",{className:"text-gray-200 mb-6",children:['\xbfEst\xe1s seguro de que quieres eliminar "',(0,p.jsx)("span",{className:"font-semibold",children:$.name||"Unnamed Item"}),'"? Esta acci\xf3n no se puede deshacer.']}),(0,p.jsxs)("div",{className:"flex gap-4",children:[(0,p.jsx)("button",{onClick:async()=>{try{await(0,n.kd)((0,n.H9)(r.db,d,$.id)),t(`"${$.name}" eliminado exitosamente.`),F(!1),L(null)}catch(e){a(`Error al eliminar: ${e.message}`)}},className:"flex-1 py-2 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg shadow-md transition-all duration-300 transform hover:scale-105",children:"S\xed, Eliminar"}),(0,p.jsx)("button",{onClick:()=>F(!1),className:"flex-1 py-2 bg-gray-600 hover:bg-gray-700 text-gray-200 font-semibold rounded-lg shadow-md transition-all duration-300 transform hover:scale-105",children:"Cancelar"})]})]})})]})}},8662:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(5043);function r(e,a){let{title:t,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},n),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const n=s.forwardRef(r)},9248:(e,a,t)=>{t.d(a,{A:()=>n});var s=t(5043);function r(e,a){let{title:t,titleId:r,...n}=e;return s.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:a,"aria-labelledby":r},n),t?s.createElement("title",{id:r},t):null,s.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const n=s.forwardRef(r)}}]);
//# sourceMappingURL=592.5c57aa62.chunk.js.map