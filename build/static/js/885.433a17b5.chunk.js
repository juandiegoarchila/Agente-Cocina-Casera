"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[885],{6885:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var i=a(5043),t=a(1958),r=a(5472),l=a(7591),n=a(579);const o=e=>{let{setError:s,setSuccess:a,theme:o}=e;const[d,c]=(0,i.useState)("soups"),[m,g]=(0,i.useState)([]),[p,x]=(0,i.useState)({name:"",description:"",emoji:"",price:"",isNew:!1}),[h,u]=(0,i.useState)(null),[b,j]=(0,i.useState)({name:"",description:"",emoji:"",price:"",isNew:!1,isFinished:!1}),N={soups:"Sopas",soupReplacements:"Reemplazos de Sopa",principles:"Principios",proteins:"Prote\xednas",drinks:"Bebidas",sides:"Acompa\xf1amientos",additions:"Adiciones",times:"Horarios",paymentMethods:"M\xe9todos de Pago"},y=Object.keys(N);(0,i.useEffect)(()=>{const e=(0,r.aQ)((0,r.rJ)(t.db,d),e=>{g(e.docs.map(e=>({id:e.id,...e.data()})))},e=>s(`Error cargando datos: ${e.message}`));return()=>e()},[d,s]);return(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4",children:[(0,n.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-6 text-gray-100",children:"Gesti\xf3n de Men\xfa"}),(0,n.jsxs)("div",{className:`bg-${"dark"===o?"gray-800":"white"} p-4 sm:p-6 rounded-xl shadow-lg`,children:[(0,n.jsx)("select",{value:d,onChange:e=>c(e.target.value),className:`bg-${"dark"===o?"gray-700":"gray-200"} text-${"dark"===o?"white":"gray-900"} p-2 rounded-lg w-full mb-4 text-sm`,children:y.map(e=>(0,n.jsx)("option",{value:e,children:N[e]},e))}),(0,n.jsxs)("div",{className:`bg-${"dark"===o?"gray-700":"gray-300"} p-4 sm:p-6 rounded-lg mb-4`,children:[(0,n.jsxs)("h3",{className:"text-base sm:text-lg font-semibold mb-3",children:["Agregar ",N[d]]}),(0,n.jsx)("input",{value:p.name,onChange:e=>x({...p,name:e.target.value}),placeholder:`Nombre de ${N[d]}`,className:`bg-${"dark"===o?"gray-600":"gray-400"} text-white p-2 rounded-lg w-full mb-3 text-sm`}),(0,n.jsx)("textarea",{value:p.description,onChange:e=>x({...p,description:e.target.value}),placeholder:"Descripci\xf3n",className:`bg-${"dark"===o?"gray-600":"gray-400"} text-white p-2 rounded-lg w-full mb-3 text-sm`,rows:"3"}),(0,n.jsx)("input",{value:p.emoji,onChange:e=>x({...p,emoji:e.target.value}),placeholder:"Emoji",className:`bg-${"dark"===o?"gray-600":"gray-400"} text-white p-2 rounded-lg w-full mb-3 text-sm`}),"additions"===d&&(0,n.jsx)("input",{value:p.price,onChange:e=>x({...p,price:e.target.value}),placeholder:"Precio (COP)",type:"number",min:"0",step:"1",className:`bg-${"dark"===o?"gray-600":"gray-400"} text-white p-2 rounded-lg w-full mb-3 text-sm`}),"times"!==d&&(0,n.jsxs)("label",{className:"flex items-center mb-3",children:[(0,n.jsx)("input",{type:"checkbox",checked:p.isNew,onChange:e=>x({...p,isNew:e.target.checked}),className:"mr-2"}),(0,n.jsx)("span",{className:"text-sm",children:"\xbfEs nuevo?"})]}),(0,n.jsx)("button",{onClick:async()=>{if(p.name.trim())if("additions"===d&&(!p.price||isNaN(parseFloat(p.price))||parseFloat(p.price)<=0))s("El precio debe ser un n\xfamero v\xe1lido mayor a 0 para Adiciones");else try{const e={name:p.name,description:p.description,emoji:p.emoji,isNew:p.isNew,createdAt:new Date};"additions"===d&&(e.price=parseFloat(p.price)),await(0,r.gS)((0,r.rJ)(t.db,d),e),x({name:"",description:"",emoji:"",price:"",isNew:!1}),window.dispatchEvent(new Event("optionsUpdated")),a(`"${p.name}" agregado`)}catch(e){s(`Error al agregar: ${e.message}`)}else s("El nombre no puede estar vac\xedo")},className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg w-full transition-colors text-sm",children:"Agregar"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"text-base sm:text-lg font-semibold mb-3",children:["Lista de ",N[d]]}),(0,n.jsx)("div",{className:"space-y-2 max-h-[50vh] overflow-y-auto",children:m.map(e=>(0,n.jsxs)("div",{className:`p-3 rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center ${e.isFinished?"bg-gray-700":"bg-gray-600"} transition-colors shadow-sm hover:shadow-md`,children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("span",{className:"text-sm "+(e.isFinished?"line-through text-gray-400":""),children:[e.emoji&&(0,n.jsx)("span",{className:"mr-1",children:e.emoji}),e.name]}),e.description&&(0,n.jsx)("span",{className:"text-xs text-gray-300",children:e.description}),void 0!==e.price&&(0,n.jsxs)("span",{className:"text-xs text-gray-300",children:["Precio: $",e.price.toLocaleString("es-CO")]}),e.isNew&&(0,n.jsx)("span",{className:"text-green-400 text-xs",children:"(Nuevo)"}),e.isFinished&&(0,n.jsx)("span",{className:"text-red-400 text-xs",children:"\ud83d\udeab Agotado"})]}),(0,n.jsxs)("div",{className:"flex gap-2 mt-2 sm:mt-0",children:[(0,n.jsx)("button",{onClick:()=>(e=>{u(e),j({...e,price:void 0!==e.price?e.price.toString():"",isFinished:e.isFinished||!1})})(e),className:"bg-blue-600 hover:bg-blue-700 p-2 rounded-lg transition-colors",title:"Editar",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,n.jsx)("button",{onClick:()=>(async(e,i)=>{try{await(0,r.kd)((0,r.H9)(t.db,d,e)),a(`"${i}" eliminado`)}catch(l){s(`Error al eliminar: ${l.message}`)}})(e.id,e.name),className:"bg-red-600 hover:bg-red-700 p-2 rounded-lg transition-colors",title:"Eliminar",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4M7 7h10"})})}),(0,n.jsx)("button",{onClick:()=>(async e=>{try{await(0,r.mZ)((0,r.H9)(t.db,d,e.id),{isFinished:!e.isFinished}),a(`"${e.name}" ${e.isFinished?"disponible":"agotado"}`)}catch(i){s(`Error al actualizar: ${i.message}`)}})(e),className:"p-2 rounded-lg transition-colors "+(e.isFinished?"bg-yellow-600 hover:bg-yellow-700":"bg-gray-500 hover:bg-gray-600"),title:e.isFinished?"Disponible":"Agotado",children:(0,n.jsx)("span",{className:"text-lg",children:"\ud83d\udeab"})})]})]},e.id))})]})]}),h&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:`bg-${"dark"===o?"gray-800":"white"} p-4 sm:p-6 rounded-lg w-11/12 max-w-md overflow-y-auto max-h-[80vh] shadow-lg`,children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsx)("h2",{className:"text-lg",children:"Editar Elemento"}),(0,n.jsx)("button",{onClick:()=>u(null),className:"text-gray-400 hover:text-gray-200",children:(0,n.jsx)(l.A,{className:"h-6 w-6"})})]}),(0,n.jsx)("input",{value:b.name,onChange:e=>j({...b,name:e.target.value}),className:`bg-${"dark"===o?"gray-700":"gray-200"} text-${"dark"===o?"white":"gray-900"} p-2 rounded-lg w-full mb-4 text-sm`,placeholder:"Nombre"}),(0,n.jsx)("textarea",{value:b.description,onChange:e=>j({...b,description:e.target.value}),placeholder:"Descripci\xf3n",className:`bg-${"dark"===o?"gray-700":"gray-200"} text-${"dark"===o?"white":"gray-900"} p-2 rounded-lg w-full mb-4 text-sm`,rows:"3"}),(0,n.jsx)("input",{value:b.emoji,onChange:e=>j({...b,emoji:e.target.value}),placeholder:"Emoji",className:`bg-${"dark"===o?"gray-700":"gray-200"} text-${"dark"===o?"white":"gray-900"} p-2 rounded-lg w-full mb-4 text-sm`}),"additions"===d&&(0,n.jsx)("input",{value:b.price,onChange:e=>j({...b,price:e.target.value}),placeholder:"Precio (COP)",type:"number",min:"0",step:"1",className:`bg-${"dark"===o?"gray-700":"gray-200"} text-${"dark"===o?"white":"gray-900"} p-2 rounded-lg w-full mb-4 text-sm`}),"times"!==d&&(0,n.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,n.jsxs)("label",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"checkbox",checked:b.isNew,onChange:e=>j({...b,isNew:e.target.checked}),className:"mr-2"}),(0,n.jsx)("span",{className:"text-sm",children:"\xbfEs nuevo?"})]}),(0,n.jsxs)("label",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"checkbox",checked:b.isFinished,onChange:e=>j({...b,isFinished:e.target.checked}),className:"mr-2"}),(0,n.jsx)("span",{className:"text-sm",children:"\xbfAgotado?"})]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{onClick:async()=>{if(b.name.trim())if("additions"===d&&(!b.price||isNaN(parseFloat(b.price))||parseFloat(b.price)<=0))s("El precio debe ser un n\xfamero v\xe1lido mayor a 0 para Adiciones");else try{const e={name:b.name,description:b.description,emoji:b.emoji,isNew:b.isNew,isFinished:b.isFinished||!1};"additions"===d&&(e.price=parseFloat(b.price)),await(0,r.mZ)((0,r.H9)(t.db,d,h.id),e),u(null),a(`"${b.name}" actualizado`)}catch(e){s(`Error al actualizar: ${e.message}`)}else s("El nombre no puede estar vac\xedo")},className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg flex-1 transition-colors text-sm",children:"Guardar"}),(0,n.jsx)("button",{onClick:()=>u(null),className:"bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg flex-1 transition-colors text-sm",children:"Cancelar"})]})]})})]})}}}]);
//# sourceMappingURL=885.433a17b5.chunk.js.map