"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[445],{3445:(e,r,a)=>{a.r(r),a.d(r,{default:()=>C});var t=a(5043),s=a(1487),l=a(7015),o=a(9795),i=a(2315),n=a(8662),d=a(2811),c=a(9248),u=a(1252),m=a(7591),x=a(1653),g=a(5200),b=a(1958),h=a(5472),p=a(458),y=a(6568),f=a(1238),v=a(7762),j=(a(557),a(579));const w=e=>null==e?"":"string"===typeof e?e.replace(" NUEVO","").trim():"boolean"===typeof e?e.toString():"object"===typeof e&&null!==e&&"name"in e?String(e.name).replace(" NUEVO","").trim():String(e).replace(" NUEVO","").trim(),k=(e,r)=>{let a;return function(){for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];const o=this;clearTimeout(a),a=setTimeout(()=>e.apply(o,s),r)}},N={1:"Cliente",2:"Administrador",3:"Mesero",4:"Domiciliario"},C=e=>{var r;let{setError:a,setSuccess:C,theme:P}=e;const[E,F]=(0,t.useState)([]),[O,S]=(0,t.useState)(null),[A,D]=(0,t.useState)({email:"",role:1,totalOrders:0}),[T,$]=(0,t.useState)(!1),[U,L]=(0,t.useState)(null),[G,z]=(0,t.useState)(""),[M,W]=(0,t.useState)(null),[R,_]=(0,t.useState)(!1),[I,B]=(0,t.useState)({email:"",password:"",role:1,totalOrders:0}),[q,V]=(0,t.useState)({currentPage:1,itemsPerPage:10}),[J,H]=(0,t.useState)(null),[Q,Y]=(0,t.useState)("asc"),K=(0,t.useCallback)(k(e=>z(e),300),[]),X=(0,t.useMemo)(()=>{let e=E;return G&&(e=e.filter(e=>{var r;return e.email.toLowerCase().includes(G.toLowerCase())||e.address.toLowerCase().includes(G.toLowerCase())||(null===(r=N[`${e.role}`])||void 0===r?void 0:r.toLowerCase().includes(G.toLowerCase()))})),J&&(e=[...e].sort((e,r)=>{let a,t;switch(J){case"email":a=e.email.toLowerCase(),t=r.email.toLowerCase();break;case"address":a=e.address.toLowerCase(),t=r.address.toLowerCase();break;case"role":a=e.role,t=r.role;break;case"totalOrders":a=e.totalOrders||0,t=r.totalOrders||0;break;default:a=e.number,t=r.number}return a<t?"asc"===Q?-1:1:a>t?"asc"===Q?1:-1:0})),e},[E,G,J,Q]),Z=Math.ceil(X.length/q.itemsPerPage),ee=(0,t.useMemo)(()=>{const e=(q.currentPage-1)*q.itemsPerPage,r=e+q.itemsPerPage;return X.slice(e,r)},[X,q.currentPage,q.itemsPerPage]);(0,t.useEffect)(()=>{$(!0);const e=(0,h.rJ)(b.db,"users"),r=(0,h.aQ)(e,async e=>{try{const r=e.docs.map(e=>({id:e.id,...e.data(),createdAt:e.data().createdAt||{seconds:0}}));r.sort((e,r)=>{var a,t;return((null===(a=e.createdAt)||void 0===a?void 0:a.seconds)||0)-((null===(t=r.createdAt)||void 0===t?void 0:t.seconds)||0)});const a=await Promise.all(r.map(async(e,r)=>{try{const o=(0,h.P)((0,h.rJ)(b.db,"orders"),(0,h._M)("userId","==",e.id),(0,h.My)("createdAt","desc"),(0,h.AB)(1)),i=await(0,h.GG)(o);let n="Sin pedidos";if(!i.empty){var a,t,s,l;const e=null===(a=i.docs)||void 0===a||null===(t=a[0])||void 0===t?void 0:t.data();n=(e=>{if(null===e||void 0===e||!e.address)return"Sin direcci\xf3n";let r=e.address;switch(e.addressType){case"school":e.recipientName&&(r+=` (Recibe: ${w(e.recipientName)})`);break;case"complex":e.unitDetails&&(r+=` (${w(e.unitDetails)})`);break;case"shop":e.localName&&(r+=` (${w(e.localName)})`)}return r})(null===e||void 0===e||null===(s=e.meals)||void 0===s||null===(l=s[0])||void 0===l?void 0:l.address)}return{...e,number:r+1,address:n}}catch(o){return console.error(`Error fetching address for user ${e.id}:`,o.message),{...e,number:r+1,address:"Error al cargar direcci\xf3n"}}}));F(a),L(null)}catch(r){console.error("Error in UserManagement onSnapshot:",r),a(`Error al cargar usuarios: ${r.message}`),L(r.message)}finally{$(!1)}},e=>{console.error("onSnapshot listener error:",e),a(`Error al cargar usuarios: ${e.message}`),L(e.message),$(!1)});return()=>r()},[a]);const re=(0,t.useCallback)(e=>{S(e),D({email:e.email||"",role:e.role||1,totalOrders:e.totalOrders||0})},[]),ae=(0,t.useCallback)(async()=>{if(O){$(!0);try{await(0,h.c4)(b.db,async e=>{const r=(0,h.H9)(b.db,"users",O.id);e.update(r,{email:A.email.trim(),role:Number(A.role),totalOrders:Number(A.totalOrders)})}),S(null),C("Usuario actualizado con \xe9xito.")}catch(e){console.error("Error al guardar usuario:",e),a(`Error al actualizar usuario: ${e.message}`)}finally{$(!1)}}},[O,A,C,a]),te=(0,t.useCallback)(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este usuario? Esta acci\xf3n es irreversible.")){$(!0);try{await(0,h.kd)((0,h.H9)(b.db,"users",e)),C("Usuario eliminado con \xe9xito.")}catch(r){console.error("Error al eliminar usuario:",r),a(`Error al eliminar usuario: ${r.message}`)}finally{$(!1)}}},[C,a]),se=(0,t.useCallback)(async()=>{if(I.email.trim())if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(I.email))if(!I.password||I.password.length<6)a("La contrase\xf1a debe tener al menos 6 caracteres.");else{$(!0);try{const e=(0,h.P)((0,h.rJ)(b.db,"users"),(0,h._M)("email","==",I.email.trim()));if(!(await(0,h.GG)(e)).empty)return a("El email ya est\xe1 registrado."),void $(!1);const r=(await(0,p.eJ)(b.j,I.email.trim(),I.password)).user.uid;await(0,h.c4)(b.db,async e=>{const a=(0,h.H9)(b.db,"users",r);e.set(a,{email:I.email.trim(),role:Number(I.role),totalOrders:Number(I.totalOrders)||0,createdAt:new Date})}),B({email:"",password:"",role:1,totalOrders:0}),_(!1),C("Usuario creado con \xe9xito.")}catch(e){console.error("Error al crear usuario:",e),a(`Error al crear usuario: ${e.message}`)}finally{$(!1)}}else a("Por favor, ingresa un email v\xe1lido.");else a("El email es obligatorio.")},[I,C,a]),le=(0,t.useCallback)(e=>{e>=1&&e<=Z&&V(r=>({...r,currentPage:e}))},[Z]),oe=(0,t.useCallback)(e=>{V({currentPage:1,itemsPerPage:Number(e.target.value)})},[]),ie=(0,t.useCallback)(e=>{J===e?Y(e=>"asc"===e?"desc":"asc"):(H(e),Y("asc")),V(e=>({...e,currentPage:1}))},[J]),ne=(0,t.useCallback)(e=>J===e?"asc"===Q?(0,j.jsx)(x.A,{className:"w-4 h-4 inline-block ml-1"}):(0,j.jsx)(g.A,{className:"w-4 h-4 inline-block ml-1"}):null,[J,Q]),de=(0,t.useCallback)(()=>X.map(e=>{var r;return{"N\xba":e.number,Email:e.email,"Direcci\xf3n":e.address,Rol:N[`${e.role}`],Pedidos:e.totalOrders||0,"ID de Usuario":e.id,"Registrado Desde":null!==(r=e.createdAt)&&void 0!==r&&r.seconds?new Date(1e3*e.createdAt.seconds).toLocaleDateString("es-CO"):"N/A"}}),[X]),ce=(0,t.useCallback)(()=>{const e=de();if(0===e.length)return void a("No hay datos para exportar a Excel.");const r=f.Wp.json_to_sheet(e),t=f.Wp.book_new();f.Wp.book_append_sheet(t,r,"Usuarios"),f._h(t,"usuarios.xlsx"),C("Usuarios exportados a Excel con \xe9xito.")},[de,C,a]),ue=(0,t.useCallback)(()=>{const e=de();if(0===e.length)return void a("No hay datos para exportar a PDF.");const r=new v.default,t=[Object.keys((null===e||void 0===e?void 0:e[0])||{})],s=e.map(e=>Object.values(e));r.autoTable({head:t,body:s,startY:20,theme:"grid",styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[20,83,136],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},margin:{top:10,left:10,right:10,bottom:10}}),r.save("usuarios.pdf"),C("Usuarios exportados a PDF con \xe9xito.")},[de,C,a]),me=(0,t.useCallback)(()=>{const e=de();if(0===e.length)return void a("No hay datos para previsualizar.");const r=window.open("","_blank");if(!r)return void a("Pop-ups bloqueados. Por favor, permita pop-ups para previsualizar.");let t=`\n      <html>\n      <head>\n        <title>Previsualizaci\xf3n de Usuarios</title>\n        <style>\n          body { font-family: Arial, sans-serif; margin: 20px; }\n          h1 { text-align: center; margin-bottom: 20px; }\n          table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\n          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n          th { background-color: #f2f2f2; }\n          @media print {\n            body { margin: 0; }\n            table { font-size: 10pt; }\n          }\n        </style>\n      </head>\n      <body>\n        <h1>Reporte de Usuarios</h1>\n        <table>\n          <thead>\n            <tr>\n              ${Object.keys((null===e||void 0===e?void 0:e[0])||{}).map(e=>`<th>${e}</th>`).join("")}\n            </tr>\n          </thead>\n          <tbody>\n            ${e.map(e=>`\n              <tr>\n                ${Object.values(e).map(e=>`<td>${e}</td>`).join("")}\n              </tr>\n            `).join("")}\n          </tbody>\n        </table>\n      </body>\n      </html>\n    `;r.document.write(t),r.document.close(),r.focus()},[de,a]);return(0,j.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-6",children:[(0,j.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100",children:"Gesti\xf3n de Usuarios"}),U&&(0,j.jsxs)("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded-lg dark:bg-red-900 dark:text-red-200",children:["Error al cargar datos: ",U]}),(0,j.jsx)("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:(0,j.jsxs)("div",{className:"flex items-center w-full min-w-0 flex-grow",children:[(0,j.jsx)("input",{type:"text",placeholder:"Buscar por email, direcci\xf3n o rol...",onChange:e=>K(e.target.value),className:(0,y.x)("p-2 rounded-md border flex-grow w-full max-w-[30rem]","dark"===P?"bg-gray-700 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900","focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"),"aria-label":"Buscar usuarios"}),(0,j.jsxs)(s.W1,{as:"div",className:"relative inline-block text-left z-20 flex-shrink-0 -ml-px",children:[(0,j.jsx)("div",{children:(0,j.jsx)(s.W1.Button,{className:(0,y.x)("inline-flex justify-center text-sm font-medium rounded-md","dark"===P?"text-gray-300 hover:text-gray-100":"text-gray-700 hover:text-gray-900","p-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","pr-2"),"aria-label":"Opciones de exportaci\xf3n",children:(0,j.jsx)(i.A,{className:"h-6 w-6","aria-hidden":"true"})})}),(0,j.jsx)(l.e,{as:t.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,j.jsx)(s.W1.Items,{className:(0,y.x)("absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none","dark"===P?"bg-gray-700 divide-gray-600":"bg-white divide-gray-100"),children:(0,j.jsxs)("div",{className:"py-1",children:[(0,j.jsx)(s.W1.Item,{children:e=>{let{active:r}=e;return(0,j.jsxs)("button",{onClick:()=>_(!0),className:(0,y.x)(r?"dark"===P?"bg-gray-600 text-gray-100":"bg-gray-100 text-gray-900":"dark"===P?"text-gray-300":"text-gray-700","flex items-center px-4 py-2 text-sm w-full text-left"),children:[(0,j.jsx)(n.A,{className:"w-5 h-5 mr-2"}),"Agregar Usuario"]})}}),(0,j.jsx)(s.W1.Item,{children:e=>{let{active:r}=e;return(0,j.jsx)("button",{onClick:ce,className:(0,y.x)(r?"dark"===P?"bg-gray-600 text-gray-100":"bg-gray-100 text-gray-900":"dark"===P?"text-gray-300":"text-gray-700","block px-4 py-2 text-sm w-full text-left"),children:"Exportar a Excel"})}}),(0,j.jsx)(s.W1.Item,{children:e=>{let{active:r}=e;return(0,j.jsx)("button",{onClick:ue,className:(0,y.x)(r?"dark"===P?"bg-gray-600 text-gray-100":"bg-gray-100 text-gray-900":"dark"===P?"text-gray-300":"text-gray-700","block px-4 py-2 text-sm w-full text-left"),children:"Exportar a PDF"})}}),(0,j.jsx)(s.W1.Item,{children:e=>{let{active:r}=e;return(0,j.jsx)("button",{onClick:me,className:(0,y.x)(r?"dark"===P?"bg-gray-600 text-gray-100":"bg-gray-100 text-gray-900":"dark"===P?"text-gray-300":"text-gray-700","block px-4 py-2 text-sm w-full text-left"),children:"Previsualizar"})}})]})})})]})]})}),(0,j.jsxs)("div",{className:(0,y.x)("p-4 sm:p-6 rounded-2xl shadow-xl max-h-[70vh] overflow-y-auto custom-scrollbar","dark"===P?"bg-gray-800":"bg-white"),children:[(0,j.jsx)("div",{className:"overflow-x-auto",children:(0,j.jsxs)("table",{className:"min-w-full text-left border-collapse text-xs sm:text-sm",children:[(0,j.jsx)("thead",{children:(0,j.jsxs)("tr",{className:(0,y.x)("font-semibold sticky top-0 z-10","dark"===P?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"),children:[(0,j.jsxs)("th",{className:"p-2 border-b cursor-pointer whitespace-nowrap",onClick:()=>ie("number"),children:["N\xba ",ne("number")]}),(0,j.jsxs)("th",{className:"p-2 border-b cursor-pointer whitespace-nowrap",onClick:()=>ie("email"),children:["Email ",ne("email")]}),(0,j.jsxs)("th",{className:"p-2 border-b cursor-pointer whitespace-nowrap",onClick:()=>ie("address"),children:["Direcci\xf3n ",ne("address")]}),(0,j.jsxs)("th",{className:"p-2 border-b cursor-pointer whitespace-nowrap",onClick:()=>ie("role"),children:["Rol ",ne("role")]}),(0,j.jsxs)("th",{className:"p-2 border-b cursor-pointer whitespace-nowrap",onClick:()=>ie("totalOrders"),children:["Pedidos ",ne("totalOrders")]}),(0,j.jsx)("th",{className:"p-2 border-b whitespace-nowrap",children:"Acciones"})]})}),(0,j.jsx)("tbody",{children:T?(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:"6",className:"p-6 text-center text-gray-500 dark:text-gray-400",children:(0,j.jsxs)("div",{className:"flex justify-center items-center",children:[(0,j.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,j.jsx)("span",{className:"ml-3",children:"Cargando usuarios..."})]})})}):0!==ee.length||U?ee.map(e=>(0,j.jsxs)("tr",{className:(0,y.x)("border-b transition-colors duration-150","dark"===P?"border-gray-700 hover:bg-gray-700":"border-gray-200 hover:bg-gray-50",e.number%2===0?"dark"===P?"bg-gray-750":"bg-gray-50":""),children:[(0,j.jsx)("td",{className:"p-2 text-gray-900 dark:text-gray-300",children:e.number}),(0,j.jsx)("td",{className:"p-2 text-gray-900 dark:text-gray-300 font-medium",children:e.email}),(0,j.jsx)("td",{className:"p-2 text-gray-900 dark:text-gray-300 max-w-[150px] sm:max-w-[250px] overflow-hidden text-ellipsis whitespace-nowrap",title:e.address,children:e.address}),(0,j.jsx)("td",{className:"p-2 text-gray-900 dark:text-gray-300",children:(0,j.jsx)("span",{className:(0,y.x)("px-2 py-1 rounded-full text-xs font-semibold",2===e.role?"bg-purple-200 text-purple-800 dark:bg-purple-800 dark:text-purple-200":3===e.role?"bg-green-200 text-green-800 dark:bg-green-800 dark:text-green-200":4===e.role?"bg-orange-200 text-orange-800 dark:bg-orange-800 dark:text-orange-200":"bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-200"),children:N[`${e.role}`]||"Desconocido"})}),(0,j.jsx)("td",{className:"p-2 text-gray-900 dark:text-gray-300",children:e.totalOrders||0}),(0,j.jsxs)("td",{className:"p-2 flex space-x-1 items-center",children:[(0,j.jsx)("button",{onClick:()=>re(e),className:"text-blue-500 hover:text-blue-400 p-1 rounded-md transition-colors duration-150",title:"Editar usuario","aria-label":`Editar usuario ${e.email}`,children:(0,j.jsx)(d.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,j.jsx)("button",{onClick:()=>te(e.id),className:"text-red-500 hover:text-red-400 p-1 rounded-md transition-colors duration-150",title:"Eliminar usuario","aria-label":`Eliminar usuario ${e.email}`,children:(0,j.jsx)(c.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,j.jsx)("button",{onClick:()=>W(e),className:"text-gray-500 hover:text-gray-400 p-1 rounded-md transition-colors duration-150",title:"Ver detalles del usuario","aria-label":"Ver detalles del usuario",children:(0,j.jsx)(u.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]},e.id)):(0,j.jsx)("tr",{children:(0,j.jsx)("td",{colSpan:"6",className:"p-6 text-center text-gray-500 dark:text-gray-400",children:"No se encontraron usuarios."})})})]})}),X.length>0&&(0,j.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 gap-4",children:[(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Usuarios por p\xe1gina:"}),(0,j.jsxs)("select",{value:q.itemsPerPage,onChange:oe,className:(0,y.x)("p-1 sm:p-2 rounded-lg border text-sm","dark"===P?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"),"aria-label":"Seleccionar n\xfamero de usuarios por p\xe1gina",children:[(0,j.jsx)("option",{value:5,children:"5"}),(0,j.jsx)("option",{value:10,children:"10"}),(0,j.jsx)("option",{value:20,children:"20"}),(0,j.jsx)("option",{value:30,children:"30"})]})]}),(0,j.jsxs)("div",{className:"flex items-center gap-2",children:[(0,j.jsx)("button",{onClick:()=>le(q.currentPage-1),disabled:1===q.currentPage,className:(0,y.x)("p-2 rounded-lg transition-all duration-200",1===q.currentPage?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),"aria-label":"P\xe1gina anterior",children:(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),(0,j.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["P\xe1gina ",q.currentPage," de ",Z]}),(0,j.jsx)("button",{onClick:()=>le(q.currentPage+1),disabled:q.currentPage===Z,className:(0,y.x)("p-2 rounded-lg transition-all duration-200",q.currentPage===Z?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),"aria-label":"P\xe1gina siguiente",children:(0,j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})})]})]})]}),(0,j.jsx)(l.e,{show:R,as:t.Fragment,children:(0,j.jsxs)(o.lG,{as:"div",className:"relative z-50",onClose:()=>_(!1),children:[(0,j.jsx)(l.e.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),(0,j.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,j.jsx)(l.e.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,j.jsxs)(o.lG.Panel,{className:(0,y.x)("w-full max-w-md p-6 rounded-lg shadow-xl max-h-[80vh] overflow-y-auto","dark"===P?"bg-gray-800 text-gray-200":"bg-gray-50 text-gray-900"),children:[(0,j.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,j.jsx)(o.lG.Title,{className:"text-lg font-medium",children:"Crear Nuevo Usuario"}),(0,j.jsx)("button",{onClick:()=>_(!1),className:"text-gray-500 hover:text-gray-400 dark:hover:text-gray-300","aria-label":"Cerrar modal",children:(0,j.jsx)(m.A,{className:"h-6 w-6"})})]}),(0,j.jsx)("form",{onSubmit:e=>{e.preventDefault(),se()},children:(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"create-email-input",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,j.jsx)("input",{id:"create-email-input",type:"email",value:I.email,onChange:e=>B({...I,email:e.target.value}),className:(0,y.x)("w-full p-2 rounded-md border text-sm","dark"===P?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white text-gray-900","focus:outline-none focus:ring-1 focus:ring-blue-500"),placeholder:"Ej: usuario@ejemplo.com",required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"create-password-input",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Contrase\xf1a"}),(0,j.jsx)("input",{id:"create-password-input",type:"password",value:I.password,onChange:e=>B({...I,password:e.target.value}),className:(0,y.x)("w-full p-2 rounded-md border text-sm","dark"===P?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white text-gray-900","focus:outline-none focus:ring-1 focus:ring-blue-500"),placeholder:"M\xednimo 6 caracteres",required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"create-role-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rol"}),(0,j.jsxs)("select",{id:"create-role-select",value:I.role,onChange:e=>B({...I,role:Number(e.target.value)}),className:(0,y.x)("w-full p-2 rounded-md border text-sm","dark"===P?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white text-gray-900","focus:outline-none focus:ring-1 focus:ring-blue-500"),children:[(0,j.jsx)("option",{value:1,children:"Cliente"}),(0,j.jsx)("option",{value:2,children:"Administrador"}),(0,j.jsx)("option",{value:3,children:"Mesero"}),(0,j.jsx)("option",{value:4,children:"Domiciliario"})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"create-total-orders-input",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pedidos"}),(0,j.jsx)("input",{id:"create-total-orders-input",type:"number",value:I.totalOrders,onChange:e=>B({...I,totalOrders:Number(e.target.value)}),className:(0,y.x)("w-full p-2 rounded-md border text-sm","dark"===P?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white text-gray-900","focus:outline-none focus:ring-1 focus:ring-blue-500"),min:"0"})]}),(0,j.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,j.jsx)("button",{type:"button",onClick:()=>_(!1),className:(0,y.x)("px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200","dark"===P?"bg-gray-600 hover:bg-gray-700 text-gray-200":"bg-gray-200 hover:bg-gray-300 text-gray-900"),children:"Cancelar"}),(0,j.jsx)("button",{type:"submit",disabled:T,className:(0,y.x)("px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200",T?"bg-gray-400 cursor-not-allowed":"dark"===P?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"),children:T?"Creando...":"Crear"})]})]})})]})})})]})}),(0,j.jsx)(l.e,{show:null!==O,as:t.Fragment,children:(0,j.jsxs)(o.lG,{as:"div",className:"relative z-50",onClose:()=>S(null),children:[(0,j.jsx)(l.e.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),(0,j.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,j.jsx)(l.e.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,j.jsxs)(o.lG.Panel,{className:(0,y.x)("w-full max-w-md p-6 rounded-lg shadow-xl max-h-[80vh] overflow-y-auto","dark"===P?"bg-gray-800 text-gray-200":"bg-gray-50 text-gray-900"),children:[(0,j.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,j.jsx)(o.lG.Title,{className:"text-lg font-medium",children:"Editar Usuario"}),(0,j.jsx)("button",{onClick:()=>S(null),className:"text-gray-500 hover:text-gray-400 dark:hover:text-gray-300","aria-label":"Cerrar modal",children:(0,j.jsx)(m.A,{className:"h-6 w-6"})})]}),(0,j.jsx)("form",{onSubmit:e=>{e.preventDefault(),ae()},children:(0,j.jsxs)("div",{className:"space-y-4",children:[(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"email-input",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,j.jsx)("input",{id:"email-input",type:"email",value:A.email,onChange:e=>D({...A,email:e.target.value}),className:(0,y.x)("w-full p-2 rounded-md border text-sm","dark"===P?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white text-gray-900","focus:outline-none focus:ring-1 focus:ring-blue-500"),placeholder:"Ej: usuario@ejemplo.com",required:!0})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"role-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rol"}),(0,j.jsxs)("select",{id:"role-select",value:A.role,onChange:e=>D({...A,role:Number(e.target.value)}),className:(0,y.x)("w-full p-2 rounded-md border text-sm","dark"===P?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white text-gray-900","focus:outline-none focus:ring-1 focus:ring-blue-500"),children:[(0,j.jsx)("option",{value:1,children:"Cliente"}),(0,j.jsx)("option",{value:2,children:"Administrador"}),(0,j.jsx)("option",{value:3,children:"Mesero"}),(0,j.jsx)("option",{value:4,children:"Domiciliario"})]})]}),(0,j.jsxs)("div",{children:[(0,j.jsx)("label",{htmlFor:"total-orders-input",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pedidos"}),(0,j.jsx)("input",{id:"total-orders-input",type:"number",value:A.totalOrders,onChange:e=>D({...A,totalOrders:Number(e.target.value)}),className:(0,y.x)("w-full p-2 rounded-md border text-sm","dark"===P?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white text-gray-900","focus:outline-none focus:ring-1 focus:ring-blue-500"),min:"0"})]}),(0,j.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,j.jsx)("button",{type:"button",onClick:()=>S(null),className:(0,y.x)("px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200","dark"===P?"bg-gray-600 hover:bg-gray-700 text-gray-200":"bg-gray-200 hover:bg-gray-300 text-gray-900"),children:"Cancelar"}),(0,j.jsx)("button",{type:"submit",disabled:T,className:(0,y.x)("px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200",T?"bg-gray-400 cursor-not-allowed":"dark"===P?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"),children:T?"Guardando...":"Guardar"})]})]})})]})})})]})}),(0,j.jsx)(l.e,{show:null!==M,as:t.Fragment,children:(0,j.jsxs)(o.lG,{as:"div",className:"relative z-50",onClose:()=>W(null),children:[(0,j.jsx)(l.e.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,j.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),(0,j.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,j.jsx)(l.e.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,j.jsxs)(o.lG.Panel,{className:(0,y.x)("w-full max-w-md p-6 rounded-lg shadow-xl max-h-[80vh] overflow-y-auto","dark"===P?"bg-gray-800 text-gray-200":"bg-gray-50 text-gray-900"),children:[(0,j.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,j.jsx)(o.lG.Title,{className:"text-lg font-medium",children:"Detalles del Usuario"}),(0,j.jsx)("button",{onClick:()=>W(null),className:"text-gray-500 hover:text-gray-400 dark:hover:text-gray-300","aria-label":"Cerrar modal de detalles",children:(0,j.jsx)(m.A,{className:"h-6 w-6"})})]}),M&&(0,j.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,j.jsxs)("p",{children:[(0,j.jsx)("span",{className:"font-semibold",children:"Email:"})," ",M.email]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("span",{className:"font-semibold",children:"ID de Usuario:"})," ",M.id]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("span",{className:"font-semibold",children:"Rol:"})," ",N[`${M.role}`]||"Desconocido"]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("span",{className:"font-semibold",children:"Total de Pedidos:"})," ",M.totalOrders||0]}),(0,j.jsxs)("p",{children:[(0,j.jsx)("span",{className:"font-semibold",children:"Direcci\xf3n:"})," ",M.address]}),(null===(r=M.createdAt)||void 0===r?void 0:r.seconds)&&(0,j.jsxs)("p",{children:[(0,j.jsx)("span",{className:"font-semibold",children:"Registrado Desde:"})," ",new Date(1e3*M.createdAt.seconds).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"})]})]})]})})})]})})]})}},6568:(e,r,a)=>{function t(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return r.filter(Boolean).join(" ")}a.d(r,{x:()=>t})}}]);
//# sourceMappingURL=445.e98a3b2d.chunk.js.map