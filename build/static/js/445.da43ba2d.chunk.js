"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[445],{3445:(e,r,a)=>{a.r(r),a.d(r,{default:()=>k});var t=a(5043),s=a(1487),l=a(7015),o=a(9795),i=a(2315),n=a(2811),d=a(9248),c=a(1252),u=a(7591),m=a(1653),x=a(5200),g=a(1958),h=a(5472),b=a(6568),p=a(1238),y=a(7762),f=(a(557),a(579));const j=e=>null==e?"":"string"===typeof e?e.replace(" NUEVO","").trim():"boolean"===typeof e?e.toString():"object"===typeof e&&null!==e&&"name"in e?String(e.name).replace(" NUEVO","").trim():String(e).replace(" NUEVO","").trim(),v=(e,r)=>{let a;return function(){for(var t=arguments.length,s=new Array(t),l=0;l<t;l++)s[l]=arguments[l];const o=this;clearTimeout(a),a=setTimeout(()=>e.apply(o,s),r)}},w={1:"Cliente",2:"Administrador",3:"Mesero",4:"Domiciliario"},k=e=>{var r;let{setError:a,setSuccess:k,theme:N}=e;const[C,P]=(0,t.useState)([]),[E,S]=(0,t.useState)(null),[A,O]=(0,t.useState)({email:"",role:1,totalOrders:0}),[F,D]=(0,t.useState)(!1),[$,L]=(0,t.useState)(null),[T,U]=(0,t.useState)(""),[z,G]=(0,t.useState)(null),[W,M]=(0,t.useState)({currentPage:1,itemsPerPage:10}),[R,_]=(0,t.useState)(null),[B,I]=(0,t.useState)("asc"),V=(0,t.useCallback)(v(e=>U(e),300),[]),q=(0,t.useMemo)(()=>{let e=C;return T&&(e=e.filter(e=>{var r;return e.email.toLowerCase().includes(T.toLowerCase())||e.address.toLowerCase().includes(T.toLowerCase())||(null===(r=w[`${e.role}`])||void 0===r?void 0:r.toLowerCase().includes(T.toLowerCase()))})),R&&(e=[...e].sort((e,r)=>{let a,t;switch(R){case"email":a=e.email.toLowerCase(),t=r.email.toLowerCase();break;case"address":a=e.address.toLowerCase(),t=r.address.toLowerCase();break;case"role":a=e.role,t=r.role;break;case"totalOrders":a=e.totalOrders||0,t=r.totalOrders||0;break;default:a=e.number,t=r.number}return a<t?"asc"===B?-1:1:a>t?"asc"===B?1:-1:0})),e},[C,T,R,B]),H=Math.ceil(q.length/W.itemsPerPage),J=(0,t.useMemo)(()=>{const e=(W.currentPage-1)*W.itemsPerPage,r=e+W.itemsPerPage;return q.slice(e,r)},[q,W.currentPage,W.itemsPerPage]);(0,t.useEffect)(()=>{D(!0);const e=(0,h.rJ)(g.db,"users"),r=(0,h.aQ)(e,async e=>{try{const r=e.docs.map(e=>({id:e.id,...e.data(),createdAt:e.data().createdAt||{seconds:0}}));r.sort((e,r)=>{var a,t;return((null===(a=e.createdAt)||void 0===a?void 0:a.seconds)||0)-((null===(t=r.createdAt)||void 0===t?void 0:t.seconds)||0)});const a=await Promise.all(r.map(async(e,r)=>{try{const o=(0,h.P)((0,h.rJ)(g.db,"orders"),(0,h._M)("userId","==",e.id),(0,h.My)("createdAt","desc"),(0,h.AB)(1)),i=await(0,h.GG)(o);let n="Sin pedidos";if(!i.empty){var a,t,s,l;const e=null===(a=i.docs)||void 0===a||null===(t=a[0])||void 0===t?void 0:t.data();n=(e=>{if(null===e||void 0===e||!e.address)return"Sin direcci\xf3n";let r=e.address;switch(e.addressType){case"school":e.recipientName&&(r+=` (Recibe: ${j(e.recipientName)})`);break;case"complex":e.unitDetails&&(r+=` (${j(e.unitDetails)})`);break;case"shop":e.localName&&(r+=` (${j(e.localName)})`)}return r})(null===e||void 0===e||null===(s=e.meals)||void 0===s||null===(l=s[0])||void 0===l?void 0:l.address)}return{...e,number:r+1,address:n}}catch(o){return console.error(`Error fetching address for user ${e.id}:`,o.message),{...e,number:r+1,address:"Error al cargar direcci\xf3n"}}}));P(a),L(null)}catch(r){console.error("Error in UserManagement onSnapshot:",r),a(`Error al cargar usuarios: ${r.message}`),L(r.message)}finally{D(!1)}},e=>{console.error("onSnapshot listener error:",e),a(`Error al cargar usuarios: ${e.message}`),L(e.message),D(!1)});return()=>r()},[a]);const Q=(0,t.useCallback)(e=>{S(e),O({email:e.email||"",role:e.role||1,totalOrders:e.totalOrders||0})},[]),Y=(0,t.useCallback)(async()=>{if(E){D(!0);try{await(0,h.c4)(g.db,async e=>{const r=(0,h.H9)(g.db,"users",E.id);e.update(r,{email:A.email.trim(),role:Number(A.role),totalOrders:Number(A.totalOrders)})}),S(null),k("Usuario actualizado con \xe9xito.")}catch(e){console.error("Error al guardar usuario:",e),a(`Error al actualizar usuario: ${e.message}`)}finally{D(!1)}}},[E,A,k,a]),K=(0,t.useCallback)(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este usuario? Esta acci\xf3n es irreversible.")){D(!0);try{await(0,h.kd)((0,h.H9)(g.db,"users",e)),k("Usuario eliminado con \xe9xito.")}catch(r){console.error("Error al eliminar usuario:",r),a(`Error al eliminar usuario: ${r.message}`)}finally{D(!1)}}},[k,a]),X=(0,t.useCallback)(e=>{e>=1&&e<=H&&M(r=>({...r,currentPage:e}))},[H]),Z=(0,t.useCallback)(e=>{M({currentPage:1,itemsPerPage:Number(e.target.value)})},[]),ee=(0,t.useCallback)(e=>{R===e?I(e=>"asc"===e?"desc":"asc"):(_(e),I("asc")),M(e=>({...e,currentPage:1}))},[R,I]),re=(0,t.useCallback)(e=>R===e?"asc"===B?(0,f.jsx)(m.A,{className:"w-4 h-4 inline-block ml-1"}):(0,f.jsx)(x.A,{className:"w-4 h-4 inline-block ml-1"}):null,[R,B]),ae=(0,t.useCallback)(()=>q.map(e=>{var r;return{"N\xba":e.number,Email:e.email,"Direcci\xf3n":e.address,Rol:w[`${e.role}`],Pedidos:e.totalOrders||0,"ID de Usuario":e.id,"Registrado Desde":null!==(r=e.createdAt)&&void 0!==r&&r.seconds?new Date(1e3*e.createdAt.seconds).toLocaleDateString("es-CO"):"N/A"}}),[q]),te=(0,t.useCallback)(()=>{const e=ae();if(0===e.length)return void a("No hay datos para exportar a Excel.");const r=p.Wp.json_to_sheet(e),t=p.Wp.book_new();p.Wp.book_append_sheet(t,r,"Usuarios"),p._h(t,"usuarios.xlsx"),k("Usuarios exportados a Excel con \xe9xito.")},[ae,k,a]),se=(0,t.useCallback)(()=>{const e=ae();if(0===e.length)return void a("No hay datos para exportar a PDF.");const r=new y.default,t=[Object.keys((null===e||void 0===e?void 0:e[0])||{})],s=e.map(e=>Object.values(e));r.autoTable({head:t,body:s,startY:20,theme:"grid",styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[20,83,136],textColor:[255,255,255],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},margin:{top:10,left:10,right:10,bottom:10}}),r.save("usuarios.pdf"),k("Usuarios exportados a PDF con \xe9xito.")},[ae,k,a]),le=(0,t.useCallback)(()=>{const e=ae();if(0===e.length)return void a("No hay datos para previsualizar.");const r=window.open("","_blank");if(!r)return void a("Pop-ups bloqueados. Por favor, permita pop-ups para previsualizar.");let t=`\n      <html>\n      <head>\n        <title>Previsualizaci\xf3n de Usuarios</title>\n        <style>\n          body { font-family: Arial, sans-serif; margin: 20px; }\n          h1 { text-align: center; margin-bottom: 20px; }\n          table { width: 100%; border-collapse: collapse; margin-bottom: 20px; }\n          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }\n          th { background-color: #f2f2f2; }\n          @media print {\n            body { margin: 0; }\n            table { font-size: 10pt; }\n          }\n        </style>\n      </head>\n      <body>\n        <h1>Reporte de Usuarios</h1>\n        <table>\n          <thead>\n            <tr>\n              ${Object.keys((null===e||void 0===e?void 0:e[0])||{}).map(e=>`<th>${e}</th>`).join("")}\n            </tr>\n          </thead>\n          <tbody>\n            ${e.map(e=>`\n              <tr>\n                ${Object.values(e).map(e=>`<td>${e}</td>`).join("")}\n              </tr>\n            `).join("")}\n          </tbody>\n        </table>\n      </body>\n      </html>\n    `;r.document.write(t),r.document.close(),r.focus()},[ae,a]);return(0,f.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4 py-6",children:[(0,f.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-6 text-gray-900 dark:text-gray-100",children:"Gesti\xf3n de Usuarios"}),$&&(0,f.jsxs)("div",{className:"mb-4 p-4 bg-red-100 text-red-700 rounded-lg dark:bg-red-900 dark:text-red-200",children:["Error al cargar datos: ",$]}),(0,f.jsx)("div",{className:"flex flex-wrap items-center gap-3 mb-4",children:(0,f.jsxs)("div",{className:"flex items-center w-full min-w-0 flex-grow",children:[(0,f.jsx)("input",{type:"text",placeholder:"Buscar por email, direcci\xf3n o rol...",onChange:e=>V(e.target.value),className:(0,b.x)("p-2 rounded-md border flex-grow w-full max-w-[30rem]","dark"===N?"bg-gray-700 border-gray-600 text-gray-100":"bg-white border-gray-300 text-gray-900","focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"),"aria-label":"Buscar usuarios"}),(0,f.jsxs)(s.W1,{as:"div",className:"relative inline-block text-left z-20 flex-shrink-0 -ml-px",children:[(0,f.jsx)("div",{children:(0,f.jsx)(s.W1.Button,{className:(0,b.x)("inline-flex justify-center text-sm font-medium rounded-md","dark"===N?"text-gray-300 hover:text-gray-100":"text-gray-700 hover:text-gray-900","p-1 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2","pr-2"),"aria-label":"Opciones de exportaci\xf3n",children:(0,f.jsx)(i.A,{className:"h-6 w-6","aria-hidden":"true"})})}),(0,f.jsx)(l.e,{as:t.Fragment,enter:"transition ease-out duration-100",enterFrom:"transform opacity-0 scale-95",enterTo:"transform opacity-100 scale-100",leave:"transition ease-in duration-75",leaveFrom:"transform opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,f.jsx)(s.W1.Items,{className:(0,b.x)("absolute right-0 mt-2 w-48 origin-top-right divide-y divide-gray-100 rounded-md shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none","dark"===N?"bg-gray-700 divide-gray-600":"bg-white divide-gray-100"),children:(0,f.jsxs)("div",{className:"py-1",children:[(0,f.jsx)(s.W1.Item,{children:e=>{let{active:r}=e;return(0,f.jsx)("button",{onClick:te,className:(0,b.x)(r?"dark"===N?"bg-gray-600 text-gray-100":"bg-gray-100 text-gray-900":"dark"===N?"text-gray-300":"text-gray-700","block px-4 py-2 text-sm w-full text-left"),children:"Exportar a Excel"})}}),(0,f.jsx)(s.W1.Item,{children:e=>{let{active:r}=e;return(0,f.jsx)("button",{onClick:se,className:(0,b.x)(r?"dark"===N?"bg-gray-600 text-gray-100":"bg-gray-100 text-gray-900":"dark"===N?"text-gray-300":"text-gray-700","block px-4 py-2 text-sm w-full text-left"),children:"Exportar a PDF"})}}),(0,f.jsx)(s.W1.Item,{children:e=>{let{active:r}=e;return(0,f.jsx)("button",{onClick:le,className:(0,b.x)(r?"dark"===N?"bg-gray-600 text-gray-100":"bg-gray-100 text-gray-900":"dark"===N?"text-gray-300":"text-gray-700","block px-4 py-2 text-sm w-full text-left"),children:"Previsualizar"})}})]})})})]})]})}),(0,f.jsxs)("div",{className:(0,b.x)("p-4 sm:p-6 rounded-2xl shadow-xl max-h-[70vh] overflow-y-auto custom-scrollbar","dark"===N?"bg-gray-800":"bg-white"),children:[(0,f.jsx)("div",{className:"overflow-x-auto",children:(0,f.jsxs)("table",{className:"min-w-full text-left border-collapse text-xs sm:text-sm",children:[(0,f.jsx)("thead",{children:(0,f.jsxs)("tr",{className:(0,b.x)("font-semibold sticky top-0 z-10","dark"===N?"bg-gray-700 text-gray-300":"bg-gray-100 text-gray-700"),children:[(0,f.jsxs)("th",{className:"p-2 border-b cursor-pointer whitespace-nowrap",onClick:()=>ee("number"),children:["N\xba ",re("number")]}),(0,f.jsxs)("th",{className:"p-2 border-b cursor-pointer whitespace-nowrap",onClick:()=>ee("email"),children:["Email ",re("email")]}),(0,f.jsxs)("th",{className:"p-2 border-b cursor-pointer whitespace-nowrap",onClick:()=>ee("address"),children:["Direcci\xf3n ",re("address")]}),(0,f.jsxs)("th",{className:"p-2 border-b cursor-pointer whitespace-nowrap",onClick:()=>ee("role"),children:["Rol ",re("role")]}),(0,f.jsxs)("th",{className:"p-2 border-b cursor-pointer whitespace-nowrap",onClick:()=>ee("totalOrders"),children:["Pedidos ",re("totalOrders")]}),(0,f.jsx)("th",{className:"p-2 border-b whitespace-nowrap",children:"Acciones"})]})}),(0,f.jsx)("tbody",{children:F?(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:"6",className:"p-6 text-center text-gray-500 dark:text-gray-400",children:(0,f.jsxs)("div",{className:"flex justify-center items-center",children:[(0,f.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"}),(0,f.jsx)("span",{className:"ml-3",children:"Cargando usuarios..."})]})})}):0!==J.length||$?J.map(e=>(0,f.jsxs)("tr",{className:(0,b.x)("border-b transition-colors duration-150","dark"===N?"border-gray-700 hover:bg-gray-700":"border-gray-200 hover:bg-gray-50",e.number%2===0?"dark"===N?"bg-gray-750":"bg-gray-50":""),children:[(0,f.jsx)("td",{className:"p-2 text-gray-900 dark:text-gray-300",children:e.number}),(0,f.jsx)("td",{className:"p-2 text-gray-900 dark:text-gray-300 font-medium",children:e.email}),(0,f.jsx)("td",{className:"p-2 text-gray-900 dark:text-gray-300 max-w-[150px] sm:max-w-[250px] overflow-hidden text-ellipsis whitespace-nowrap",title:e.address,children:e.address}),(0,f.jsx)("td",{className:"p-2 text-gray-900 dark:text-gray-300",children:(0,f.jsx)("span",{className:(0,b.x)("px-2 py-1 rounded-full text-xs font-semibold",2===e.role?"bg-purple-200 text-purple-800 dark:bg-purple-800 dark:text-purple-200":3===e.role?"bg-green-200 text-green-800 dark:bg-green-800 dark:text-green-200":4===e.role?"bg-orange-200 text-orange-800 dark:bg-orange-800 dark:text-orange-200":"bg-blue-200 text-blue-800 dark:bg-blue-800 dark:text-blue-200"),children:w[`${e.role}`]||"Desconocido"})}),(0,f.jsx)("td",{className:"p-2 text-gray-900 dark:text-gray-300",children:e.totalOrders||0}),(0,f.jsxs)("td",{className:"p-2 flex space-x-1 items-center",children:[(0,f.jsx)("button",{onClick:()=>Q(e),className:"text-blue-500 hover:text-blue-400 p-1 rounded-md transition-colors duration-150",title:"Editar usuario","aria-label":`Editar usuario ${e.email}`,children:(0,f.jsx)(n.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,f.jsx)("button",{onClick:()=>K(e.id),className:"text-red-500 hover:text-red-400 p-1 rounded-md transition-colors duration-150",title:"Eliminar usuario","aria-label":`Eliminar usuario ${e.email}`,children:(0,f.jsx)(d.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),(0,f.jsx)("button",{onClick:()=>G(e),className:"text-gray-500 hover:text-gray-400 p-1 rounded-md transition-colors duration-150",title:"Ver detalles del usuario","aria-label":"Ver detalles del usuario",children:(0,f.jsx)(c.A,{className:"w-4 h-4 sm:w-5 sm:h-5"})})]})]},e.id)):(0,f.jsx)("tr",{children:(0,f.jsx)("td",{colSpan:"6",className:"p-6 text-center text-gray-500 dark:text-gray-400",children:"No se encontraron usuarios."})})})]})}),q.length>0&&(0,f.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 gap-4",children:[(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Usuarios por p\xe1gina:"}),(0,f.jsxs)("select",{value:W.itemsPerPage,onChange:Z,className:(0,b.x)("p-1 sm:p-2 rounded-lg border text-sm","dark"===N?"border-gray-600 bg-gray-700 text-white":"border-gray-300 bg-white text-gray-900"),"aria-label":"Seleccionar n\xfamero de usuarios por p\xe1gina",children:[(0,f.jsx)("option",{value:5,children:"5"}),(0,f.jsx)("option",{value:10,children:"10"}),(0,f.jsx)("option",{value:20,children:"20"}),(0,f.jsx)("option",{value:30,children:"30"})]})]}),(0,f.jsxs)("div",{className:"flex items-center gap-2",children:[(0,f.jsx)("button",{onClick:()=>X(W.currentPage-1),disabled:1===W.currentPage,className:(0,b.x)("p-2 rounded-lg transition-all duration-200",1===W.currentPage?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),"aria-label":"P\xe1gina anterior",children:(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})})}),(0,f.jsxs)("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["P\xe1gina ",W.currentPage," de ",H]}),(0,f.jsx)("button",{onClick:()=>X(W.currentPage+1),disabled:W.currentPage===H,className:(0,b.x)("p-2 rounded-lg transition-all duration-200",W.currentPage===H?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),"aria-label":"P\xe1gina siguiente",children:(0,f.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-5 h-5",children:(0,f.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})})]})]})]}),(0,f.jsx)(l.e,{show:null!==E,as:t.Fragment,children:(0,f.jsxs)(o.lG,{as:"div",className:"relative z-50",onClose:()=>S(null),children:[(0,f.jsx)(l.e.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,f.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),(0,f.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,f.jsx)(l.e.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,f.jsxs)(o.lG.Panel,{className:(0,b.x)("w-full max-w-md p-6 rounded-lg shadow-xl max-h-[80vh] overflow-y-auto","dark"===N?"bg-gray-800 text-gray-200":"bg-gray-50 text-gray-900"),children:[(0,f.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,f.jsx)(o.lG.Title,{className:"text-lg font-medium",children:"Editar Usuario"}),(0,f.jsx)("button",{onClick:()=>S(null),className:"text-gray-500 hover:text-gray-400 dark:hover:text-gray-300","aria-label":"Cerrar modal",children:(0,f.jsx)(u.A,{className:"h-6 w-6"})})]}),(0,f.jsx)("form",{onSubmit:e=>{e.preventDefault(),Y()},children:(0,f.jsxs)("div",{className:"space-y-4",children:[(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"email-input",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),(0,f.jsx)("input",{id:"email-input",type:"email",value:A.email,onChange:e=>O({...A,email:e.target.value}),className:(0,b.x)("w-full p-2 rounded-md border text-sm","dark"===N?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white text-gray-900","focus:outline-none focus:ring-1 focus:ring-blue-500"),placeholder:"Ej: usuario@ejemplo.com",required:!0})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"role-select",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Rol"}),(0,f.jsxs)("select",{id:"role-select",value:A.role,onChange:e=>O({...A,role:Number(e.target.value)}),className:(0,b.x)("w-full p-2 rounded-md border text-sm","dark"===N?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white text-gray-900","focus:outline-none focus:ring-1 focus:ring-blue-500"),children:[(0,f.jsx)("option",{value:1,children:"Cliente"}),(0,f.jsx)("option",{value:2,children:"Administrador"}),(0,f.jsx)("option",{value:3,children:"Mesero"}),(0,f.jsx)("option",{value:4,children:"Domiciliario"})]})]}),(0,f.jsxs)("div",{children:[(0,f.jsx)("label",{htmlFor:"total-orders-input",className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Pedidos"}),(0,f.jsx)("input",{id:"total-orders-input",type:"number",value:A.totalOrders,onChange:e=>O({...A,totalOrders:Number(e.target.value)}),className:(0,b.x)("w-full p-2 rounded-md border text-sm","dark"===N?"border-gray-600 bg-gray-700 text-white":"border-gray-200 bg-white text-gray-900","focus:outline-none focus:ring-1 focus:ring-blue-500"),min:"0"})]}),(0,f.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,f.jsx)("button",{type:"button",onClick:()=>S(null),className:(0,b.x)("px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200","dark"===N?"bg-gray-600 hover:bg-gray-700 text-gray-200":"bg-gray-200 hover:bg-gray-300 text-gray-900"),children:"Cancelar"}),(0,f.jsx)("button",{type:"submit",disabled:F,className:(0,b.x)("px-4 py-2 rounded-md text-sm font-medium transition-colors duration-200",F?"bg-gray-400 cursor-not-allowed":"dark"===N?"bg-blue-600 hover:bg-blue-700 text-white":"bg-blue-500 hover:bg-blue-600 text-white"),children:F?"Guardando...":"Guardar"})]})]})})]})})})]})}),(0,f.jsx)(l.e,{show:null!==z,as:t.Fragment,children:(0,f.jsxs)(o.lG,{as:"div",className:"relative z-50",onClose:()=>G(null),children:[(0,f.jsx)(l.e.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0",enterTo:"opacity-100",leave:"ease-in duration-200",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,f.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50"})}),(0,f.jsx)("div",{className:"fixed inset-0 flex items-center justify-center p-4",children:(0,f.jsx)(l.e.Child,{as:t.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 scale-95",enterTo:"opacity-100 scale-100",leave:"ease-in duration-200",leaveFrom:"opacity-100 scale-100",leaveTo:"opacity-0 scale-95",children:(0,f.jsxs)(o.lG.Panel,{className:(0,b.x)("w-full max-w-md p-6 rounded-lg shadow-xl max-h-[80vh] overflow-y-auto","dark"===N?"bg-gray-800 text-gray-200":"bg-gray-50 text-gray-900"),children:[(0,f.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,f.jsx)(o.lG.Title,{className:"text-lg font-medium",children:"Detalles del Usuario"}),(0,f.jsx)("button",{onClick:()=>G(null),className:"text-gray-500 hover:text-gray-400 dark:hover:text-gray-300","aria-label":"Cerrar modal de detalles",children:(0,f.jsx)(u.A,{className:"h-6 w-6"})})]}),z&&(0,f.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,f.jsxs)("p",{children:[(0,f.jsx)("span",{className:"font-semibold",children:"Email:"})," ",z.email]}),(0,f.jsxs)("p",{children:[(0,f.jsx)("span",{className:"font-semibold",children:"ID de Usuario:"})," ",z.id]}),(0,f.jsxs)("p",{children:[(0,f.jsx)("span",{className:"font-semibold",children:"Rol:"})," ",w[`${z.role}`]||"Desconocido"]}),(0,f.jsxs)("p",{children:[(0,f.jsx)("span",{className:"font-semibold",children:"Total de Pedidos:"})," ",z.totalOrders||0]}),(0,f.jsxs)("p",{children:[(0,f.jsx)("span",{className:"font-semibold",children:"Direcci\xf3n:"})," ",z.address]}),(null===(r=z.createdAt)||void 0===r?void 0:r.seconds)&&(0,f.jsxs)("p",{children:[(0,f.jsx)("span",{className:"font-semibold",children:"Registrado Desde:"})," ",new Date(1e3*z.createdAt.seconds).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"})]})]})]})})})]})})]})}},6568:(e,r,a)=>{function t(){for(var e=arguments.length,r=new Array(e),a=0;a<e;a++)r[a]=arguments[a];return r.filter(Boolean).join(" ")}a.d(r,{x:()=>t})}}]);
//# sourceMappingURL=445.da43ba2d.chunk.js.map