{"version":3,"file":"static/js/515.9ee0bdf2.chunk.js","mappings":"4JAKA,MAyEA,EAzEoBA,IAAsC,IAArC,SAAEC,EAAQ,WAAEC,EAAU,MAAEC,GAAOH,EAClD,MAAOI,EAAoBC,IAAyBC,EAAAA,EAAAA,WAAS,IACtDC,EAASC,IAAcF,EAAAA,EAAAA,WAAS,IAEvCG,EAAAA,EAAAA,WAAU,KACR,MAAMC,GAAcC,EAAAA,EAAAA,KAClBC,EAAAA,EAAAA,IAAIC,EAAAA,GAAI,WAAY,UACnBC,IACCT,EAAsBS,EAAQC,UAAWD,EAAQE,OAAOZ,qBAA8B,IAEvFa,GAAUhB,EAAS,qCAAkCgB,EAAMC,YAE9D,MAAO,IAAMR,KACZ,CAACT,IAEJ,MAgBMkB,EAAmB,SAAVhB,EACTiB,EAAchB,EAAqB,aAAe,eAClDiB,EAAajB,EAAqB,6BAA+B,iCACjEkB,EAAaH,EAAS,aAAe,gBACrCI,EAAeJ,EAAS,gBAAkB,gBAEhD,OACEK,EAAAA,EAAAA,KAAA,OAAKC,UAAU,0DAAyDC,UACtEC,EAAAA,EAAAA,MAAA,OAAKF,UAAW,iHAAiHC,SAAA,EAC/HF,EAAAA,EAAAA,KAAA,MAAIC,UAAW,uCAAuCH,IAAaI,SAAC,wBAIpEC,EAAAA,EAAAA,MAAA,OAAKF,UAAU,mBAAkBC,SAAA,EAC/BF,EAAAA,EAAAA,KAAA,KAAGC,UAAW,yBAAyBH,IAAaI,SACjDtB,EAAqB,uBAAyB,0BAEjDoB,EAAAA,EAAAA,KAAA,KAAGC,UAAW,gBAAgBF,IAAeG,SAC1CtB,EACG,6EACA,0EAIRoB,EAAAA,EAAAA,KAAA,OACEI,QAzCaC,UACnB,IAAItB,EACJ,IACEC,GAAW,SACLsB,EAAAA,EAAAA,KAAOlB,EAAAA,EAAAA,IAAIC,EAAAA,GAAI,WAAY,UAAW,CAC1CT,oBAAqBA,EACrB2B,UAAW,IAAIC,MACd,CAAEC,OAAO,IACZ/B,EAAW,YAAYE,EAAkC,cAAb,YAC9C,CAAE,MAAO8B,GACPjC,EAAS,wBAAwBiC,EAAIhB,UACvC,CAAC,QACCV,GAAW,EACb,GA6BMiB,UAAW,wDAAwDJ,2DAAoEK,UAEvIF,EAAAA,EAAAA,KAAA,OACEC,UAAW,kCAAkCL,4EACzChB,EAAqB,gBAAkB,wBAI/CoB,EAAAA,EAAAA,KAAA,KAAGC,UAAU,gDAA+CC,SACzDtB,EAAqB,0BAAyB,0C","sources":["components/Admin/ClosingTime.js"],"sourcesContent":["//src/components/Admin/ClosingTime.js\r\nimport { useState, useEffect } from 'react';\r\nimport { db } from '../../config/firebase';\r\nimport { doc, setDoc, onSnapshot } from 'firebase/firestore';\r\n\r\nconst ClosingTime = ({ setError, setSuccess, theme }) => {\r\n  const [isOrderingDisabled, setIsOrderingDisabled] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = onSnapshot(\r\n      doc(db, 'settings', 'global'),\r\n      (docSnap) => {\r\n        setIsOrderingDisabled(docSnap.exists() ? docSnap.data().isOrderingDisabled || false : false);\r\n      },\r\n      (error) => setError(`Error al cargar configuraciÃ³n: ${error.message}`)\r\n    );\r\n    return () => unsubscribe();\r\n  }, [setError]);\r\n\r\n  const handleToggle = async () => {\r\n    if (loading) return;\r\n    try {\r\n      setLoading(true);\r\n      await setDoc(doc(db, 'settings', 'global'), {\r\n        isOrderingDisabled: !isOrderingDisabled,\r\n        updatedAt: new Date(),\r\n      }, { merge: true });\r\n      setSuccess(`Pedidos ${!isOrderingDisabled ? 'cerrados' : 'habilitados'}`);\r\n    } catch (err) {\r\n      setError(`Error al actualizar: ${err.message}`);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const isDark = theme === 'dark';\r\n  const switchColor = isOrderingDisabled ? 'bg-red-500' : 'bg-green-500';\r\n  const trackColor = isOrderingDisabled ? 'bg-red-300 dark:bg-red-700' : 'bg-green-300 dark:bg-green-700';\r\n  const titleColor = isDark ? 'text-white' : 'text-gray-900';\r\n  const subTextColor = isDark ? 'text-gray-300' : 'text-gray-600';\r\n\r\n  return (\r\n    <div className=\"min-h-[70vh] flex items-center justify-center px-4 py-6\">\r\n      <div className={`backdrop-blur-xl bg-white/10 dark:bg-black/20 border border-white/20 rounded-3xl shadow-xl p-8 w-full max-w-md`}>\r\n        <h2 className={`text-center text-2xl font-bold mb-4 ${titleColor}`}>\r\n          Control de Pedidos\r\n        </h2>\r\n\r\n        <div className=\"text-center mb-6\">\r\n          <p className={`text-lg font-semibold ${titleColor}`}>\r\n            {isOrderingDisabled ? 'Restaurante Cerrados' : 'Restaurante Abiertos'}\r\n          </p>\r\n          <p className={`text-sm mt-1 ${subTextColor}`}>\r\n            {isOrderingDisabled\r\n              ? 'Pedidos deshabilitados. Los clientes no podrÃ¡n hacer pedidos por ahora.'\r\n              : 'El sistema estÃ¡ activo. Los pedidos estÃ¡n siendo recibidos.'}\r\n          </p>\r\n        </div>\r\n\r\n        <div\r\n          onClick={handleToggle}\r\n          className={`w-20 h-10 mx-auto rounded-full p-1 flex items-center ${trackColor} transition-colors duration-300 cursor-pointer relative`}\r\n        >\r\n          <div\r\n            className={`h-8 w-8 rounded-full shadow-md ${switchColor} transform transition-transform duration-300 ease-in-out\r\n              ${isOrderingDisabled ? 'translate-x-0' : 'translate-x-10'}`}\r\n          />\r\n        </div>\r\n\r\n        <p className=\"text-center text-xs mt-4 italic text-gray-400\">\r\n          {isOrderingDisabled ? 'Â¡Tiempo de descanso!' : 'Pedidos habilitados ðŸ’¬'}\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ClosingTime;\r\n"],"names":["_ref","setError","setSuccess","theme","isOrderingDisabled","setIsOrderingDisabled","useState","loading","setLoading","useEffect","unsubscribe","onSnapshot","doc","db","docSnap","exists","data","error","message","isDark","switchColor","trackColor","titleColor","subTextColor","_jsx","className","children","_jsxs","onClick","async","setDoc","updatedAt","Date","merge","err"],"sourceRoot":""}