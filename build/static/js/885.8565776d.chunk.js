"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[885],{6885:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o});var t=a(5043),r=a(1958),l=a(5472),i=a(7591),n=a(579);const o=e=>{let{setError:s,setSuccess:a,theme:o}=e;const[d,c]=(0,t.useState)("soups"),[m,g]=(0,t.useState)([]),[x,h]=(0,t.useState)({name:"",description:"",emoji:"",isNew:!1}),[u,p]=(0,t.useState)(null),[b,j]=(0,t.useState)({name:"",description:"",emoji:"",isNew:!1,isFinished:!1}),y={soups:"Sopas",soupReplacements:"Reemplazos de Sopa",principles:"Principios",proteins:"Prote\xednas",drinks:"Bebidas",sides:"Acompa\xf1amientos",times:"Horarios",paymentMethods:"M\xe9todos de Pago"},N=Object.keys(y);(0,t.useEffect)((()=>{const e=(0,l.aQ)((0,l.rJ)(r.db,d),(e=>{g(e.docs.map((e=>({id:e.id,...e.data()}))))}),(e=>s(`Error cargando datos: ${e.message}`)));return()=>e()}),[d,s]);return(0,n.jsxs)("div",{className:"max-w-7xl mx-auto px-2 sm:px-4",children:[(0,n.jsx)("h2",{className:"text-xl sm:text-2xl font-bold mb-6 text-gray-100",children:"Gesti\xf3n de Men\xfa"}),(0,n.jsxs)("div",{className:`bg-${"dark"===o?"gray-800":"white"} p-4 sm:p-6 rounded-xl shadow-lg`,children:[(0,n.jsx)("select",{value:d,onChange:e=>c(e.target.value),className:`bg-${"dark"===o?"gray-700":"gray-200"} text-${"dark"===o?"white":"gray-900"} p-2 rounded-lg w-full mb-4 text-sm`,children:N.map((e=>(0,n.jsx)("option",{value:e,children:y[e]},e)))}),(0,n.jsxs)("div",{className:`bg-${"dark"===o?"gray-700":"gray-300"} p-4 sm:p-6 rounded-lg mb-4`,children:[(0,n.jsxs)("h3",{className:"text-base sm:text-lg font-semibold mb-3",children:["Agregar $",y[d]]}),(0,n.jsx)("input",{value:x.name,onChange:e=>h({...x,name:e.target.value}),placeholder:`Nombre de ${y[d]}`,className:`bg-${"dark"===o?"gray-600":"gray-400"} text-white p-2 rounded-lg w-full mb-3 text-sm`}),(0,n.jsx)("textarea",{value:x.description,onChange:e=>h({...x,description:e.target.value}),placeholder:"Descripci\xf3n",className:`bg-${"dark"===o?"gray-600":"gray-400"} text-white p-2 rounded-lg w-full mb-3 text-sm`,rows:"3"}),(0,n.jsx)("input",{value:x.emoji,onChange:e=>h({...x,emoji:e.target.value}),placeholder:"Emoji",className:`bg-${"dark"===o?"gray-600":"gray-400"} text-white p-2 rounded-lg w-full mb-3 text-sm`}),"times"!==d&&(0,n.jsxs)("label",{className:"flex items-center mb-3",children:[(0,n.jsx)("input",{type:"checkbox",checked:x.isNew,onChange:e=>h({...x,isNew:e.target.checked}),className:"mr-2"}),(0,n.jsx)("span",{className:"text-sm",children:"\xbfEs nuevo?"})]}),(0,n.jsx)("button",{onClick:async()=>{if(x.name.trim())try{await(0,l.gS)((0,l.rJ)(r.db,d),{...x,createdAt:new Date}),h({name:"",description:"",emoji:"",isNew:!1}),window.dispatchEvent(new Event("optionsUpdated")),a(`"${x.name}" agregado`)}catch(e){s(`Error al agregar: ${e.message}`)}else s("El nombre no puede estar vac\xedo")},className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg w-full transition-colors text-sm",children:"Agregar"})]}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"text-base sm:text-lg font-semibold mb-3",children:["Lista de $",y[d]]}),(0,n.jsx)("div",{className:"space-y-2 max-h-[50vh] overflow-y-auto",children:m.map((e=>(0,n.jsxs)("div",{className:`p-3 rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center ${e.isFinished?"bg-gray-700":"bg-gray-600"} transition-colors shadow-sm hover:shadow-md`,children:[(0,n.jsxs)("div",{className:"flex flex-col",children:[(0,n.jsxs)("span",{className:"text-sm "+(e.isFinished?"line-through text-gray-400":""),children:[e.emoji&&(0,n.jsx)("span",{className:"mr-1",children:e.emoji}),e.name]}),e.description&&(0,n.jsx)("span",{className:"text-xs text-gray-300",children:e.description}),e.isNew&&(0,n.jsx)("span",{className:"text-green-400 text-xs",children:"(Nuevo)"}),e.isFinished&&(0,n.jsx)("span",{className:"text-red-400 text-xs",children:"\ud83d\udeab Agotado"})]}),(0,n.jsxs)("div",{className:"flex gap-2 mt-2 sm:mt-0",children:[(0,n.jsx)("button",{onClick:()=>(e=>{p(e),j(e)})(e),className:"bg-blue-600 hover:bg-blue-700 p-2 rounded-lg transition-colors",title:"Editar",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})})}),(0,n.jsx)("button",{onClick:()=>(async(e,t)=>{try{await(0,l.kd)((0,l.H9)(r.db,d,e)),a(`"${t}" eliminado`)}catch(i){s(`Error al eliminar: ${i.message}`)}})(e.id,e.name),className:"bg-red-600 hover:bg-red-700 p-2 rounded-lg transition-colors",title:"Eliminar",children:(0,n.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5-4h4M7 7h10"})})}),(0,n.jsx)("button",{onClick:()=>(async e=>{try{await(0,l.mZ)((0,l.H9)(r.db,d,e.id),{isFinished:!e.isFinished}),a(`"${e.name}" ${e.isFinished?"disponible":"agotado"}`)}catch(t){s(`Error al actualizar: ${t.message}`)}})(e),className:"p-2 rounded-lg transition-colors "+(e.isFinished?"bg-yellow-600 hover:bg-yellow-700":"bg-gray-500 hover:bg-gray-600"),title:e.isFinished?"Disponible":"Agotado",children:(0,n.jsx)("span",{className:"text-lg",children:"\ud83d\udeab"})})]})]},e.id)))})]})]}),u&&(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:`bg-${"dark"===o?"gray-800":"white"} p-4 sm:p-6 rounded-lg w-11/12 max-w-md overflow-y-auto max-h-[80vh] shadow-lg`,children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsx)("h2",{className:"text-lg",children:"Editar Elemento"}),(0,n.jsx)("button",{onClick:()=>p(null),className:"text-gray-400 hover:text-gray-200",children:(0,n.jsx)(i.A,{className:"h-6 w-6"})})]}),(0,n.jsx)("input",{value:b.name,onChange:e=>j({...b,name:e.target.value}),className:`bg-${"dark"===o?"gray-700":"gray-200"} text-${"dark"===o?"white":"gray-900"} p-2 rounded-lg w-full mb-4 text-sm`,placeholder:"Nombre"}),(0,n.jsx)("textarea",{value:b.description,onChange:e=>j({...b,description:e.target.value}),placeholder:"Descripci\xf3n",className:`bg-${"dark"===o?"gray-700":"gray-200"} text-${"dark"===o?"white":"gray-900"} p-2 rounded-lg w-full mb-4 text-sm`,rows:"3"}),(0,n.jsx)("input",{value:b.emoji,onChange:e=>j({...b,emoji:e.target.value}),placeholder:"Emoji",className:`bg-${"dark"===o?"gray-700":"gray-200"} text-${"dark"===o?"white":"gray-900"} p-2 rounded-lg w-full mb-4 text-sm`}),"times"!==d&&(0,n.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,n.jsxs)("label",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"checkbox",checked:b.isNew,onChange:e=>j({...b,isNew:e.target.checked}),className:"mr-2"}),(0,n.jsx)("span",{className:"text-sm",children:"\xbfEs nuevo?"})]}),(0,n.jsxs)("label",{className:"flex items-center",children:[(0,n.jsx)("input",{type:"checkbox",checked:b.isFinished,onChange:e=>j({...b,isFinished:e.target.checked}),className:"mr-2"}),(0,n.jsx)("span",{className:"text-sm",children:"\xbfAgotado?"})]})]}),(0,n.jsxs)("div",{className:"flex gap-2",children:[(0,n.jsx)("button",{onClick:async()=>{try{await(0,l.mZ)((0,l.H9)(r.db,d,u.id),b),p(null),a(`"${b.name}" actualizado`)}catch(e){s(`Error al actualizar: ${e.message}`)}},className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg flex-1 transition-colors text-sm",children:"Guardar"}),(0,n.jsx)("button",{onClick:()=>p(null),className:"bg-gray-600 hover:bg-gray-700 px-4 py-2 rounded-lg flex-1 transition-colors text-sm",children:"Cancelar"})]})]})})]})}}}]);
//# sourceMappingURL=885.8565776d.chunk.js.map