{"version":3,"file":"static/js/224.251f75e2.chunk.js","mappings":"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","sources":["../node_modules/lucide-react/src/icons/circle-x.ts","../node_modules/lucide-react/src/icons/circle-plus.ts","../node_modules/lucide-react/src/icons/chevron-left.ts","../node_modules/lucide-react/src/icons/pen.ts","components/Admin/Payments.js","../node_modules/shared/src/utils.ts","../node_modules/lucide-react/src/defaultAttributes.ts","../node_modules/lucide-react/src/Icon.ts","../node_modules/lucide-react/src/createLucideIcon.ts","../node_modules/lucide-react/src/icons/trash-2.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n];\n\n/**\n * @component @name CircleX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleX = createLucideIcon('circle-x', __iconNode);\n\nexport default CircleX;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'M8 12h8', key: '1wcyev' }],\n  ['path', { d: 'M12 8v8', key: 'napkw2' }],\n];\n\n/**\n * @component @name CirclePlus\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJNOCAxMmg4IiAvPgogIDxwYXRoIGQ9Ik0xMiA4djgiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-plus\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CirclePlus = createLucideIcon('circle-plus', __iconNode);\n\nexport default CirclePlus;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [['path', { d: 'm15 18-6-6 6-6', key: '1wnfg3' }]];\n\n/**\n * @component @name ChevronLeft\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJtMTUgMTgtNi02IDYtNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/chevron-left\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst ChevronLeft = createLucideIcon('chevron-left', __iconNode);\n\nexport default ChevronLeft;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  [\n    'path',\n    {\n      d: 'M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z',\n      key: '1a8usu',\n    },\n  ],\n];\n\n/**\n * @component @name Pen\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEuMTc0IDYuODEyYTEgMSAwIDAgMC0zLjk4Ni0zLjk4N0wzLjg0MiAxNi4xNzRhMiAyIDAgMCAwLS41LjgzbC0xLjMyMSA0LjM1MmEuNS41IDAgMCAwIC42MjMuNjIybDQuMzUzLTEuMzJhMiAyIDAgMCAwIC44My0uNDk3eiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/pen\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Pen = createLucideIcon('pen', __iconNode);\n\nexport default Pen;\n","import { useState, useEffect, useMemo } from 'react'; // Agregamos useMemo\r\nimport { db } from '../../config/firebase';\r\nimport { collection, onSnapshot, addDoc, updateDoc, deleteDoc, doc, query, orderBy } from 'firebase/firestore';\r\nimport { Edit2, Trash2, PlusCircle, XCircle, ChevronLeft } from 'lucide-react'; // Agregamos ChevronLeft para volver\r\n\r\n// Colombian Peso formatter\r\nconst copFormatter = new Intl.NumberFormat('es-CO', {\r\n  style: 'currency',\r\n  currency: 'COP',\r\n  minimumFractionDigits: 0,\r\n});\r\n\r\nconst Payments = ({ setError, setSuccess, theme }) => {\r\n  const [payments, setPayments] = useState([]);\r\n  const [formFields, setFormFields] = useState([{ name: '', units: '', amount: '', store: '' }]);\r\n  const [editingPaymentId, setEditingPaymentId] = useState(null);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [initialStore, setInitialStore] = useState('');\r\n\r\n  // --- Nuevos estados para la funcionalidad de ver pagos por tienda ---\r\n  const [selectedStore, setSelectedStore] = useState(null); // Guarda el nombre de la tienda seleccionada\r\n  const [showStoreDetails, setShowStoreDetails] = useState(false); // Controla si se muestran los detalles de la tienda\r\n\r\n  // Load payments from Firebase, ordered by timestamp in descending order (newest first for the displayed list)\r\n  useEffect(() => {\r\n    const paymentsQuery = query(collection(db, 'payments'), orderBy('timestamp', 'desc'));\r\n    const unsubscribe = onSnapshot(paymentsQuery, (snapshot) => {\r\n      setPayments(\r\n        snapshot.docs\r\n          .map(doc => ({ id: doc.id, ...doc.data() }))\r\n      );\r\n    }, (error) => setError(`Error al cargar pagos: ${error.message}`));\r\n    return () => unsubscribe();\r\n  }, [setError]);\r\n\r\n  // Maneja los cambios en los inputs de CUALQUIER formulario dinámico\r\n  const handleFormInputChange = (index, e) => {\r\n    const { name, value } = e.target;\r\n    // Limpia el valor si es 'amount' para asegurar solo números\r\n    const cleanValue = name === 'amount' ? value.replace(/[^0-9]/g, '') : value;\r\n    const updatedFormFields = [...formFields];\r\n    updatedFormFields[index] = { ...updatedFormFields[index], [name]: cleanValue };\r\n    setFormFields(updatedFormFields);\r\n  };\r\n\r\n  // Agrega un nuevo set de campos de formulario\r\n  const handleAddAnotherForm = () => {\r\n    const lastStore = formFields[formFields.length - 1]?.store || '';\r\n    setInitialStore(lastStore);\r\n    setFormFields([...formFields, { name: '', units: '', amount: '', store: lastStore }]);\r\n  };\r\n\r\n  // Remueve un set de campos de formulario por índice\r\n  const handleRemoveForm = (index) => {\r\n    const updatedFormFields = formFields.filter((_, i) => i !== index);\r\n    setFormFields(updatedFormFields);\r\n    if (updatedFormFields.length === 0) {\r\n      setShowForm(false);\r\n    }\r\n  };\r\n\r\n  // Función para guardar TODOS los pagos de los formularios dinámicos en Firebase\r\n  const handleSaveAllForms = async () => {\r\n    try {\r\n      const paymentsToSave = [];\r\n      const errors = [];\r\n\r\n      formFields.forEach((payment, index) => {\r\n        if (!payment.name || !payment.amount || !payment.store) {\r\n          errors.push(`El pago ${index + 1} requiere Producto/Gasto, Monto y Tienda.`);\r\n          return;\r\n        }\r\n        const amount = parseInt(payment.amount);\r\n        if (isNaN(amount) || amount <= 0) {\r\n          errors.push(`El monto del pago ${index + 1} debe ser un número válido mayor que 0.`);\r\n          return;\r\n        }\r\n        paymentsToSave.push({\r\n          name: payment.name,\r\n          units: parseInt(payment.units) || 0,\r\n          amount: amount,\r\n          store: payment.store,\r\n          timestamp: new Date()\r\n        });\r\n      });\r\n\r\n      if (errors.length > 0) {\r\n        setError(errors.join('\\n'));\r\n        return;\r\n      }\r\n\r\n      if (editingPaymentId) {\r\n        const paymentToUpdate = paymentsToSave[0];\r\n        await updateDoc(doc(db, 'payments', editingPaymentId), paymentToUpdate);\r\n        setSuccess('Pago actualizado exitosamente.');\r\n      } else {\r\n        const promises = paymentsToSave.map(payment =>\r\n          addDoc(collection(db, 'payments'), payment)\r\n        );\r\n        await Promise.all(promises);\r\n        setSuccess('Pagos registrados exitosamente.');\r\n      }\r\n\r\n      setFormFields([{ name: '', units: '', amount: '', store: '' }]);\r\n      setEditingPaymentId(null);\r\n      setShowForm(false);\r\n    } catch (error) {\r\n      setError(`Error al guardar pagos: ${error.message}`);\r\n    }\r\n  };\r\n\r\n  // Eliminar pago de Firebase\r\n  const handleDelete = async (id) => {\r\n    if (window.confirm('¿Estás seguro de eliminar este pago?')) {\r\n      try {\r\n        await deleteDoc(doc(db, 'payments', id));\r\n        setSuccess('Pago eliminado exitosamente.');\r\n      } catch (error) {\r\n        setError(`Error al eliminar pago: ${error.message}`);\r\n      }\r\n    }\r\n  };\r\n\r\n  // Preparar el formulario para editar un pago existente\r\n  const handleEdit = (payment) => {\r\n    setEditingPaymentId(payment.id);\r\n    setFormFields([{ ...payment, amount: payment.amount.toString() }]);\r\n    setShowForm(true);\r\n    setInitialStore(payment.store);\r\n    setShowStoreDetails(false); // Asegúrate de ocultar los detalles si se estaba viendo alguno\r\n  };\r\n\r\n  // --- Lógica para agrupar pagos por tienda y fecha ---\r\n  const groupedPaymentsByStoreAndDate = useMemo(() => {\r\n    return payments.reduce((acc, payment) => {\r\n      const date = payment.timestamp ?\r\n        new Date(payment.timestamp.toDate()).toLocaleDateString('es-CO', { year: 'numeric', month: 'long', day: 'numeric' })\r\n        : 'Fecha Desconocida';\r\n\r\n      if (!acc[payment.store]) acc[payment.store] = {};\r\n      if (!acc[payment.store][date]) acc[payment.store][date] = [];\r\n      acc[payment.store][date].push(payment);\r\n      return acc;\r\n    }, {});\r\n  }, [payments]);\r\n\r\n  // --- Calcular el total de gastos por tienda para el dashboard ---\r\n  const totalExpensesByStore = useMemo(() => {\r\n    const totals = {};\r\n    payments.forEach(payment => {\r\n      totals[payment.store] = (totals[payment.store] || 0) + payment.amount;\r\n    });\r\n    return totals;\r\n  }, [payments]);\r\n\r\n  // Calcular el gasto total general\r\n  const totalOverallExpenses = useMemo(() => {\r\n    return payments.reduce((sum, payment) => sum + payment.amount, 0);\r\n  }, [payments]);\r\n\r\n  // Función para manejar el clic en \"Ver todos los pagos\" de una tienda\r\n  const handleViewStoreDetails = (storeName) => {\r\n    setSelectedStore(storeName);\r\n    setShowStoreDetails(true);\r\n  };\r\n\r\n  // Función para volver a la vista principal del dashboard de tiendas\r\n  const handleBackToDashboard = () => {\r\n    setSelectedStore(null);\r\n    setShowStoreDetails(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto px-2 sm:px-4 lg:px-8 py-4 sm:py-8\">\r\n      {/* Encabezado y Total General */}\r\n      <div className=\"flex flex-col sm:flex-row items-center justify-between mb-4 sm:mb-8 p-3 sm:p-4 rounded-xl shadow-lg bg-gradient-to-r from-blue-500 to-indigo-600 text-white\">\r\n        <h2 className=\"text-xl sm:text-3xl font-extrabold tracking-tight mb-1 sm:mb-0 text-center sm:text-left\">Gestión de Pagos 💸</h2>\r\n        <div className=\"text-lg sm:text-xl font-semibold\">\r\n          <p>Total Gastado: {copFormatter.format(totalOverallExpenses)}</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Botón para mostrar/ocultar formulario */}\r\n      <button\r\n        onClick={() => {\r\n          setShowForm(!showForm);\r\n          setEditingPaymentId(null);\r\n          setFormFields([{ name: '', units: '', amount: '', store: '' }]);\r\n          setInitialStore('');\r\n          setShowStoreDetails(false); // Oculta detalles de tienda si abres el formulario\r\n        }}\r\n        className={`mb-4 sm:mb-6 px-4 py-2 sm:px-6 sm:py-3 rounded-full flex items-center justify-center space-x-2 transition-all duration-300 ease-in-out w-full sm:w-auto mx-auto\r\n          ${showForm ? 'bg-red-500 hover:bg-red-600' : 'bg-green-500 hover:bg-green-600'} text-white shadow-lg\r\n          transform hover:scale-105 text-sm sm:text-base`}\r\n      >\r\n        {showForm ? <XCircle className=\"w-4 h-4 sm:w-5 sm:h-5\" /> : <PlusCircle className=\"w-4 h-4 sm:w-5 sm:h-5\" />}\r\n        <span>{showForm ? 'Cerrar Formulario' : 'Registrar Nuevo Pago'}</span>\r\n      </button>\r\n\r\n      {/* Sección de Formularios Dinámicos */}\r\n      {showForm && (\r\n        <div className={`p-4 sm:p-6 rounded-xl shadow-xl transform transition-all duration-500 ease-in-out ${\r\n          theme === 'dark' ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-200'\r\n        } ${showForm ? 'scale-100 opacity-100' : 'scale-95 opacity-0'} mb-6`}>\r\n          <h3 className={`text-xl sm:text-2xl font-bold mb-4 sm:mb-6 ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>\r\n            {editingPaymentId ? 'Editar Pago' : 'Registrar Nuevos Pagos'}\r\n          </h3>\r\n          <form onSubmit={(e) => { e.preventDefault(); handleSaveAllForms(); }}>\r\n            {formFields.map((field, index) => (\r\n              <div key={index} className={`p-3 sm:p-4 rounded-lg border mb-4 ${theme === 'dark' ? 'border-gray-600 bg-gray-700' : 'border-gray-200 bg-gray-50'}`}>\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6\">\r\n                  <div>\r\n                    <label htmlFor={`name-${index}`} className=\"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                      Producto/Gasto\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"name\"\r\n                      id={`name-${index}`}\r\n                      value={field.name}\r\n                      onChange={(e) => handleFormInputChange(index, e)}\r\n                      className={`mt-1 p-2 sm:p-3 w-full rounded-lg border focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm sm:text-base\r\n                        ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-gray-50 border-gray-300 text-gray-900'} shadow-sm`}\r\n                      placeholder=\"Ej: Leche, Almuerzo\"\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label htmlFor={`units-${index}`} className=\"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                      Unidades (Opcional)\r\n                    </label>\r\n                    <input\r\n                      type=\"number\"\r\n                      name=\"units\"\r\n                      id={`units-${index}`}\r\n                      value={field.units}\r\n                      onChange={(e) => handleFormInputChange(index, e)}\r\n                      className={`mt-1 p-2 sm:p-3 w-full rounded-lg border focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm sm:text-base\r\n                        ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-gray-50 border-gray-300 text-gray-900'} shadow-sm`}\r\n                      placeholder=\"Ej: 2\"\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label htmlFor={`amount-${index}`} className=\"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                      Monto Total (COP)\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"amount\"\r\n                      id={`amount-${index}`}\r\n                      value={field.amount}\r\n                      onChange={(e) => handleFormInputChange(index, e)}\r\n                      placeholder=\"Ej: 4700\"\r\n                      className={`mt-1 p-2 sm:p-3 w-full rounded-lg border focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm sm:text-base\r\n                        ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-gray-50 border-gray-300 text-gray-900'} shadow-sm`}\r\n                      required\r\n                    />\r\n                  </div>\r\n                  <div>\r\n                    <label htmlFor={`store-${index}`} className=\"block text-xs sm:text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\">\r\n                      Tienda/Lugar\r\n                    </label>\r\n                    <input\r\n                      type=\"text\"\r\n                      name=\"store\"\r\n                      id={`store-${index}`}\r\n                      value={field.store}\r\n                      onChange={(e) => handleFormInputChange(index, e)}\r\n                      className={`mt-1 p-2 sm:p-3 w-full rounded-lg border focus:ring-blue-500 focus:border-blue-500 transition-colors text-sm sm:text-base\r\n                        ${theme === 'dark' ? 'bg-gray-700 border-gray-600 text-white placeholder-gray-400' : 'bg-gray-50 border-gray-300 text-gray-900'} shadow-sm`}\r\n                      placeholder=\"Ej: Éxito, Cafetería\"\r\n                      required\r\n                      onBlur={(e) => setInitialStore(e.target.value)}\r\n                    />\r\n                  </div>\r\n                </div>\r\n                {!editingPaymentId && formFields.length > 1 && (\r\n                  <div className=\"flex justify-end mt-3\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => handleRemoveForm(index)}\r\n                      className=\"text-red-500 hover:text-red-600 transition-colors flex items-center text-sm\"\r\n                    >\r\n                      <Trash2 className=\"w-4 h-4 mr-1\" /> Eliminar este pago\r\n                    </button>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            ))}\r\n\r\n            <div className=\"mt-4 sm:mt-6 flex flex-wrap justify-center sm:justify-start gap-3 sm:gap-4\">\r\n              {!editingPaymentId && (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={handleAddAnotherForm}\r\n                  className={`px-4 py-2 sm:px-5 sm:py-2.5 rounded-lg flex items-center justify-center space-x-1 sm:space-x-2 transition-colors duration-200 text-xs sm:text-sm\r\n                    ${theme === 'dark' ? 'bg-blue-700 hover:bg-blue-800' : 'bg-blue-600 hover:bg-blue-700'} text-white shadow-md`}\r\n                >\r\n                  <PlusCircle className=\"w-4 h-4\" />\r\n                  <span>Agregar Otro Pago</span>\r\n                </button>\r\n              )}\r\n              <button\r\n                type=\"submit\"\r\n                className={`px-4 py-2 sm:px-5 sm:py-2.5 rounded-lg flex items-center justify-center space-x-1 sm:space-x-2 transition-colors duration-200 text-xs sm:text-sm\r\n                  ${theme === 'dark' ? 'bg-purple-700 hover:bg-purple-800' : 'bg-purple-600 hover:bg-purple-700'} text-white shadow-md`}\r\n              >\r\n                <PlusCircle className=\"w-4 h-4\" />\r\n                <span>{editingPaymentId ? 'Actualizar Pago' : 'Guardar Pagos'}</span>\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {/* Vista de Dashboard de Tiendas o Detalles de Tienda */}\r\n      {!showForm && ( // Solo muestra esta sección si el formulario no está abierto\r\n        <div className={`p-4 sm:p-6 rounded-xl shadow-xl max-h-[70vh] overflow-y-auto custom-scrollbar ${\r\n          theme === 'dark' ? 'bg-gray-800 border border-gray-700' : 'bg-white border border-gray-200'\r\n        } mb-6`}>\r\n          {showStoreDetails ? (\r\n            // --- Vista de Pagos Detallados por Tienda ---\r\n            <div>\r\n              <button\r\n                onClick={handleBackToDashboard}\r\n                className={`mb-4 px-3 py-1.5 rounded-full flex items-center space-x-2 transition-colors duration-200 text-sm\r\n                  ${theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600 text-gray-200' : 'bg-gray-200 hover:bg-gray-300 text-gray-800'} shadow-md`}\r\n              >\r\n                <ChevronLeft className=\"w-4 h-4\" />\r\n                <span>Volver al Dashboard de Tiendas</span>\r\n              </button>\r\n              <h3 className={`text-xl sm:text-2xl font-bold mb-4 ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>\r\n                Pagos en {selectedStore}\r\n                <span className=\"ml-2 text-blue-500\">\r\n                    ({copFormatter.format(totalExpensesByStore[selectedStore] || 0)})\r\n                </span>\r\n              </h3>\r\n              {Object.keys(groupedPaymentsByStoreAndDate[selectedStore] || {}).length === 0 ? (\r\n                <p className=\"text-center text-gray-500 dark:text-gray-400 py-4 sm:py-8 text-sm sm:text-base\">\r\n                  No hay pagos registrados para {selectedStore}.\r\n                </p>\r\n              ) : (\r\n                Object.entries(groupedPaymentsByStoreAndDate[selectedStore]).map(([date, dailyPayments]) => (\r\n                  <div key={date} className=\"mb-6\">\r\n                    <h4 className={`text-lg font-semibold mb-3 px-3 py-2 rounded-lg ${\r\n                        theme === 'dark' ? 'bg-gray-700 text-white' : 'bg-gray-100 text-gray-800'\r\n                    }`}>\r\n                        📅 {date}\r\n                    </h4>\r\n                    <div className=\"space-y-2\">\r\n                      {dailyPayments.map(payment => (\r\n                        <div\r\n                          key={payment.id}\r\n                          className={`p-3 rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center transition-colors duration-200\r\n                            ${theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600 text-gray-100' : 'bg-gray-100 hover:bg-gray-200 text-gray-900'} shadow-sm`}\r\n                        >\r\n                          <div className=\"flex-grow mb-1 sm:mb-0\">\r\n                            <p className=\"text-sm sm:text-base font-medium\">\r\n                              <span className=\"text-blue-400\">{payment.name}</span> {payment.units ? `(${payment.units} unidades)` : ''} - <strong>{copFormatter.format(payment.amount)}</strong>\r\n                            </p>\r\n                            <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-0.5\">\r\n                              Fecha de Registro: {new Date(payment.timestamp?.toDate()).toLocaleString('es-CO', { dateStyle: 'short', timeStyle: 'short' })}\r\n                            </p>\r\n                          </div>\r\n                          <div className=\"flex space-x-2 mt-2 sm:mt-0\">\r\n                            <button\r\n                              onClick={() => handleEdit(payment)}\r\n                              className=\"text-yellow-500 hover:text-yellow-400 p-1.5 sm:p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\"\r\n                              title=\"Editar pago\"\r\n                            >\r\n                              <Edit2 className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                            </button>\r\n                            <button\r\n                              onClick={() => handleDelete(payment.id)}\r\n                              className=\"text-red-500 hover:text-red-400 p-1.5 sm:p-2 rounded-full hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors\"\r\n                              title=\"Eliminar pago\"\r\n                            >\r\n                              <Trash2 className=\"w-4 h-4 sm:w-5 sm:h-5\" />\r\n                            </button>\r\n                          </div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  </div>\r\n                ))\r\n              )}\r\n            </div>\r\n          ) : (\r\n            // --- Vista de Dashboard con Totales por Tienda ---\r\n            <div>\r\n              <h3 className={`text-xl sm:text-2xl font-bold mb-4 ${theme === 'dark' ? 'text-white' : 'text-gray-900'}`}>\r\n                Gastos por Tienda 📊\r\n              </h3>\r\n              {Object.keys(totalExpensesByStore).length === 0 ? (\r\n                <p className=\"text-center text-gray-500 dark:text-gray-400 py-4 sm:py-8 text-sm sm:text-base\">\r\n                  No hay tiendas con gastos registrados.\r\n                </p>\r\n              ) : (\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                  {Object.entries(totalExpensesByStore).map(([store, total]) => (\r\n                    <div\r\n                      key={store}\r\n                      onClick={() => handleViewStoreDetails(store)}\r\n                      className={`p-4 sm:p-5 rounded-lg shadow-md cursor-pointer transition-transform duration-200 hover:scale-[1.02]\r\n                        ${theme === 'dark' ? 'bg-gray-700 hover:bg-gray-600 text-gray-100' : 'bg-blue-50 hover:bg-blue-100 text-gray-900'} border border-transparent hover:border-blue-400`}\r\n                    >\r\n                      <h4 className=\"text-lg font-semibold mb-1 flex items-center\">\r\n                        <span className=\"text-blue-500 mr-2\">🛍️</span> {store}\r\n                      </h4>\r\n                      <p className=\"text-xl font-bold text-red-400\">\r\n                        {copFormatter.format(total)}\r\n                      </p>\r\n                      <button\r\n                        onClick={(e) => { e.stopPropagation(); handleViewStoreDetails(store); }} // Evita que el click en el botón active el div\r\n                        className=\"mt-2 text-blue-600 dark:text-blue-400 hover:underline text-sm\"\r\n                      >\r\n                        Ver todos los pagos\r\n                      </button>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Payments;","import { CamelToPascal } from './utility-types';\n\n/**\n * Converts string to kebab case\n *\n * @param {string} string\n * @returns {string} A kebabized string\n */\nexport const toKebabCase = (string: string) =>\n  string.replace(/([a-z0-9])([A-Z])/g, '$1-$2').toLowerCase();\n\n/**\n * Converts string to camel case\n *\n * @param {string} string\n * @returns {string} A camelized string\n */\nexport const toCamelCase = <T extends string>(string: T) =>\n  string.replace(/^([A-Z])|[\\s-_]+(\\w)/g, (match, p1, p2) =>\n    p2 ? p2.toUpperCase() : p1.toLowerCase(),\n  );\n\n/**\n * Converts string to pascal case\n *\n * @param {string} string\n * @returns {string} A pascalized string\n */\nexport const toPascalCase = <T extends string>(string: T): CamelToPascal<T> => {\n  const camelCase = toCamelCase(string);\n\n  return (camelCase.charAt(0).toUpperCase() + camelCase.slice(1)) as CamelToPascal<T>;\n};\n\n/**\n * Merges classes into a single string\n *\n * @param {array} classes\n * @returns {string} A string of classes\n */\nexport const mergeClasses = <ClassType = string | undefined | null>(...classes: ClassType[]) =>\n  classes\n    .filter((className, index, array) => {\n      return (\n        Boolean(className) &&\n        (className as string).trim() !== '' &&\n        array.indexOf(className) === index\n      );\n    })\n    .join(' ')\n    .trim();\n\n/**\n * Check if a component has an accessibility prop\n *\n * @param {object} props\n * @returns {boolean} Whether the component has an accessibility prop\n */\nexport const hasA11yProp = (props: Record<string, any>) => {\n  for (const prop in props) {\n    if (prop.startsWith('aria-') || prop === 'role' || prop === 'title') {\n      return true;\n    }\n  }\n};\n","export default {\n  xmlns: 'http://www.w3.org/2000/svg',\n  width: 24,\n  height: 24,\n  viewBox: '0 0 24 24',\n  fill: 'none',\n  stroke: 'currentColor',\n  strokeWidth: 2,\n  strokeLinecap: 'round',\n  strokeLinejoin: 'round',\n};\n","import { createElement, forwardRef } from 'react';\nimport defaultAttributes from './defaultAttributes';\nimport { IconNode, LucideProps } from './types';\nimport { mergeClasses, hasA11yProp } from '@lucide/shared';\n\ninterface IconComponentProps extends LucideProps {\n  iconNode: IconNode;\n}\n\n/**\n * Lucide icon component\n *\n * @component Icon\n * @param {object} props\n * @param {string} props.color - The color of the icon\n * @param {number} props.size - The size of the icon\n * @param {number} props.strokeWidth - The stroke width of the icon\n * @param {boolean} props.absoluteStrokeWidth - Whether to use absolute stroke width\n * @param {string} props.className - The class name of the icon\n * @param {IconNode} props.children - The children of the icon\n * @param {IconNode} props.iconNode - The icon node of the icon\n *\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst Icon = forwardRef<SVGSVGElement, IconComponentProps>(\n  (\n    {\n      color = 'currentColor',\n      size = 24,\n      strokeWidth = 2,\n      absoluteStrokeWidth,\n      className = '',\n      children,\n      iconNode,\n      ...rest\n    },\n    ref,\n  ) =>\n    createElement(\n      'svg',\n      {\n        ref,\n        ...defaultAttributes,\n        width: size,\n        height: size,\n        stroke: color,\n        strokeWidth: absoluteStrokeWidth ? (Number(strokeWidth) * 24) / Number(size) : strokeWidth,\n        className: mergeClasses('lucide', className),\n        ...(!children && !hasA11yProp(rest) && { 'aria-hidden': 'true' }),\n        ...rest,\n      },\n      [\n        ...iconNode.map(([tag, attrs]) => createElement(tag, attrs)),\n        ...(Array.isArray(children) ? children : [children]),\n      ],\n    ),\n);\n\nexport default Icon;\n","import { createElement, forwardRef } from 'react';\nimport { mergeClasses, toKebabCase, toPascalCase } from '@lucide/shared';\nimport { IconNode, LucideProps } from './types';\nimport Icon from './Icon';\n\n/**\n * Create a Lucide icon component\n * @param {string} iconName\n * @param {array} iconNode\n * @returns {ForwardRefExoticComponent} LucideIcon\n */\nconst createLucideIcon = (iconName: string, iconNode: IconNode) => {\n  const Component = forwardRef<SVGSVGElement, LucideProps>(({ className, ...props }, ref) =>\n    createElement(Icon, {\n      ref,\n      iconNode,\n      className: mergeClasses(\n        `lucide-${toKebabCase(toPascalCase(iconName))}`,\n        `lucide-${iconName}`,\n        className,\n      ),\n      ...props,\n    }),\n  );\n\n  Component.displayName = toPascalCase(iconName);\n\n  return Component;\n};\n\nexport default createLucideIcon;\n","import createLucideIcon from '../createLucideIcon';\nimport { IconNode } from '../types';\n\nexport const __iconNode: IconNode = [\n  ['path', { d: 'M3 6h18', key: 'd0wm0j' }],\n  ['path', { d: 'M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6', key: '4alrt4' }],\n  ['path', { d: 'M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2', key: 'v07s0e' }],\n  ['line', { x1: '10', x2: '10', y1: '11', y2: '17', key: '1uufr5' }],\n  ['line', { x1: '14', x2: '14', y1: '11', y2: '17', key: 'xtxkd' }],\n];\n\n/**\n * @component @name Trash2\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMyA2aDE4IiAvPgogIDxwYXRoIGQ9Ik0xOSA2djE0YzAgMS0xIDItMiAySDdjLTEgMC0yLTEtMi0yVjYiIC8+CiAgPHBhdGggZD0iTTggNlY0YzAtMSAxLTIgMi0yaDRjMSAwIDIgMSAyIDJ2MiIgLz4KICA8bGluZSB4MT0iMTAiIHgyPSIxMCIgeTE9IjExIiB5Mj0iMTciIC8+CiAgPGxpbmUgeDE9IjE0IiB4Mj0iMTQiIHkxPSIxMSIgeTI9IjE3IiAvPgo8L3N2Zz4K) - https://lucide.dev/icons/trash-2\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Trash2 = createLucideIcon('trash-2', __iconNode);\n\nexport default Trash2;\n"],"names":["CircleX","createLucideIcon","cx","cy","r","key","d","CirclePlus","ChevronLeft","Pen","copFormatter","Intl","NumberFormat","style","currency","minimumFractionDigits","_ref","setError","setSuccess","theme","payments","setPayments","useState","formFields","setFormFields","name","units","amount","store","editingPaymentId","setEditingPaymentId","showForm","setShowForm","initialStore","setInitialStore","selectedStore","setSelectedStore","showStoreDetails","setShowStoreDetails","useEffect","paymentsQuery","query","collection","db","orderBy","unsubscribe","onSnapshot","snapshot","docs","map","doc","id","data","error","message","handleFormInputChange","index","e","value","target","cleanValue","replace","updatedFormFields","groupedPaymentsByStoreAndDate","useMemo","reduce","acc","payment","date","timestamp","Date","toDate","toLocaleDateString","year","month","day","push","totalExpensesByStore","totals","forEach","totalOverallExpenses","sum","handleViewStoreDetails","storeName","_jsxs","className","children","_jsx","format","onClick","XCircle","PlusCircle","onSubmit","preventDefault","async","paymentsToSave","errors","parseInt","isNaN","length","join","paymentToUpdate","updateDoc","promises","addDoc","Promise","all","handleSaveAllForms","field","htmlFor","type","onChange","placeholder","required","onBlur","filter","_","i","handleRemoveForm","Trash2","handleAddAnotherForm","_formFields","lastStore","handleBackToDashboard","Object","keys","entries","_ref2","dailyPayments","_payment$timestamp","toLocaleString","dateStyle","timeStyle","toString","handleEdit","title","Edit2","window","confirm","deleteDoc","handleDelete","_ref3","total","stopPropagation","toPascalCase","string","camelCase","match","p1","p2","toUpperCase","toLowerCase","toCamelCase","charAt","slice","mergeClasses","_len","arguments","classes","Array","_key","array","Boolean","trim","indexOf","hasA11yProp","props","prop","startsWith","defaultAttributes","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","Icon","forwardRef","ref","color","size","absoluteStrokeWidth","iconNode","rest","createElement","Number","tag","attrs","isArray","iconName","Component","displayName","x1","x2","y1","y2"],"sourceRoot":""}