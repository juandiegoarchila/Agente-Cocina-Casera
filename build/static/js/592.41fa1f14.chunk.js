"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[592],{2811:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(5043);function s(e,t){let{title:a,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))}const i=r.forwardRef(s)},6592:(e,t,a)=>{a.r(t),a.d(t,{default:()=>f});var r=a(5043),s=a(1958),i=a(5472),n=a(8662);function l(e,t){let{title:a,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const o=r.forwardRef(l);function d(e,t){let{title:a,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const c=r.forwardRef(d);function m(e,t){let{title:a,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const h=r.forwardRef(m);var x=a(2811),g=a(9248),u=a(7591),p=a(579);const b=e=>{let{id:t,label:a,checked:r,onChange:s,theme:i}=e;return(0,p.jsxs)("div",{className:"flex items-center cursor-pointer",children:[(0,p.jsx)("input",{type:"checkbox",id:t,checked:r,onChange:s,className:"hidden"}),(0,p.jsxs)("label",{htmlFor:t,className:"flex items-center cursor-pointer",children:[(0,p.jsx)("div",{className:"w-5 h-5 border-2 rounded flex items-center justify-center transition-all duration-200\n        "+(r?"bg-blue-600 border-blue-600":"bg-transparent "+("dark"===i?"border-gray-500":"border-gray-400")),children:r&&(0,p.jsx)("svg",{className:"w-3 h-3 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"3",children:(0,p.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 13l4 4L19 7"})})}),(0,p.jsx)("span",{className:"ml-2 text-sm "+("dark"===i?"text-gray-200":"text-gray-700"),children:a})]})]})},f=e=>{let{setError:t,setSuccess:a,theme:l}=e;const[d,m]=(0,r.useState)("soups"),[f,w]=(0,r.useState)([]),[y,v]=(0,r.useState)({name:"",description:"",emoji:"",price:"",isNew:!1}),[j,N]=(0,r.useState)(null),[k,C]=(0,r.useState)({name:"",description:"",emoji:"",price:"",isNew:!1,isFinished:!1}),[E,F]=(0,r.useState)(!1),[L,A]=(0,r.useState)(!1),[$,M]=(0,r.useState)(null),[S,O]=(0,r.useState)(""),B={soups:"Sopas",soupReplacements:"Reemplazos de Sopa",principles:"Principios",proteins:"Prote\xednas",drinks:"Bebidas",sides:"Acompa\xf1amientos",additions:"Adiciones",times:"Horarios",paymentMethods:"M\xe9todos de Pago"},P=Object.keys(B),R=(0,r.useRef)(null);(0,r.useEffect)(()=>{const e=(0,i.P)((0,i.rJ)(s.db,d),(0,i.My)("createdAt","asc")),a=(0,i.aQ)(e,e=>{if(w(e.docs.map(e=>({id:e.id,...e.data()}))),R.current){const{scrollHeight:e,clientHeight:t,scrollTop:a}=R.current;e-a<t+100&&(R.current.scrollTop=e)}},e=>t(`Error cargando datos: ${e.message}`));return()=>a()},[d,t]);const D=f.filter(e=>e.name.toLowerCase().includes(S.toLowerCase())||e.description&&e.description.toLowerCase().includes(S.toLowerCase())),H=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return`p-3 rounded-lg w-full transition-all duration-200 focus:ring-2 focus:ring-blue-500 focus:outline-none ${"dark"===l?"bg-gray-700 text-gray-100 placeholder-gray-400":(e?"bg-gray-200":"bg-white")+" text-gray-800 placeholder-gray-500 border border-gray-300"}`},I=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"dark"===l?e?"bg-gray-800":"bg-gray-900":e?"bg-white":"bg-gray-50"};return(0,p.jsxs)("div",{className:`min-h-screen ${I(!0)} text-gray-100 p-4 sm:p-6 lg:p-8 flex flex-col md:flex-row gap-6`,children:[(0,p.jsxs)("aside",{className:`w-full md:w-64 flex-shrink-0 ${I()} p-4 sm:p-6 rounded-xl shadow-lg border ${"dark"===l?"border-gray-700":"border-gray-200"} `,children:[(0,p.jsx)("h2",{className:"text-xl font-bold mb-4 md:mb-6 text-gray-200 dark:text-white",children:"Categor\xedas"}),(0,p.jsxs)("nav",{className:"flex md:flex-col gap-2 md:gap-3 overflow-x-auto whitespace-nowrap md:whitespace-normal custom-scrollbar-horizontal pb-2 md:pb-0",children:[" ",P.map(e=>(0,p.jsx)("button",{onClick:()=>m(e),className:"flex-shrink-0 md:flex-shrink w-auto md:w-full text-left px-3 py-1.5 md:px-4 md:py-2 rounded-lg transition-all duration-200 text-sm font-medium\n                "+(d===e?"bg-blue-600 text-white shadow-md":""+("dark"===l?"bg-gray-700 hover:bg-gray-600 text-gray-300":"bg-gray-100 hover:bg-gray-200 text-gray-800")),children:B[e]},e))]})]}),(0,p.jsxs)("main",{className:`flex-1 ${I()} p-4 sm:p-6 rounded-xl shadow-lg border ${"dark"===l?"border-gray-700":"border-gray-200"} `,children:[(0,p.jsxs)("h2",{className:"text-xl sm:text-2xl font-extrabold mb-4 sm:mb-6 text-gray-200 dark:text-white flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3 sm:gap-0",children:[" ",(0,p.jsxs)("span",{children:["Gesti\xf3n de ",B[d]]}),(0,p.jsxs)("button",{onClick:()=>F(!E),className:"flex items-center px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 shadow-md text-sm sm:text-base w-full sm:w-auto justify-center",children:[(0,p.jsx)(n.A,{className:"h-5 w-5 mr-2"}),E?"Ocultar Formulario":`A\xf1adir ${B[d]}`]})]}),(0,p.jsx)("div",{className:"transition-all duration-500 ease-in-out overflow-hidden "+(E?"max-h-screen opacity-100":"max-h-0 opacity-0"),children:(0,p.jsxs)("div",{className:`${I()} p-4 sm:p-6 rounded-lg mb-6 shadow-inner`,children:[" ",(0,p.jsxs)("h3",{className:"text-lg font-semibold mb-4 text-gray-200 dark:text-white flex items-center",children:[(0,p.jsx)(n.A,{className:"h-5 w-5 mr-2 text-green-400"})," Agregar Nuevo ",B[d]]}),(0,p.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,p.jsx)("input",{value:y.name,onChange:e=>v({...y,name:e.target.value}),placeholder:`Nombre de ${B[d]}`,className:H()}),(0,p.jsx)("input",{value:y.emoji,onChange:e=>v({...y,emoji:e.target.value}),placeholder:"Emoji (ej. \ud83c\udf5c)",className:H()})]}),(0,p.jsx)("textarea",{value:y.description,onChange:e=>v({...y,description:e.target.value}),placeholder:"Descripci\xf3n (opcional)",className:`${H()} mt-4`,rows:"2"}),"additions"===d&&(0,p.jsx)("input",{value:y.price,onChange:e=>v({...y,price:e.target.value}),placeholder:"Precio (COP)",type:"number",min:"0",step:"any",className:`${H()} mt-4`}),"times"!==d&&"paymentMethods"!==d&&(0,p.jsx)("div",{className:"mt-4",children:(0,p.jsx)(b,{id:"isNew",label:"Marcar como 'Nuevo'",checked:y.isNew,onChange:e=>v({...y,isNew:e.target.checked}),theme:l})}),(0,p.jsxs)("button",{onClick:async()=>{if(y.name.trim())if("additions"===d&&(!y.price||isNaN(parseFloat(y.price))||parseFloat(y.price)<=0))t("El precio debe ser un n\xfamero v\xe1lido mayor a 0 para Adiciones");else try{const e={name:y.name.trim(),description:y.description.trim(),emoji:y.emoji.trim(),isNew:y.isNew,createdAt:new Date};"additions"===d&&(e.price=parseFloat(y.price)),await(0,i.gS)((0,i.rJ)(s.db,d),e),v({name:"",description:"",emoji:"",price:"",isNew:!1}),F(!1),window.dispatchEvent(new Event("optionsUpdated")),a(`"${e.name}" agregado exitosamente.`)}catch(e){t(`Error al agregar: ${e.message}`)}else t("El nombre no puede estar vac\xedo")},className:"mt-6 w-full py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold rounded-lg shadow-md transition-all duration-300 transform hover:scale-105",children:["Agregar ",B[d]]})]})}),(0,p.jsxs)("div",{className:"mt-8",children:[(0,p.jsxs)("h3",{className:"text-xl font-bold mb-4 text-gray-200 dark:text-white flex items-center",children:[(0,p.jsx)(o,{className:"h-5 w-5 mr-2 text-blue-400"})," Lista de ",B[d]]}),(0,p.jsxs)("div",{className:"relative mb-4",children:[(0,p.jsx)("input",{type:"text",placeholder:"Buscar...",value:S,onChange:e=>O(e.target.value),className:`${H(!1)} pl-10`}),(0,p.jsx)(o,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 "+("dark"===l?"text-gray-400":"text-gray-600")})]}),0===D.length&&""!==S?(0,p.jsxs)("p",{className:"text-center py-8 "+("dark"===l?"text-gray-400":"text-gray-600"),children:['No se encontraron resultados para "',S,'".']}):0===D.length?(0,p.jsx)("p",{className:"text-center py-8 "+("dark"===l?"text-gray-400":"text-gray-600"),children:"A\xfan no hay elementos en esta categor\xeda. \xa1Agrega uno!"}):(0,p.jsxs)("div",{ref:R,className:"space-y-4 max-h-[calc(100vh-300px)] md:max-h-[calc(100vh-350px)] overflow-y-auto pr-2 custom-scrollbar",children:[" ",D.map(e=>(0,p.jsxs)("div",{className:"p-4 rounded-lg flex flex-col sm:flex-row justify-between items-start sm:items-center transition-all duration-300 shadow-md transform hover:-translate-y-1 hover:shadow-lg\n                    "+(e.isFinished?"bg-red-800/20 text-red-200 border border-red-700/50":"dark"===l?"bg-gray-700/50 text-gray-100 border border-gray-600":"bg-blue-50/50 text-gray-900 border border-blue-100"),children:[(0,p.jsxs)("div",{className:"flex flex-col flex-grow mb-3 sm:mb-0",children:[(0,p.jsxs)("div",{className:"flex items-center flex-wrap",children:[" ",e.emoji&&(0,p.jsx)("span",{className:"mr-2 text-xl",children:e.emoji}),(0,p.jsx)("span",{className:"text-lg font-semibold "+(e.isFinished?"line-through text-gray-400":""),children:e.name}),e.isNew&&(0,p.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-green-500/20 text-green-300 text-xs font-bold rounded-full mt-1 sm:mt-0",children:"NUEVO"}),e.isFinished&&(0,p.jsx)("span",{className:"ml-2 px-2 py-0.5 bg-red-500/20 text-red-300 text-xs font-bold rounded-full mt-1 sm:mt-0",children:"AGOTADO"})]}),e.description&&(0,p.jsx)("p",{className:"text-sm mt-1 "+("dark"===l?"text-gray-300":"text-gray-700"),children:e.description}),void 0!==e.price&&(0,p.jsxs)("p",{className:"text-sm mt-1 font-medium "+("dark"===l?"text-gray-200":"text-gray-800"),children:["Precio: $",e.price.toLocaleString("es-CO",{minimumFractionDigits:0,maximumFractionDigits:0})]})]}),(0,p.jsxs)("div",{className:"flex gap-2 flex-wrap justify-end w-full sm:w-auto",children:["times"!==d&&"paymentMethods"!==d&&(0,p.jsx)("button",{onClick:()=>(async e=>{try{await(0,i.mZ)((0,i.H9)(s.db,d,e.id),{isFinished:!e.isFinished}),a(`"${e.name}" ${e.isFinished?"marcado como disponible":"marcado como agotado"}.`)}catch(r){t(`Error al actualizar: ${r.message}`)}})(e),className:"p-2 rounded-full transition-all duration-300 transform hover:scale-110\n                            "+(e.isFinished?"bg-yellow-500 hover:bg-yellow-600 text-white":"dark"===l?"bg-gray-600 hover:bg-gray-500 text-gray-200":"bg-gray-200 hover:bg-gray-300 text-gray-700"),title:e.isFinished?"Marcar como Disponible":"Marcar como Agotado",children:e.isFinished?(0,p.jsx)(c,{className:"w-5 h-5"}):(0,p.jsx)(h,{className:"w-5 h-5"})}),(0,p.jsx)("button",{onClick:()=>(e=>{N(e),C({...e,price:void 0!==e.price?e.price.toString():"",isFinished:e.isFinished||!1})})(e),className:"p-2 rounded-full bg-blue-600 hover:bg-blue-700 text-white transition-all duration-300 transform hover:scale-110",title:"Editar",children:(0,p.jsx)(x.A,{className:"w-5 h-5"})}),(0,p.jsx)("button",{onClick:()=>{return t=e.id,a=e.name,M({id:t,name:a}),void A(!0);var t,a},className:"p-2 rounded-full bg-red-600 hover:bg-red-700 text-white transition-all duration-300 transform hover:scale-110",title:"Eliminar",children:(0,p.jsx)(g.A,{className:"w-5 h-5"})})]})]},e.id))]})]})]}),j&&(0,p.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in",children:(0,p.jsxs)("div",{className:`relative ${I()} p-6 rounded-xl w-full max-w-md max-h-[90vh] overflow-y-auto shadow-2xl transform scale-95 animate-scale-in`,children:[(0,p.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,p.jsxs)("h2",{className:"text-xl font-bold text-gray-200 dark:text-white",children:["Editar ",j.name]}),(0,p.jsx)("button",{onClick:()=>N(null),className:"text-gray-400 hover:text-gray-200 p-1 rounded-full hover:bg-gray-700 transition-colors",children:(0,p.jsx)(u.A,{className:"h-7 w-7"})})]}),(0,p.jsxs)("div",{className:"space-y-4",children:[(0,p.jsx)("input",{value:k.name,onChange:e=>C({...k,name:e.target.value}),className:H(!1),placeholder:"Nombre"}),(0,p.jsx)("textarea",{value:k.description,onChange:e=>C({...k,description:e.target.value}),placeholder:"Descripci\xf3n",className:H(!1),rows:"3"}),(0,p.jsx)("input",{value:k.emoji,onChange:e=>C({...k,emoji:e.target.value}),placeholder:"Emoji",className:H(!1)}),"additions"===d&&(0,p.jsx)("input",{value:k.price,onChange:e=>C({...k,price:e.target.value}),placeholder:"Precio (COP)",type:"number",min:"0",step:"any",className:H(!1)}),"times"!==d&&"paymentMethods"!==d&&(0,p.jsxs)("div",{className:"space-y-3",children:[(0,p.jsx)(b,{id:"editIsNew",label:"Marcar como 'Nuevo'",checked:k.isNew,onChange:e=>C({...k,isNew:e.target.checked}),theme:l}),(0,p.jsx)(b,{id:"editIsFinished",label:"Marcar como 'Agotado'",checked:k.isFinished,onChange:e=>C({...k,isFinished:e.target.checked}),theme:l})]})]}),(0,p.jsxs)("div",{className:"flex gap-4 mt-6",children:[(0,p.jsx)("button",{onClick:async()=>{if(k.name.trim())if("additions"===d&&(!k.price||isNaN(parseFloat(k.price))||parseFloat(k.price)<=0))t("El precio debe ser un n\xfamero v\xe1lido mayor a 0 para Adiciones");else try{const e={name:k.name.trim(),description:k.description.trim(),emoji:k.emoji.trim(),isNew:k.isNew,isFinished:k.isFinished||!1,updatedAt:new Date};"additions"===d&&(e.price=parseFloat(k.price)),await(0,i.mZ)((0,i.H9)(s.db,d,j.id),e),N(null),a(`"${e.name}" actualizado exitosamente.`)}catch(e){t(`Error al actualizar: ${e.message}`)}else t("El nombre no puede estar vac\xedo")},className:"flex-1 py-3 bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white font-semibold rounded-lg shadow-md transition-all duration-300 transform hover:scale-105",children:"Guardar Cambios"}),(0,p.jsx)("button",{onClick:()=>N(null),className:"flex-1 py-3 bg-gray-600 hover:bg-gray-700 text-gray-200 font-semibold rounded-lg shadow-md transition-all duration-300 transform hover:scale-105",children:"Cancelar"})]})]})}),L&&$&&(0,p.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-70 flex items-center justify-center z-50 p-4 animate-fade-in",children:(0,p.jsxs)("div",{className:`relative ${I()} p-6 rounded-xl w-full max-w-sm shadow-2xl transform scale-95 animate-scale-in text-center`,children:[(0,p.jsx)(u.A,{className:"absolute top-4 right-4 h-6 w-6 text-gray-400 cursor-pointer hover:text-gray-200",onClick:()=>A(!1)}),(0,p.jsx)("h3",{className:"text-xl font-bold mb-4 text-red-400",children:"Confirmar Eliminaci\xf3n"}),(0,p.jsxs)("p",{className:"text-gray-200 mb-6",children:['\xbfEst\xe1s seguro de que quieres eliminar "',(0,p.jsx)("span",{className:"font-semibold",children:$.name}),'"? Esta acci\xf3n no se puede deshacer.']}),(0,p.jsxs)("div",{className:"flex gap-4",children:[(0,p.jsx)("button",{onClick:async()=>{try{await(0,i.kd)((0,i.H9)(s.db,d,$.id)),a(`"${$.name}" eliminado exitosamente.`),A(!1),M(null)}catch(e){t(`Error al eliminar: ${e.message}`)}},className:"flex-1 py-2 bg-red-600 hover:bg-red-700 text-white font-semibold rounded-lg shadow-md transition-all duration-300 transform hover:scale-105",children:"S\xed, Eliminar"}),(0,p.jsx)("button",{onClick:()=>A(!1),className:"flex-1 py-2 bg-gray-600 hover:bg-gray-700 text-gray-200 font-semibold rounded-lg shadow-md transition-all duration-300 transform hover:scale-105",children:"Cancelar"})]})]})})]})}},8662:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(5043);function s(e,t){let{title:a,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const i=r.forwardRef(s)},9248:(e,t,a)=>{a.d(t,{A:()=>i});var r=a(5043);function s(e,t){let{title:a,titleId:s,...i}=e;return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":s},i),a?r.createElement("title",{id:s},a):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const i=r.forwardRef(s)}}]);
//# sourceMappingURL=592.41fa1f14.chunk.js.map